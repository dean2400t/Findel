{"version":3,"sources":["components/SearchPageComponents/sitesInSearch/ASiteInSearch.jsx","components/SearchPageComponents/sitesInSearch/SitesToSearch.jsx","components/SearchPageComponents/expandedContents/Acontent.jsx","components/SearchPageComponents/expandedContents/ExpandedContents.jsx","components/SearchPageComponents/refSites/ref_site_functions.js","components/SearchPageComponents/refSites/ArefSite.jsx","components/SearchPageComponents/refSites/RefSites.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousTitle.jsx","components/SearchPageComponents/AmbigousContent/AAAmbigousSubject.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousSubjects.jsx","components/SearchPageComponents/AmbigousContent/Ambigous.jsx","components/SearchPageComponents/sitesInSearch/rabinKarpSearch.js","components/SearchPageComponents/sitesInSearch/jaccard_similarity.js","components/SearchPageComponents/sitesInSearch/search_functions.js","components/SearchPage.jsx","components/LoginPage.jsx","components/RegistrationComponents/checkForms.js","components/RegistrationComponents/teacherRegister.jsx","components/RegistrationComponents/adminRegister.jsx","components/RegistrationComponents/registerPage.jsx","components/RegistrationComponents/register.jsx","components/user_search_history_components/Asearch.jsx","components/user_search_history_components/searches.jsx","components/User_Search_History_Page.jsx","components/user_favorites_components/Afavorite.jsx","components/user_favorites_components/topics.jsx","components/user_favorites_components/favorites.jsx","components/User_favorites_page.jsx","components/Domains_components/Site_component.jsx","components/Domains_components/Domain_component.jsx","components/Domains_components/Domains_component.jsx","components/Domains_components/DomainsPage.jsx","components/Topics_components/topic_functions.js","components/Topics_components/Topic_component.jsx","components/Topics_components/Topics_component.jsx","components/Topics_components/topics_page.jsx","components/Site_components/site_topic_edge_function.js","components/Site_components/connected_topic_edge_component.jsx","components/Site_components/connected_topics_edges_component.jsx","components/Site_components/site_page.jsx","App.js","index.js"],"names":["ASiteInSearch","react_default","a","createElement","className","this","props","aSite","formatedURL","scrape","Component","PropsTypes","object","isRequired","SitesToSearch","sitesBeingSearched","map","aSiteInSearch","SearchPageComponents_sitesInSearch_ASiteInSearch","key","id","array","Acontent","target","rel","href","aContent","page","partition","ExpandedContents","expandedContents","SearchPageComponents_expandedContents_Acontent","Ref_site_functions","Object","classCallCheck","this_of_refSite","rank_type","up_or_down","string_for_edge_upArrow_color","string_for_edge_downArrow_color","upArrow","state","downArrow","rankCode","opts","edgeID","aRefSite","axios","post","headers","findel-auth-token","token","then","result","res_data","data","recived_time","Date","edge_ranking_date","last_ranking_timeStamp","last_ranking_id","edge_ranking_id","string_for_domain_rank_type_weight","json_for_state_change","weight","domain_weight","setState","catch","error","rank_error","response","cookies","Cookies","ref_site_functions","ArefSite","_this","possibleConstructorReturn","getPrototypeOf","call","liked_upArrow","liked_downArrow","trustworthy_upArrow","trustworthy_downArrow","educational_upArrow","educational_downArrow","user_rankings_for_edge","forEach","ranking","liked_upArrowColor","liked_downArrowColor","trustworthy_upArrowColor","trustworthy_downArrowColor","educational_upArrowColor","educational_downArrowColor","edge_liked_weight","liked_weight","edge_trustworthy_weight","trustworthy_weight","edge_educational_weight","educational_weight","userRankCode","domain_liked_weight","domain","domain_trustworthy_weight","domain_educational_weight","get","_this2","siteURL","siteSnap","react_fontawesome_index_es","icon","faArrowAltCircleUp","color","onClick","rank_click_up","faArrowAltCircleDown","rank_click_down","style","encodeURIComponent","ranking_function","RefSites","refSites","SearchPageComponents_refSites_ArefSite","AAmbigousTitle","theTitle","string","AAAmbigousSubject","subject","name","description","AAmbigousSubjects","theSubjects","aData","SearchPageComponents_AmbigousContent_AAAmbigousSubject","Ambigous","ambigousData","Fragment","SearchPageComponents_AmbigousContent_AAmbigousTitle","title","AmbigousContent_AAmbigousSubjects","subID","subjects","rabinKarpSearch","primeQ","numOfPatternsLength","numOfSites","Q","numOfChars","RMarray","push","i","R","sitesHashes","index","arr","texts","wikiLinksHashesToWordByLength","wordsMatriciesByLength","pattern","patLength","h","j","charCodeAt","wikiLinks","undefined","length","topicName","sitesHits","linkName","index_in_connected_topics_edges","hash","curLength","linksInLength","linkLength","linkIndex","link","wordsMatriciesInLenght","find","element","text","siteIndex","curNumOfChars","hashTableLength","hashedTable","txtHash","site","stringFromText","siteText","siteHashes","num_of_links_in_site","hashedLinkMartix","siteHash","textIndex","substring","Jaccard_similarity","prime_site_text","RM","prime_site_hash","creatHashTable","create_sets_array","hashed_set_array","hashed","sub_string","primeSite","site_to_compare","union","intersection","set_array","keys","set","Search_functions","request_sites_from_Server_to_use","_callee","search","this_of_searchPage","regenerator_default","wrap","_context","prev","next","sites","sitesArray","full_sites_array","domainURL","score","siteID","siteFormatedURL","user_rankings","order_index_by_google","shuffled_sites","shuffle_sites_from_google","sites_from_server_to_use","full_sites_list_from_server","message","server_message","stop","initSiteSearch","siteToSearchArray","finishedSiteFetch","resStatus","sites_and_texts","hashAndSearchSites","_callee2","html","$","_context2","cheerio","load","rabinKarp","creatHashTables","addHitsFromSite","jaccard_similarity","compute_site_similarity","was_site_searched","console","log","abrupt","request_WebScraping_for_sites","_callee3","promiseArray","_context3","is_edge_up_to_date","sitesTempState","did_finish_search","siteHTML","Promise","all","results","siteSearchFinished","rankSites","topSites","sort","site1","site2","refS","refSiteIndex","is_more_sites_button_hidden","site_displayed_so_far_index","ref_sites_for_histoty","display_expended_content","connected_topics_edges","edge1","edge2","web_scrape_score","linkHits","topic1","expandedCon","content","is_show_more_content_hidden","expandend_content_status","expandedCon_to_history","save_to_history","wikiText","curSearch","links","hashWikiLinks","refreshSearchStatus","setInterval","did_user_ended_seach","clearInterval","search_expended_content","search_button_function_stop_search","temp","rk_results","num_of_top_sites_to_use","num_of_top_sites_used","_ref4","asyncToGenerator","mark","_callee5","_context5","_this3","words_in_length","word","num_of_hits","_x11","apply","arguments","_this4","is_seach_needed","is_search_required","best_sites_results","edges_to_update","connected_topic_edge","_id","edges","search_functions","SearchPage","handleKeyPress","event","search_button_function","search_button_text","simple_search_button_text","search_button_iconClass","deep_search","simple_search_button_function","Axios","_ref3","is_simple_search_selected","search_using_wikipedia","assertThisInitialized","ambig","category","ambig_for_history","_x","respnse","history","my_search","URLSearchParams","window","location","sitesFinishedScrape","inputValue","newID","add_site_to_topic_input","add_topic_to_topic_input","add_site_to_topic_description","was_add_site_button_clicked","was_add_topic_button_clicked","search_box_textStyle","cursor","backgroundColor","src","height","width","type","value","onChange","evt","updateTXT","onKeyPress","deep_search_radio_button_clicked","checked","simple_search_radio_button_clicked","expandedContents_ExpandedContents","hidden","add_topic_button_clicked","add_topic_to_topic_change_function","add_site_button_clicked","placeholder","add_site_to_topic_change_function","add_site_to_topic_change_description_function","add_site","refSites_RefSites","more_sites_clicked","sitesInSearch_SitesToSearch","AmbigousContent_Ambigous","hidden_value","siteDescription","pathname","LoginPage","handleSubmit","userName","password","serverMessage","path","attampt","handleUserNameChange","handlePasswordChange","dataFromServer","goBack","checkForms","formsThis","userNameClass","successClass","userNameError","errorClass","userNameBlured","firstName","firstNameClass","firstNameError","chI","charAt","firstNameBlured","lastName","lastNameClass","lastNameError","lastNameBlured","email","emailClass","emailError","foundShtrude","numOfDots","chIndex","emailBlured","passClass","passError","passwordBlured","passwordClass","passwordError","CheckForms","teacherRegister","uerNameBlured","redText","onBlur","handleUserNameBlur","handlePasswordBlur","handleEmailChange","handleEmailBlur","handleFirstNameChange","handleFirstNameBlur","handleLastNameChange","handleLastNameBlur","checkUserName","checkFirstName","checkLastName","checkEmail","checkPassword","isEmailOK","isFirstNameOK","isLastNameOK","isPasswordOK","isUserNameOK","adminRegister","RegisterPage","register","BrowserRouter","Link","to","displayLoggingComponents","Route","exact","component","registerPage","Asearch","aSearch","topic","searchDate","Searches","searches","components_user_search_history_components_Asearch","UserSearchHistory","SearchHistory","searchHistory","setHistory","fontSize","textAlign","Afavorite","fav_site","Topic","user_favorites_components_Afavorite","Favorites","favorites","user_favorites_components_topics","UserFavorites","reverse","setFavorites","components_user_favorites_components_favorites","Site_component","Domain_component","Domains_components_Site_component","Domains_component","domains","Domains_components_Domain_component","request_sites_of_domain_function","DomainsPage","request_sites_of_domain","domain_id","setDomains","domain_a","domain_b","Domains_components_Domains_component","Topic_function","this_of_topic","topic_functions","Topic_functions","Topic_component","marginRight","connected_topic_name","last_web_scrape","Topics_component","topics","components_Topics_components_Topic_component","Topics_page","match","params","topic_a","topic_b","setTopics","padding","Topics_components_Topics_component","Site_topic_edge_function","this_of_edge","site_topic_edge_function","Connected_topic_edge_component","usersRanking","Connected_topics_edges_component","Site_components_connected_topic_edge_component","Site_page","site_topic_edges","edge_a","edge_b","edge","connected_topics_edges_component","createBrowserHistory","listen","action","concat","library","add","fab","faCheckSquare","faCoffee","App","userPosition","hideLogoutBTN","display","displayUserDataComponents","position","displayRegisterComponent","displayRegisterComponents","alert","logout","push_to_history_and_go","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.7bca1565.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './ASiteInSearch.css';\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PropsTypes from 'prop-types';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nclass ASiteInSearch extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"aSiteSR\">\r\n          <p>{this.props.aSite.formatedURL} <i className={this.props.aSite.scrape}></i></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nASiteInSearch.PropsTypes={\r\n  aSite: PropsTypes.object.isRequired\r\n}   \r\nexport default ASiteInSearch;","import React, { Component } from 'react';\r\nimport ASiteInSearch from './ASiteInSearch';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass SitesToSearch extends Component {\r\n    render() {\r\n        \r\n        return this.props.sitesBeingSearched.map((aSiteInSearch)=>(\r\n            <ASiteInSearch key={aSiteInSearch.id} aSite={aSiteInSearch} />\r\n          ));\r\n    }\r\n}\r\nSitesToSearch.PropsTypes={\r\n    sitesBeingSearched: PropsTypes.array.isRequired\r\n} \r\n  export default SitesToSearch;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './Acontent.css';\r\nclass Acontent extends Component {\r\n  render() {\r\n    return (\r\n      <span>\r\n        <a className=\"exContent\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.aContent.page}>{this.props.aContent.page}</a><text className=\"ex_content_partition\">{this.props.aContent.partition}</text> \r\n      </span>\r\n    );\r\n  }\r\n}\r\nAcontent.PropsTypes={\r\n    aContent: PropsTypes.object.isRequired\r\n}   \r\nexport default Acontent;","import React, { Component } from 'react';\r\nimport Acontent from './Acontent';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass ExpandedContents extends Component {\r\n    render() {\r\n        \r\n        return this.props.expandedContents.map((aContent)=>(\r\n            <Acontent key={aContent.id} aContent={aContent} />\r\n          ));\r\n    }\r\n}\r\nExpandedContents.PropsTypes={\r\n    expandedContents: PropsTypes.array.isRequired\r\n} \r\n  export default ExpandedContents;","import axios from 'axios';\r\nimport { equal } from 'assert';\r\n\r\n\r\nclass Ref_site_functions {\r\n    constructor() {\r\n    }\r\n\r\n    ranking_function(this_of_refSite, rank_type, up_or_down)\r\n    {\r\n        var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n        var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n        var upArrow = this_of_refSite.state[string_for_edge_upArrow_color];\r\n        var downArrow = this_of_refSite.state[string_for_edge_downArrow_color];\r\n\r\n        var rankCode = 0;\r\n        if (up_or_down == \"up\")\r\n        {\r\n            if (upArrow != 'green')\r\n                rankCode = 1;\r\n        }\r\n        else\r\n            if (downArrow != 'red')\r\n                rankCode = 2;\r\n\r\n        var edgeID=this_of_refSite.props.aRefSite.edgeID;\r\n        var opts={\r\n            edgeID: edgeID,\r\n            rank_type: rank_type,\r\n            rankCode: rankCode\r\n        };\r\n        axios.post(\"/api/userRanking/rank_site_topic_edge\", opts, {\r\n            headers: {'findel-auth-token': this_of_refSite.token}\r\n        })\r\n            .then((result) => {\r\n                var res_data = result.data;\r\n                var recived_time = new Date(res_data.edge_ranking_date);\r\n                if (this_of_refSite.last_ranking_timeStamp != null)\r\n                    {\r\n                        /*\r\n                         if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                         the deletion was received earlier\r\n                        */\r\n                         if (this_of_refSite.last_ranking_id == res_data.edge_ranking_id)\r\n                            if (res_data.rankCode != 0)\r\n                                return;\r\n                        \r\n                        if (recived_time - this_of_refSite.last_ranking_timeStamp < 0)\r\n                            return;\r\n                    }\r\n                this_of_refSite.last_ranking_id = res_data.edge_ranking_id;\r\n                this_of_refSite.last_ranking_timeStamp = recived_time;\r\n\r\n                var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n                var string_for_domain_rank_type_weight = \"domain_\" + rank_type + \"_weight\";\r\n\r\n                var json_for_state_change = {};\r\n                json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n                json_for_state_change[string_for_domain_rank_type_weight] = res_data.domain_weight;\r\n                if (res_data.rankCode == 0)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else if (res_data.rankCode == 1)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n                }\r\n                json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n                this_of_refSite.setState(json_for_state_change);\r\n            }).catch((error) => {\r\n                this_of_refSite.setState({rank_error: error.response.data});\r\n            });\r\n    }\r\n}\r\n\r\nexport default Ref_site_functions;","import React, { Component } from 'react';\r\nimport './ArefSite.css';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Cookies from 'universal-cookie';\r\nimport Ref_site_functions from './ref_site_functions';\r\n\r\nconst cookies = new Cookies();\r\nconst ref_site_functions=new Ref_site_functions();\r\n\r\nclass ArefSite extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var trustworthy_upArrow='black';\r\n    var trustworthy_downArrow='black';\r\n    var educational_upArrow='black';\r\n    var educational_downArrow='black';\r\n\r\n    var users_rankings = this.props.aRefSite.user_rankings_for_edge\r\n    users_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"trustworthy\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            trustworthy_upArrow = 'green'\r\n          else\r\n            trustworthy_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"educational\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            educational_upArrow = 'green'\r\n          else\r\n            educational_downArrow = 'red'\r\n        }\r\n      });\r\n    this.state = {\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      trustworthy_upArrowColor: trustworthy_upArrow,\r\n      trustworthy_downArrowColor: trustworthy_downArrow,\r\n      educational_upArrowColor: educational_upArrow,\r\n      educational_downArrowColor: educational_downArrow,\r\n      rank_error: \"\",\r\n      edge_liked_weight: this.props.aRefSite.liked_weight,\r\n      edge_trustworthy_weight: this.props.aRefSite.trustworthy_weight,\r\n      edge_educational_weight: this.props.aRefSite.educational_weight,\r\n      rankCode: this.props.aRefSite.userRankCode,\r\n      domain_liked_weight: this.props.aRefSite.domain.liked_weight,\r\n      domain_trustworthy_weight: this.props.aRefSite.domain.trustworthy_weight,\r\n      domain_educational_weight: this.props.aRefSite.domain.educational_weight\r\n    }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    var more_on_site_textStyle={color: '#0587c3'};\r\n    return (\r\n          <div className=\"aSiteRef\">\r\n            <text><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.aRefSite.siteURL}>{this.props.aRefSite.formatedURL}</a></text>\r\n            <br/><text>{this.props.aRefSite.siteSnap}</text>\r\n            <br/>\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.edge_liked_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              &nbsp;     \r\n            </text><br/>\r\n            \r\n            <text> \r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.trustworthy_upArrowColor} onClick={() => this.rank_click_up(\"trustworthy\")}/> \r\n              ({this.state.edge_trustworthy_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.trustworthy_downArrowColor} onClick={() => this.rank_click_down(\"trustworthy\")}/>\r\n              &nbsp;     \r\n            </text>\r\n            <br/>\r\n            \r\n\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n              ({this.state.edge_educational_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n              &nbsp;        \r\n            </text>\r\n\r\n            <br/><text> {this.state.domain_liked_weight}   </text>\r\n            <br/><text>{this.state.domain_trustworthy_weight}  </text>\r\n            <br/><text>{this.state.domain_educational_weight}  </text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_on_site_textStyle} href={\"/SitePage/\"+encodeURIComponent(this.props.aRefSite.formatedURL)}>  ...</a>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    ref_site_functions.ranking_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    ref_site_functions.ranking_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nArefSite.PropsTypes={\r\n    aRefSite: PropsTypes.object.isRequired\r\n}   \r\nexport default ArefSite;","import React, { Component } from 'react';\r\nimport ArefSite from './ArefSite';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass RefSites extends Component {\r\n    render() {\r\n        \r\n        return this.props.refSites.map((aRefSite)=>(\r\n            <ArefSite key={aRefSite.id} aRefSite={aRefSite} />\r\n          ));\r\n    }\r\n}\r\nRefSites.PropsTypes={\r\n    refSites: PropsTypes.array.isRequired\r\n} \r\n  export default RefSites;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAmbigousTitle.css';\r\nclass AAmbigousTitle extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"title\">\r\n      <text><u><b>{this.props.theTitle}</b></u></text>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAAmbigousTitle.PropsTypes={\r\n    theTitle: PropsTypes.string.isRequired\r\n}   \r\nexport default AAmbigousTitle;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAAmbigousSubject.css';\r\nclass AAAmbigousSubject extends Component {\r\n  render() {\r\n    return (\r\n    <div className=\"subject\">\r\n      <text>{this.props.subject.name}: {this.props.subject.description}</text>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nAAAmbigousSubject.PropsTypes={\r\n    subject: PropsTypes.object.isRequired\r\n}   \r\nexport default AAAmbigousSubject;","import React, { Component } from 'react';\r\nimport AmbigousSubject from './AAAmbigousSubject';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass AAmbigousSubjects extends Component {\r\n    render() {\r\n        \r\n        return this.props.theSubjects.map((aData)=>(\r\n                <AmbigousSubject key={aData.id} subject={aData}/>\r\n          ));\r\n          \r\n    }\r\n}\r\nAAmbigousSubjects.PropsTypes={\r\n  theSubjects: PropsTypes.array.isRequired\r\n} \r\n  export default AAmbigousSubjects;","import React, { Component } from 'react';\r\nimport AambigousTitle from './AAmbigousTitle';\r\nimport AmbigousSubjects from './AAmbigousSubjects';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Ambigous extends Component {\r\n    render() {\r\n        \r\n        return this.props.ambigousData.map((aData)=>(\r\n            <React.Fragment>\r\n                <AambigousTitle key={aData.id} theTitle={aData.title} />\r\n                <AmbigousSubjects key={aData.subID} theSubjects={aData.subjects}/>\r\n            </React.Fragment>\r\n          ));\r\n          \r\n    }\r\n}\r\nAmbigous.PropsTypes={\r\n    aData: PropsTypes.array.isRequired\r\n} \r\n  export default Ambigous;","class rabinKarpSearch {\r\n\tR;\r\n\tQ;\r\n\tnumOfChars;\r\n\tRMarray;\r\n\tconstructor(primeQ, numOfPatternsLength, numOfSites) {\r\n\t  var R = 65536;\r\n\t  var Q = primeQ;\r\n\t  var numOfChars = numOfPatternsLength;\r\n\t  var RMarray=[];\r\n\t  RMarray.push(1);\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n\t\t  RMarray.push((R * RMarray[i-1]) % Q);\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n\t  this.numOfChars=numOfPatternsLength;\r\n\t  this.RMarray=RMarray;\t\r\n\t  this.numOfSites=numOfSites;\r\n\t  \r\n\t  this.sitesHashes=[];\r\n\t  for (var index=0; index<numOfSites; index++)\r\n\t  {\r\n\t\t  var arr=[];\r\n\t\t  arr[numOfPatternsLength-1]=null;\r\n\t\t  this.sitesHashes.push(arr);\r\n\t  }\r\n\r\n\t  this.texts=[];\r\n\t  this.texts[numOfSites-1]=null;\r\n\r\n\t  this.wikiLinksHashesToWordByLength=null;\r\n\t  this.wordsMatriciesByLength=null;\r\n\t  }\r\n\t  \r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\thashWikiLinks(wikiLinks){\r\n\tvar wordsMatriciesByLength=[];\r\n\tvar wikiLinksHashesToWordByLength=[];\r\n\tfor (var index=0; index<this.numOfChars; index++)\r\n\t{\r\n\t\twikiLinksHashesToWordByLength.push([]);\r\n\t\tvar arr=[];\r\n\t\tarr[this.Q-1]=undefined;\r\n\t\twordsMatriciesByLength.push(arr);\r\n\t}\r\n\r\n\t\r\n\tfor (index=0; index<wikiLinks.length; index++)\r\n\t\tif (wikiLinks[index].topicName!=null)\r\n\t\t\tif (wikiLinks[index].topicName.length<this.numOfChars)\r\n\t\t\t{\r\n\t\t\t\tvar sitesHits=[];\r\n\t\t\t\tsitesHits[this.numOfSites-1]=null;\r\n\t\t\t\tvar page=wikiLinks[index].topicName;\r\n\t\t\t\tvar patLength=page.length-1;\r\n\t\t\t\twikiLinksHashesToWordByLength[patLength].push({linkName: page, \r\n\t\t\t\t\tindex_in_connected_topics_edges: wikiLinks[index].index_in_connected_topics_edges, \r\n\t\t\t\t\thash: -1, \r\n\t\t\t\t\tsitesHits: sitesHits});\r\n\t\t\t}\r\n\tvar curLength=1;\r\n\t\twikiLinksHashesToWordByLength.forEach(linksInLength => {\r\n\t\tif (linksInLength[0]!=null)\r\n\t\t{\r\n\t\t\tvar linkLength=curLength;\r\n\t\t\tvar linkIndex=0;\r\n\t\t\tlinksInLength.forEach(link => {\r\n\t\t\t\tlink.hash=this.hash(link.linkName, linkLength);\r\n\t\t\t\tvar wordsMatriciesInLenght=wordsMatriciesByLength[linkLength-1];\r\n\t\t\t\tif (wordsMatriciesInLenght[link.hash]==undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\twordsMatriciesInLenght[link.hash]=[{\r\n\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar findIfLinkAlreadyInHashInMatrix=wordsMatriciesInLenght[link.hash].find(element=>{\r\n\t\t\t\t\t\treturn element.linkName=link.linkName;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!findIfLinkAlreadyInHashInMatrix)\r\n\t\t\t\t\t\twordsMatriciesInLenght[link.hash].push({\r\n\t\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlinkIndex++;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\tcurLength++;\r\n\t});\r\n\tthis.wikiLinksHashesToWordByLength=wikiLinksHashesToWordByLength;\r\n\tthis.wordsMatriciesByLength=wordsMatriciesByLength;\r\n\t}\r\n\r\n\tcreatHashTables(text, siteIndex) {\r\n\t\tfor (var curNumOfChars=1; curNumOfChars<=this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashTableLength=text.length-curNumOfChars+1;\r\n\t\t\tvar hashedTable=[];\r\n\t\t\tvar txtHash = this.hash(text, curNumOfChars);\r\n\t\t\thashedTable[0]=txtHash;\r\n\t\t\tfor (var index = 1; index < hashTableLength; index++) {\r\n\t\t\t\ttxtHash = (txtHash + this.Q - this.RMarray[curNumOfChars-1]*text.charCodeAt(index-1)% this.Q) % this.Q;\r\n\t\t\t\ttxtHash = (txtHash*this.R + text.charCodeAt(index-1+curNumOfChars)) % this.Q;\r\n\t\t\t\thashedTable[index]=txtHash;\r\n\t\t\t\t}\r\n\t\t\tthis.sitesHashes[siteIndex][curNumOfChars-1]=hashedTable;\r\n\t\t}\r\n\t\tthis.texts[siteIndex]=text;\r\n\t}\r\n\r\n\taddHitsFromSite(site, siteIndex)\r\n\t{\r\n\t\tvar siteText=this.texts[siteIndex];\r\n\t\tvar siteHashes=this.sitesHashes[siteIndex]\r\n\t\tvar stringFromText;\r\n\t\tvar num_of_links_in_site=0;\r\n\t\t//siteHit[siteIndex]={\"siteHits\": 0, \"siteOriginalIndex\": siteIndex};\r\n\t\tfor (var curNumOfChars=0; curNumOfChars<this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashedLinkMartix=this.wordsMatriciesByLength[curNumOfChars];\r\n\t\t\tvar siteHash=siteHashes[curNumOfChars];\r\n\t\t\tvar textIndex=0;\r\n\t\t\tsiteHash.forEach(hash => {\r\n\t\t\t\tif (hashedLinkMartix[hash]!=undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tstringFromText=siteText.substring(textIndex,textIndex+curNumOfChars+1);\r\n\t\t\t\t\thashedLinkMartix[siteHash[textIndex]].forEach(element => {\r\n\t\t\t\t\t\tif (stringFromText==element.linkName)\r\n\t\t\t\t\t\t\tif (this.wikiLinksHashesToWordByLength[curNumOfChars][element.linkIndex].sitesHits[siteIndex]==null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.wikiLinksHashesToWordByLength[curNumOfChars][element.linkIndex].sitesHits[siteIndex]=1;\r\n\t\t\t\t\t\t\t\tnum_of_links_in_site++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tthis.wikiLinksHashesToWordByLength[curNumOfChars][element.linkIndex].sitesHits[siteIndex]++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttextIndex++;\r\n\t\t\t});\r\n\t\t}\r\n\t\tsite.num_of_links_in_site=num_of_links_in_site;\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nexport default rabinKarpSearch;","class Jaccard_similarity {\r\n\tR;\r\n\tQ;\r\n    numOfChars;\r\n    RM;\r\n\tconstructor(primeQ, numOfChars, prime_site_text) {\r\n\t  var R = 65536;\r\n\t  var Q = primeQ;\r\n      this.RM = 1;\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n      this.RM = (R * this.RM) % Q;\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n      this.numOfChars=numOfChars;\r\n      var prime_site_hash=this.creatHashTable(prime_site_text);\r\n      this.create_sets_array(prime_site_text, prime_site_hash);\r\n    }\r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\tcreatHashTable(siteText) {\r\n        var hashTableLength=siteText.length-this.numOfChars+1;\r\n        var hashedTable=[];\r\n        var txtHash = this.hash(siteText, this.numOfChars);\r\n        hashedTable[0]=txtHash;\r\n        for (var index = 1; index < hashTableLength; index++) {\r\n            txtHash = (txtHash + this.Q - this.RM*siteText.charCodeAt(index-1)% this.Q) % this.Q;\r\n            txtHash = (txtHash*this.R + siteText.charCodeAt(index-1+this.numOfChars)) % this.Q;\r\n            hashedTable[index]=txtHash;\r\n            }\r\n        return hashedTable;\r\n    }\r\n    \r\n    create_sets_array(prime_site_text, prime_site_hash)\r\n    {\r\n        var index=0;\r\n        var hashed_set_array = [];\r\n        hashed_set_array[this.Q-1]=undefined;\r\n        prime_site_hash.forEach(hashed => {\r\n            var sub_string = prime_site_text.substring(index, index+this.numOfChars);\r\n            if (hashed_set_array[hashed]==undefined)\r\n            {\r\n                hashed_set_array[hashed]={};\r\n                hashed_set_array[hashed][sub_string] = {primeSite: 1, site_to_compare: 0};\r\n            }\r\n            else if (hashed_set_array[hashed][sub_string] == undefined)\r\n                hashed_set_array[hashed][sub_string] = {primeSite: 1, site_to_compare: 0};\r\n            index++;\r\n        });\r\n        this.hashed_set_array = hashed_set_array;\r\n    }\r\n\r\n\tcompute_site_similarity(siteText)\r\n\t{\r\n        var index=0;\r\n        var siteHash=this.creatHashTable(siteText);\r\n        siteHash.forEach(hashed => {\r\n            var sub_string = siteText.substring(index, index+this.numOfChars); \r\n            if (this.hashed_set_array[hashed]==undefined)\r\n            {\r\n                this.hashed_set_array[hashed]={};\r\n                this.hashed_set_array[hashed][sub_string] = {primeSite: 0, site_to_compare: 1};\r\n            }\r\n            else if(this.hashed_set_array[hashed][sub_string]==undefined)\r\n                this.hashed_set_array[hashed][sub_string] = {primeSite: 0, site_to_compare: 1};\r\n            else if (this.hashed_set_array[hashed][sub_string].site_to_compare!=1)\r\n                this.hashed_set_array[hashed][sub_string].site_to_compare=1;\r\n            index++;\r\n        });\r\n\r\n        var union=0;\r\n        var intersection=0;\r\n        this.hashed_set_array.forEach(set_array => {\r\n            if (set_array)\r\n                Object.keys(set_array).forEach(set => {\r\n                    if (set_array[set].primeSite==1 && set_array[set].site_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        intersection++;\r\n                        set_array[set].site_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primeSite==0 && set_array[set].site_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        set_array[set].site_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primeSite==1 && set_array[set].site_to_compare==0)\r\n                        union++;\r\n                });\r\n        });\r\n        var jaccard_similarity= intersection/union;\r\n        return jaccard_similarity;\r\n\t}\r\n\r\n}\r\n\r\nexport default Jaccard_similarity;","import axios from 'axios';\r\nimport rabinKarpSearch from \"./rabinKarpSearch\";\r\nimport Jaccard_similarity from './jaccard_similarity';\r\nimport cheerio from 'cheerio';\r\n\r\nclass Search_functions{\r\n    Search_functions(){}\r\n\r\n    async search_using_wikipedia(wikiText ,this_of_searchPage){\r\n        await this.request_sites_from_Server_to_use(this_of_searchPage.curSearch, this_of_searchPage);\r\n        if (this_of_searchPage.sites_from_server_to_use!=null)\r\n        {\r\n            await this.initSiteSearch(this_of_searchPage);\r\n            var links=[];\r\n            for (var index=0; index<this_of_searchPage.connected_topics_edges.length; index++)\r\n            {\r\n                this_of_searchPage.connected_topics_edges[index].linkHits=0;\r\n                links.push({topicName: this_of_searchPage.connected_topics_edges[index].topic1.topicName, index_in_connected_topics_edges:index});\r\n            }\r\n            this_of_searchPage.rabinKarp= new rabinKarpSearch(3001, 20, this_of_searchPage.sites_from_server_to_use.length);\r\n            this_of_searchPage.rabinKarp.hashWikiLinks(links);\r\n            this_of_searchPage.jaccard_similarity=new Jaccard_similarity(20399, 10, wikiText)\r\n            this_of_searchPage.sitesTempState=this_of_searchPage.state.sitesBeingSearched;\r\n            \r\n            var timeToRefresh=750;\r\n\r\n            let refreshSearchStatus=setInterval(\r\n            () => {\r\n                if (this_of_searchPage.siteSearchFinished==false && this_of_searchPage.did_user_ended_seach==false)\r\n                    this_of_searchPage.setState({sitesBeingSearched: this_of_searchPage.sitesTempState});\r\n                else\r\n                {\r\n                    clearInterval(refreshSearchStatus);\r\n                    this_of_searchPage.siteSearchFinished=false;\r\n                    this.rankSites(this_of_searchPage);\r\n                    this.search_expended_content(this_of_searchPage);\r\n                    this_of_searchPage.search_button_function_stop_search();\r\n                }\r\n            }\r\n            ,timeToRefresh\r\n            );\r\n\r\n            //start scraping asynchronously\r\n            this.request_WebScraping_for_sites(this_of_searchPage);\r\n        }\r\n        else\r\n            this_of_searchPage.search_button_function_stop_search();\r\n    }\r\n    shuffle_sites_from_google(full_sites_array)\r\n    {\r\n        full_sites_array.sort(function(site1, site2){\r\n            if (site2.order_index_by_google===0) return 1;\r\n            if (site1.order_index_by_google===0) return -1;\r\n            if (site2.order_index_by_google==null && site1.order_index_by_google==null) return 0;\r\n            if (site2.order_index_by_google!=null && site1.order_index_by_google==null) return 1;\r\n            if (site2.order_index_by_google==null && site1.order_index_by_google!=null) return -1;\r\n            return site1.order_index_by_google-site2.order_index_by_google;\r\n        });\r\n        full_sites_array.sort(function(site1, site2){\r\n            if (site2.domain.score < 1 && site1.domain.score>=1)\r\n                return -1;\r\n            else if (site2.domain.score >= 1 && site1.domain.score < 1)\r\n                return 1;\r\n            else if (site2.domain.score < 1 && site1.domain.score < 1)\r\n                return site2.domain.score-site1.domain.score;\r\n            else\r\n            return 0;\r\n        });\r\n        full_sites_array.sort(function(site1, site2){return site2.educational_weight - site1.educational_weight});\r\n        full_sites_array.sort(function(site1, site2){return site2.trustworthy_weight - site1.trustworthy_weight});\r\n        full_sites_array.sort(function(site1, site2){return site2.liked_weight - site1.liked_weight});\r\n        var temp;\r\n        for (var index=0; index<full_sites_array[index]-1; index+=2)\r\n            if (full_sites_array[index].domain.score < full_sites_array[index+1].domain.score)\r\n            {\r\n                temp=full_sites_array[index];\r\n                full_sites_array[index]=full_sites_array[index+1];\r\n                full_sites_array[index+1]=temp;\r\n            }\r\n        return full_sites_array;\r\n    }\r\n/*\r\n    shuffle_sites_from_google(full_sites_array)\r\n    {\r\n        full_sites_array.sort(function(site1, site2){\r\n            if (site2.order_index_by_google===0) return 1;\r\n            if (site1.order_index_by_google===0) return -1;\r\n            if (site2.order_index_by_google==null && site1.order_index_by_google==null) return 0;\r\n            if (site2.order_index_by_google!=null && site1.order_index_by_google==null) return 1;\r\n            if (site2.order_index_by_google==null && site1.order_index_by_google!=null) return -1;\r\n            return site1.order_index_by_google-site2.order_index_by_google;\r\n        });\r\n        full_sites_array.sort(function(site1, site2){return site2.domain.score - site1.domain.score});\r\n        full_sites_array.sort(function(site1, site2){return site2.edgeWeight - site1.edgeWeight});\r\n        var shuffled_sites=[];\r\n\r\n        var full_sites_index=0;\r\n        while (full_sites_index<full_sites_array.length && full_sites_array[full_sites_index].edgeWeight>1)\r\n        {\r\n            shuffled_sites.push(full_sites_array[full_sites_index]);\r\n            full_sites_index++;\r\n        }\r\n        \r\n        var domains_site_array=[];\r\n        var domains_index=-1;\r\n        var domainURL=\"\";\r\n\r\n        var still_has_some=[];\r\n        while (full_sites_index<full_sites_array.length)\r\n        {\r\n            if (full_sites_array[full_sites_index].domain.score<1)\r\n                break;\r\n            if (domainURL==full_sites_array[full_sites_index].domain.domainURL)\r\n            {\r\n                domains_site_array[domains_index].sites.push(full_sites_array[full_sites_index]);\r\n                full_sites_index++;\r\n            }\r\n            else\r\n            {\r\n                domains_index++;\r\n                domainURL = full_sites_array[full_sites_index].domain.domainURL;\r\n                domains_site_array.push({domainURL: domainURL, sites: [full_sites_array[full_sites_index]], cur_site_index: 0});\r\n                still_has_some.push(domains_index);\r\n                full_sites_index++;\r\n            }\r\n        }\r\n        while(still_has_some.length>0)\r\n            for (var has_index=0; has_index<still_has_some.length; has_index++)\r\n            {\r\n                var domain=domains_site_array[still_has_some[has_index]];\r\n                shuffled_sites.push(domain.sites[domain.cur_site_index]);\r\n                domain.cur_site_index++;\r\n                if (domain.cur_site_index<domain.sites.length)\r\n                {\r\n                    shuffled_sites.push(domain.sites[domain.cur_site_index]);\r\n                    domain.cur_site_index++;\r\n                }\r\n                if (domain.cur_site_index>=domain.sites.length)\r\n                {\r\n                    still_has_some.splice(has_index,1);\r\n                    has_index--;\r\n                }\r\n            }\r\n        for (full_sites_index; full_sites_index<full_sites_array.length; full_sites_index++)\r\n            shuffled_sites.push(full_sites_array[full_sites_index]);\r\n        return shuffled_sites;\r\n    }\r\n    */\r\n    \r\n    request_sites_from_Server_to_use= async (search, this_of_searchPage)=>{\r\n        await axios.get(\"/api/topicsToSitesData/?search=\"+search,{\r\n            headers: {'findel-auth-token': this_of_searchPage.token}\r\n        })\r\n            .then((result) => {\r\n                // Get the result\r\n                // If we want text, call result.text()\r\n                return result.data;\r\n            }).then((sites) => {\r\n                // Do something with the result\r\n                var sitesArray=[];\r\n                var full_sites_array=[];\r\n                var num_of_initial_sites=15;\r\n                for (var index=0; index<sites.length; index++)\r\n                {\r\n                    if (sites[index].domain==null)\r\n                        sites[index].domain={domainURL: \"nullURL\", score: 0};\r\n                    full_sites_array.push({\r\n                        siteID: sites[index].siteID,\r\n                        edgeID: sites[index].edgeID,\r\n                        siteURL: sites[index].siteURL,\r\n                        formatedURL: sites[index].siteFormatedURL,\r\n                        siteSnap: sites[index].siteSnap,\r\n                        domain: sites[index].domain,\r\n                        user_rankings_for_edge: sites[index].user_rankings,\r\n                        liked_weight: sites[index].liked_weight,\r\n                        trustworthy_weight: sites[index].trustworthy_weight,\r\n                        educational_weight: sites[index].educational_weight,\r\n                        order_index_by_google: sites[index].order_index_by_google\r\n                        });\r\n                    }\r\n                var shuffled_sites = this.shuffle_sites_from_google(full_sites_array);\r\n                \r\n                for (var index=0; index<shuffled_sites.length; index++)\r\n                    shuffled_sites[index].index=index;\r\n                \r\n                for (var index=0; index<shuffled_sites.length && index<num_of_initial_sites; index++)\r\n                    sitesArray.push({index: index, \r\n                                siteID: shuffled_sites[index].siteID,\r\n                                edgeID: shuffled_sites[index].edgeID,\r\n                                siteURL: shuffled_sites[index].siteURL,\r\n                                formatedURL: shuffled_sites[index].formatedURL,\r\n                                siteSnap: shuffled_sites[index].siteSnap,\r\n                                domain: shuffled_sites[index].domain,\r\n                                user_rankings_for_edge: shuffled_sites[index].user_rankings_for_edge,\r\n                                liked_weight: shuffled_sites[index].liked_weight,\r\n                                trustworthy_weight: shuffled_sites[index].trustworthy_weight,\r\n                                educational_weight: shuffled_sites[index].educational_weight,\r\n                                order_index_by_google: shuffled_sites[index].order_index_by_google\r\n                                });\r\n                this_of_searchPage.sites_from_server_to_use=sitesArray;\r\n                this_of_searchPage.full_sites_list_from_server=shuffled_sites;\r\n            }).catch((error) => {\r\n                if (error.message===\"Network Error\")\r\n                    this_of_searchPage.setState({\r\n                        server_message: \"   \"\r\n                    });\r\n                else\r\n                    this_of_searchPage.setState({\r\n                        server_message: error.response.data\r\n                    });\r\n            });\r\n    }\r\n\r\n    initSiteSearch= (this_of_searchPage)=>{\r\n        var siteToSearchArray=[];\r\n        var stats=\"fa fa-spinner fa-spin\";\r\n        for (var index=0; index<this_of_searchPage.sites_from_server_to_use.length; index++)\r\n            {\r\n                siteToSearchArray.push({id: this_of_searchPage.id, siteURL: this_of_searchPage.sites_from_server_to_use[index].siteURL, formatedURL: this_of_searchPage.sites_from_server_to_use[index].formatedURL, scrape: stats});\r\n                this_of_searchPage.id++;\r\n            }\r\n        this_of_searchPage.setState({\r\n            sitesBeingSearched: siteToSearchArray\r\n        });\r\n        \r\n    }\r\n\r\n    finishedSiteFetch= (site, text, resStatus, index, this_of_searchPage) =>\r\n    {\r\n        if (resStatus!=200)\r\n            text=\"\";\r\n        this_of_searchPage.sites_and_texts[index]=({site: site, siteText: text});\r\n        if (this_of_searchPage.sites_and_texts[index]!=undefined)\r\n        {\r\n            if (this_of_searchPage.sites_and_texts[index].siteText===\"\")\r\n                return false;\r\n            else\r\n                return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n    \r\n    hashAndSearchSites= async (site, html, this_of_searchPage)=>\r\n    {\r\n        var $ = cheerio.load(html);\r\n        var text= $.text();\r\n        if (text.length>20)\r\n        {\r\n            this_of_searchPage.rabinKarp.creatHashTables(text, site.index);\r\n            this_of_searchPage.rabinKarp.addHitsFromSite(site, site.index);\r\n            site.jaccard_similarity = this_of_searchPage.jaccard_similarity.compute_site_similarity(text);\r\n            site.was_site_searched=true;\r\n            var opts={\r\n                edgeID: site.edgeID,\r\n                jaccard_similarity: site.jaccard_similarity,\r\n                num_of_links_in_site: site.num_of_links_in_site\r\n              };\r\n            await axios.post('/api/userInsertData/insertSiteTopicEdgeScores', opts, {\r\n            headers: {'findel-auth-token': this.token}}\r\n                ).then(response => {\r\n                    console.log(\"edge successfuly added\");\r\n                }).catch(error=> {\r\n                    console.log(\"edge could not be added\");\r\n            });\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    request_WebScraping_for_sites= async (this_of_searchPage) =>{\r\n        var promiseArray = this_of_searchPage.sites_from_server_to_use.map(site=>{\r\n            return axios.get(\"/api/webScrape/?siteID=\"+site.siteID + \"&edgeID=\" + site.edgeID + \"&force_scrape=false\",{\r\n            })\r\n            .then((result) => {\r\n                if (result.data.is_edge_up_to_date == true)\r\n                {\r\n                    site.jaccard_similarity= result.data.jaccard_similarity;\r\n                    site.num_of_links_in_site= result.data.num_of_links_in_site;\r\n                    this_of_searchPage.sitesTempState[site.index].scrape=\"fa fa-check-circle-o\";\r\n                }\r\n                else\r\n                {\r\n                    var did_finish_search= this.hashAndSearchSites(site, result.data.siteHTML, this_of_searchPage);\r\n                    if (did_finish_search)\r\n                        this_of_searchPage.sitesTempState[site.index].scrape=\"fa fa-check-circle-o\";\r\n                    else\r\n                        this_of_searchPage.sitesTempState[site.index].scrape= \"fa fa-times-circle-o\";\r\n                }\r\n            }).catch( () => {\r\n                this_of_searchPage.site.jaccard_similarity=0;\r\n                this_of_searchPage.site.num_of_links_in_site=0;\r\n                this_of_searchPage.sitesTempState[site.index].scrape= \"fa fa-times-circle-o\";\r\n            });\r\n          });\r\n        await Promise.all(promiseArray).then(results => {\r\n        console.log(results)\r\n        }).catch(function(error) {\r\n            console.log(error);\r\n        });\r\n        this_of_searchPage.siteSearchFinished=true;\r\n    }\r\n\r\n\r\n    rankSites=(this_of_searchPage)=>\r\n    {   \r\n        var topSites = this_of_searchPage.sites_from_server_to_use;\r\n        topSites.sort(function(site1, site2){return site2.num_of_links_in_site - site1.num_of_links_in_site});\r\n        topSites.sort(function(site1, site2){return site2.jaccard_similarity - site1.jaccard_similarity});\r\n        topSites=this.shuffle_sites_from_google(topSites);\r\n        var refS=this_of_searchPage.state.refSites;\r\n        for (var refSiteIndex=0; refSiteIndex<topSites.length; refSiteIndex++)\r\n        {\r\n            if (topSites[refSiteIndex]!=null)\r\n            {\r\n                refS.push({id: this_of_searchPage.id, \r\n                    siteID: topSites[refSiteIndex].siteID,\r\n                    edgeID: topSites[refSiteIndex].edgeID,  \r\n                    siteURL: topSites[refSiteIndex].siteURL, \r\n                    formatedURL: topSites[refSiteIndex].formatedURL,\r\n                    siteSnap: topSites[refSiteIndex].siteSnap,\r\n                    domain: topSites[refSiteIndex].domain,\r\n                    user_rankings_for_edge: topSites[refSiteIndex].user_rankings_for_edge, \r\n                    liked_weight: topSites[refSiteIndex].liked_weight,\r\n                    trustworthy_weight: topSites[refSiteIndex].trustworthy_weight,\r\n                    educational_weight: topSites[refSiteIndex].educational_weight});\r\n                this_of_searchPage.id++;\r\n            }\r\n        }\r\n        var is_more_sites_button_hidden=false;\r\n        if (refS.length>=this_of_searchPage.full_sites_list_from_server.length)\r\n            is_more_sites_button_hidden=true;\r\n        this_of_searchPage.setState({\r\n            refSites: refS,\r\n            sitesBeingSearched: [],\r\n            is_more_sites_button_hidden:is_more_sites_button_hidden\r\n        });\r\n        this_of_searchPage.site_displayed_so_far_index=refS.length-1;\r\n        this_of_searchPage.topSites=topSites;\r\n        this_of_searchPage.ref_sites_for_histoty=refS;\r\n    }\r\n\r\n    display_expended_content = (this_of_searchPage) =>\r\n    {\r\n        var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.web_scrape_score - edge1.web_scrape_score});\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.linkHits - edge1.linkHits});\r\n        connected_topics_edges.sort(function(edge1, edge2){if (edge2.topic1.topicName.length<3 && edge1.topic1.topicName.length>=3) return -1;});\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.liked_weight - edge1.liked_weight});\r\n        \r\n        var expandedCon=[];\r\n        for (var content=0; content<connected_topics_edges.length && content<10; content++)\r\n        {\r\n            var partition=\" | \";\r\n            expandedCon.push({id: this_of_searchPage.id, \r\n                page: connected_topics_edges[content].topic1.topicName, \r\n                partition: partition\r\n                });\r\n            this_of_searchPage.id++;\r\n        }\r\n        var is_show_more_content_hidden=false;\r\n        if (connected_topics_edges.length==0)\r\n            is_show_more_content_hidden=true;\r\n        this_of_searchPage.setState({\r\n            expandedContents: expandedCon,\r\n            is_show_more_content_hidden: is_show_more_content_hidden,\r\n            expandend_content_status: \"\"\r\n        });\r\n        this_of_searchPage.expandedCon_to_history=expandedCon;\r\n        this_of_searchPage.save_to_history();\r\n    }\r\n\r\n    async best_sites_results(this_of_searchPage, rk_results)\r\n    {\r\n        var topSites=this_of_searchPage.topSites;\r\n        var num_of_top_sites_to_use=6;\r\n        var num_of_top_sites_used=0;\r\n        for (var index=0; index<topSites.length && num_of_top_sites_used<num_of_top_sites_to_use; index++)\r\n            if (topSites[index].was_site_searched!=true)\r\n            {\r\n                await axios.get(\"/api/webScrape/?siteID=\"+topSites[index].siteID + \"&edgeID=\" + topSites[index].edgeID + \"&force_scrape=true\",{\r\n                })\r\n                .then(async (result) => {\r\n                    await this.hashAndSearchSites(topSites[index], result.data.siteHTML, this_of_searchPage); \r\n                    topSites[index].was_site_searched=true;\r\n                    await rk_results.forEach(words_in_length => {\r\n                        words_in_length.forEach(word => {\r\n                            var num_of_hits=word.sitesHits[topSites[index].index];\r\n                            if (num_of_hits != undefined)\r\n                                this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                        });\r\n                    });\r\n                    num_of_top_sites_used++;\r\n                }).catch( () => {\r\n                    console.log(\"site failed searched\");\r\n                });\r\n            }\r\n            else if (topSites[index].was_site_searched==true)\r\n            {\r\n                rk_results.forEach(words_in_length => {\r\n                    words_in_length.forEach(word => {\r\n                        var num_of_hits=word.sitesHits[topSites[index].index];\r\n                        if (num_of_hits != undefined)\r\n                            this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                    });\r\n                });\r\n                num_of_top_sites_used++;\r\n            }\r\n    }\r\n\r\n    search_expended_content(this_of_searchPage)\r\n    {\r\n        var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n        var is_seach_needed=false;\r\n        for (var index=0; index< connected_topics_edges.length; index++)\r\n            if (connected_topics_edges[index].is_search_required==true)\r\n                {\r\n                    is_seach_needed=true;\r\n                    break;\r\n                }\r\n        if (is_seach_needed)\r\n        {\r\n            var rk_results = this_of_searchPage.rabinKarp.wikiLinksHashesToWordByLength;\r\n            this.best_sites_results(this_of_searchPage, rk_results)\r\n            .then(()=>{\r\n                this.display_expended_content(this_of_searchPage);\r\n                var edges_to_update=[];\r\n                connected_topics_edges.forEach(connected_topic_edge => {\r\n                    if (connected_topic_edge.is_search_required)\r\n                        edges_to_update.push({\r\n                            _id: connected_topic_edge.edgeID,\r\n                            web_scrape_score: connected_topic_edge.linkHits\r\n                        })\r\n                });\r\n                var opts={\r\n                    edges: edges_to_update\r\n                };\r\n                axios.post('/api/userInsertData/insertTopicTopicEdgeScores', opts\r\n                    ).then(response => {\r\n                        console.log(response.data);\r\n                    }).catch(error=> {\r\n                        if (error.response==undefined)\r\n                        console.log(\"  \");\r\n                        else\r\n                        console.log(error.response.data);\r\n                });\r\n            })\r\n            .catch(() => {console.log(\"Search content failed\");});\r\n        }\r\n        else\r\n            this.display_expended_content(this_of_searchPage);\r\n    }\r\n}\r\nexport default Search_functions;","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport SitesToSearch from './SearchPageComponents/sitesInSearch/SitesToSearch';\r\nimport ExpandedContent from './SearchPageComponents/expandedContents/ExpandedContents';\r\nimport RefSites from './SearchPageComponents/refSites/RefSites';\r\nimport Ambigous from './SearchPageComponents/AmbigousContent/Ambigous';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './SearchPage.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Search_functions from '../components/SearchPageComponents/sitesInSearch/search_functions';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\nconst search_functions=new Search_functions();\r\n\r\n\r\nclass SearchPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.history=props.history;\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const my_search = urlParams.get('search');\r\n        this.curSearch=my_search;\r\n\r\n        this.sites_and_texts=[];\r\n        this.sitesFinishedScrape=0;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        this.sitesTempState=[];\r\n        this.siteSearchFinished=false;\r\n        this.topSites=null;\r\n\r\n        this.rabinKarp=null;\r\n        this.wikiLinksHashesToWordByLength=[];\r\n        this.wordsMatriciesByLength=[];\r\n        this.id=1;\r\n        \r\n\r\n        if (this.history.location.state!=undefined)\r\n        {\r\n            var history=this.history.location.state;\r\n            if (history.ambigousData==undefined)\r\n                history.ambigousData=[];\r\n            if (history.expandedContents == undefined)\r\n                history.expandedContents=[];\r\n            if (history.refSites == undefined)\r\n                history.refSites=[];\r\n            this.state={\r\n                    inputValue: history.inputValue,\r\n                    sitesBeingSearched: [],\r\n                    expandedContents: history.expandedContents,\r\n                    refSites: history.refSites,\r\n                    ambigousData: history.ambigousData,\r\n                    newID: history.newID,\r\n                    search_button_text: \" \",\r\n                    search_button_iconClass: \"\",\r\n                    server_message:\"\",\r\n                    add_site_to_topic_input: history.add_site_to_topic_input,\r\n                    add_topic_to_topic_input: history.add_topic_to_topic_input,\r\n                    add_site_to_topic_description: history.add_site_to_topic_description,\r\n                    was_add_site_button_clicked: history.was_add_site_button_clicked,\r\n                    was_add_topic_button_clicked: history.was_add_topic_button_clicked,\r\n                    is_more_sites_button_hidden: history.is_more_sites_button_hidden,\r\n                    is_simple_search_selected: history.is_simple_search_selected,\r\n                    is_show_more_content_hidden: history.is_show_more_content_hidden,\r\n                    expandend_content_status: \"\",\r\n                    site_displayed_so_far_index: history.site_displayed_so_far_index,\r\n                    sites_from_server_to_use: history.sites_from_server_to_use,\r\n                    full_sites_list_from_server: history.full_sites_list_from_server\r\n                    \r\n            }\r\n            this.full_sites_list_from_server = history.full_sites_list_from_server\r\n        }\r\n        else\r\n        {\r\n            this.sites_from_server_to_use=[];\r\n            this.full_sites_list_from_server=[];\r\n            this.site_displayed_so_far_index=0;\r\n            this.state = {\r\n            inputValue: my_search,\r\n            sitesBeingSearched:[],\r\n            expandedContents: [],\r\n            refSites: [],\r\n            ambigousData: [],\r\n            newID: 1,\r\n            search_button_text: \" \",\r\n            search_button_iconClass: \"\",\r\n            server_message:\"\",\r\n            add_site_to_topic_input:\"\",\r\n            add_topic_to_topic_input:\"\",\r\n            add_site_to_topic_description: \"\",\r\n            was_add_site_button_clicked:false,\r\n            was_add_topic_button_clicked: false,\r\n            is_more_sites_button_hidden: true,\r\n            is_simple_search_selected: false,\r\n            is_show_more_content_hidden: true,\r\n            expandend_content_status: \"\"\r\n            };\r\n            if (my_search != null)\r\n                this.search_button_function();\r\n        }\r\n      }\r\n    render() {\r\n        var search_box_textStyle={color: '#F0F8FF', cursor: 'pointer'};\r\n        var more_content_textStyle={color: '#F0F8FF'};\r\n      return (\r\n        \r\n        <div className=\"SearchPage\">\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n                <div className=\"search_box_div\">\r\n                    <img id=\"findelTheme\" src=\"/publicComponents/findelTheme\" height=\"100\" width=\"400\"/>\r\n                    <div>\r\n                        <input id=\"search_text_box\" type=\"text\" value={this.state.inputValue} onChange={evt => this.updateTXT(evt)} onKeyPress={this.handleKeyPress}></input>\r\n                        <button id=\"searchBTN\" name=\"searchBTN\" onClick={() => this.search_button_function()}>{this.state.search_button_text} <i className={this.state.search_button_iconClass}></i></button><br/>\r\n                        <input type=\"radio\" onClick={() => this.deep_search_radio_button_clicked()} checked={!this.state.is_simple_search_selected}/>  \r\n                        <input type=\"radio\" id=\"simple_search_radio_button\" onClick={() => this.simple_search_radio_button_clicked()} checked={this.state.is_simple_search_selected}/>  \r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <text color='white'>{this.state.server_message}</text>\r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <ExpandedContent expandedContents={this.state.expandedContents}/>\r\n                        <text><i className={this.state.expandend_content_status}></i></text>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_content_textStyle} href={\"/TopicsPage/\"+this.curSearch} hidden={this.state.is_show_more_content_hidden}>...</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"add_content_and_sites_div\" style={{backgroundColor:'#0587c3'}}>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={!this.state.was_add_topic_button_clicked}>\r\n                        <text style={search_box_textStyle} onClick= {() => this.add_topic_button_clicked(false)}>-  : &nbsp;</text><br/>\r\n                        <input type=\"text\" value={this.state.add_topic_to_topic_input} onChange={evt => this.add_topic_to_topic_change_function(evt)}/><button id=\"add_topic_to_topic_button\">+</button>\r\n                    </div>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={this.state.was_add_topic_button_clicked}>\r\n                        <text onClick= {() => this.add_topic_button_clicked(true)} style={search_box_textStyle}>+  ...</text>\r\n                    </div>\r\n                    <div className=\"add_site_to_topic_div\" hidden={!this.state.was_add_site_button_clicked}>\r\n                        <text onClick= {() => this.add_site_button_clicked(false)} style={search_box_textStyle}>-  : &nbsp;</text><br/>\r\n                        <input type=\"text\" id=\"add_site_to_topic_url_input\" placeholder=\".....//:https\" value={this.state.add_site_to_topic_input} onChange={evt => this.add_site_to_topic_change_function(evt)}/><br></br>\r\n                        <textarea value={this.state.add_site_to_topic_description} placeholder=\" \" onChange={evt => this.add_site_to_topic_change_description_function(evt)}/><br/>\r\n                        <button id=\"add_site_to_topic_button\" onClick={() => this.add_site()}>+</button>\r\n                    </div>\r\n                    <div className=\"add_site_to_topic_div\" hidden={this.state.was_add_site_button_clicked}>\r\n                        <text onClick= {() => this.add_site_button_clicked(true)} style={search_box_textStyle}>+  ...</text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <div id=\"refSites\">\r\n            <RefSites refSites={this.state.refSites}/>\r\n            <button onClick= {() => this.more_sites_clicked()} hidden={this.state.is_more_sites_button_hidden}> ...</button>\r\n        </div>\r\n        <div id=\"sites\">\r\n            <SitesToSearch sitesBeingSearched={this.state.sitesBeingSearched}/>\r\n        </div>\r\n        <div id=\"ambigous\">\r\n            <Ambigous ambigousData={this.state.ambigousData}/>\r\n        </div>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n        if(event.key == 'Enter'){\r\n          this.search_button_function();\r\n        }\r\n      }\r\n\r\n    updateTXT(evt){\r\n        this.setState(\r\n            {\r\n                inputValue: evt.target.value\r\n            }\r\n        );\r\n        this.curSearch=evt.target.value;\r\n    }\r\n\r\n    deep_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:false\r\n            }\r\n        )\r\n    }\r\n    simple_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:true\r\n            }\r\n        )\r\n    }\r\n\r\n    add_site_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_site_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_site_to_topic_change_description_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_site_to_topic_description: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_site_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_site_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_site()\r\n    {\r\n        var opts={\r\n            topicName: this.state.inputValue,\r\n            siteURL: this.state.add_site_to_topic_input,\r\n            siteDescription: this.state.add_site_to_topic_description\r\n          };\r\n        Axios.post('/api/addContent/addSite', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                this.setState({server_message: response.data});\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"  \"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n\r\n    add_topic_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_topic_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n    add_topic_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_topic_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    more_sites_clicked(){\r\n        this.sites_from_server_to_use=[];\r\n        var num_of_sites_to_add=10;\r\n        for (var index=this.site_displayed_so_far_index+1; index< this.site_displayed_so_far_index+1+num_of_sites_to_add && index<this.full_sites_list_from_server.length; index++)\r\n            this.sites_from_server_to_use.push(this.full_sites_list_from_server[index]);\r\n        search_functions.rankSites(this);\r\n    }\r\n\r\n    search_button_function= async () => {\r\n        this.did_user_ended_seach=false;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function_stop_search(),\r\n            search_button_text: \" \",\r\n            simple_search_button_text:\" \",\r\n            search_button_iconClass: \"fa fa-spinner fa-spin\",\r\n            is_more_sites_button_hidden: true,\r\n            is_show_more_content_hidden: true,\r\n            expandend_content_status: \"fa fa-spinner fa-spin\",\r\n            server_message: \"\"\r\n        });\r\n        this.deep_search();\r\n    }\r\n\r\n    search_button_function_stop_search= async () => {\r\n        this.did_user_ended_seach=true;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function(),\r\n            simple_search_button_function: () => this.simple_search_button_function(),\r\n            search_button_text: \" \",\r\n            simple_search_button_text:\" \",\r\n            search_button_iconClass:\"\",\r\n            expandend_content_status: \"\"\r\n        });\r\n    }\r\n\r\n    save_to_history()\r\n    {\r\n        this.history.push({\r\n            pathname: '/',\r\n            search: '?search='+this.state.inputValue,\r\n            state: {\r\n                inputValue: this.state.inputValue,\r\n                sitesBeingSearched: this.state.sitesBeingSearched,\r\n                expandedContents: this.expandedCon_to_history,\r\n                refSites: this.ref_sites_for_histoty,\r\n                ambigousData: this.ambig_for_history,\r\n                newID: this.state.newID,\r\n                search_button_text: \" \",\r\n                search_button_iconClass: \"\",\r\n                server_message:\"\",\r\n                add_site_to_topic_input: this.state.add_site_to_topic_input,\r\n                add_topic_to_topic_input: this.state.add_topic_to_topic_input,\r\n                add_site_to_topic_description: this.state.add_site_to_topic_description,\r\n                was_add_site_button_clicked: this.state.was_add_site_button_clicked,\r\n                was_add_topic_button_clicked: this.state.was_add_topic_button_clicked,\r\n                is_more_sites_button_hidden: this.state.is_more_sites_button_hidden,\r\n                is_simple_search_selected: this.state.is_simple_search_selected,\r\n                is_show_more_content_hidden: this.state.is_show_more_content_hidden,\r\n                expandend_content_status: \"\",\r\n                site_displayed_so_far_index: this.site_displayed_so_far_index,\r\n                sites_from_server_to_use:this.sites_from_server_to_use,\r\n                full_sites_list_from_server: this.full_sites_list_from_server\r\n            }\r\n        });\r\n    }\r\n\r\n    deep_search= () => {\r\n        this.setState({\r\n            expandedContents: [],\r\n            refSites: [],\r\n            ambigousData: []\r\n        });\r\n        Axios.get(\"/api/topicsToTopicsData/?search=\"+this.curSearch,{\r\n                headers: {'findel-auth-token': this.token}\r\n        })\r\n        .then(async(result) => {\r\n            if (result.data.wikiText!=null && this.state.is_simple_search_selected==false)\r\n            {\r\n                this.connected_topics_edges=result.data.connected_topics_edges;\r\n                search_functions.search_using_wikipedia(result.data.wikiText, this);\r\n            }\r\n            \r\n            else if (result.data.ambig!=null)\r\n            {\r\n                result.data.ambig.forEach(category => {\r\n                    category.id=this.id;\r\n                    this.id++;\r\n                    category.subID=this.id;\r\n                    this.id++;\r\n                    category[\"subjects\"].forEach(subject => {\r\n                        subject.id=this.id;\r\n                        this.id++;\r\n                    });\r\n                });\r\n                this.setState({\r\n                    ambigousData: result.data.ambig\r\n                });\r\n                this.ambig_for_history=result.data.ambig;\r\n                this.search_button_function_stop_search();\r\n            }\r\n            else\r\n            {\r\n                this.connected_topics_edges=result.data.connected_topics_edges;\r\n                await search_functions.request_sites_from_Server_to_use(this.curSearch, this);\r\n                await search_functions.rankSites(this);\r\n                await search_functions.display_expended_content(this);\r\n                this.search_button_function_stop_search();\r\n                this.save_to_history();\r\n            }\r\n            \r\n        }).catch( (error) => {\r\n            if (error.respnse!=null)\r\n                this.setState({\r\n                    server_message: error.respnse.data\r\n                });\r\n            else\r\n                this.setState({\r\n                    server_message: \"   \"\r\n                });\r\n            this.search_button_function_stop_search();\r\n        });\r\n    }\r\n          \r\n}\r\n\r\n  export default SearchPage;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        \r\n        super(props);\r\n        this.history=props.history;\r\n        this.state = {\r\n            userName: \"\",\r\n            password: \"\",\r\n            serverMessage:\"\"\r\n        };\r\n        cookies.set('findel-ServerMessage', '', { path: '/' });\r\n        this.attampt=0;\r\n      }\r\n      nextPath(path) {\r\n        this.props.history.push(path);\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div className=\"LoginPage\">\r\n            <h1> Login </h1>\r\n            <text>{this.state.serverMessage}</text>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" value={this.state.password} onChange={event => this.handlePasswordChange(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameChange(event) {\r\n        this.setState({userName: event.target.value});\r\n      }\r\n\r\n      handlePasswordChange(event) {\r\n        this.setState({password: event.target.value});\r\n    }\r\n    async handleSubmit() {\r\n      var dataFromServer;\r\n      var opts={\r\n        userName: this.state.userName,\r\n        password: this.state.password\r\n      };\r\n      await axios.post('/api/auth', opts\r\n          ).then(response => {\r\n            dataFromServer= response.data;\r\n            cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\r\n            this.history.goBack();\r\n            }).catch(error=> {\r\n              if (error.response==undefined)\r\n                this.setState({serverMessage: \"  \"});\r\n              else\r\n              {\r\n                this.attampt++;\r\n                this.setState({serverMessage: error.response.data+\"  : \"+this.attampt});\r\n              }\r\n        });\r\n    }\r\n}\r\nexport default LoginPage;","class checkForms {\r\n    checkForms(){}\r\n    checkUserName(userName, formsThis)\r\n    {\r\n      var userNameClass=formsThis.state.successClass;\r\n      var userNameError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (userName.length<2)\r\n      {\r\n        userNameClass=formsThis.state.errorClass;\r\n        userNameError=\"     2 \";\r\n      }\r\n\r\n      //finalize\r\n      \r\n      \r\n      if (userNameError==\"\")\r\n        formsThis.userNameBlured=true;\r\n      \r\n      if (formsThis.userNameBlured)\r\n        formsThis.setState({userName: userName,\r\n          userNameClass: userNameClass,\r\n          userNameError:userNameError\r\n          });\r\n      else\r\n        formsThis.setState({userName: userName});\r\n      \r\n      if (userNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    checkFirstName(firstName, formsThis)\r\n    {\r\n      var firstNameClass=formsThis.state.successClass;\r\n      var firstNameError=\"\";\r\n      \r\n      if (firstName.length<2)\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"      \";\r\n      }\r\n\r\n      for(var chI=0;chI<firstName.length;chI++){\r\n      if ((firstName.charAt(chI)>='0')&&(firstName.charAt(chI)<='9'))\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"    \";\r\n        break;\r\n      }    if(firstName.length<2){\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"    2 \";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (firstNameError==\"\")\r\n        formsThis.firstNameBlured=true;\r\n      \r\n      if (formsThis.firstNameBlured)\r\n        formsThis.setState({firstName: firstName,\r\n          firstNameClass: firstNameClass,\r\n          firstNameError: firstNameError\r\n          });\r\n      else\r\n        formsThis.setState({firstName: firstName});\r\n      \r\n      if (firstNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    \r\n    checkLastName(lastName, formsThis)\r\n    {\r\n        var lastNameClass=formsThis.state.successClass;\r\n      var lastNameError=\"\";\r\n      \r\n      if (lastName.length<2)\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"      \";\r\n      }\r\n\r\n      for(var chI=0;chI<lastName.length;chI++){\r\n      if ((lastName.charAt(chI)>='0')&&(lastName.charAt(chI)<='9'))\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"    \";\r\n        break;\r\n      }    if(lastName.length<2){\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"    2 \";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (lastNameError==\"\")\r\n        formsThis.lastNameBlured=true;\r\n      \r\n      if (formsThis.lastNameBlured)\r\n        formsThis.setState({lastName: lastName,\r\n          lastNameClass: lastNameClass,\r\n          lastNameError: lastNameError\r\n          });\r\n      else\r\n        formsThis.setState({lastName: lastName});\r\n      \r\n      if (lastNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n\r\n    checkEmail(email, formsThis)\r\n    {\r\n      var emailClass=formsThis.state.successClass;\r\n      var emailError=\"\";\r\n      if (email==\"\")\r\n      {\r\n        emailClass=\"form-control\";\r\n        emailError=\"\";\r\n      }\r\n      else if (email.length<5)\r\n      {\r\n        emailClass=formsThis.state.errorClass;\r\n        emailError=\"   5  \";\r\n      }\r\n      else\r\n      {\r\n        var foundShtrude=false;\r\n        var numOfDots=0;\r\n        for (var chIndex=0; chIndex<email.length; chIndex++)\r\n        {\r\n          if (chIndex==0)\r\n          {\r\n            if (!((email.charAt(chIndex)>'A' && email.charAt(chIndex)<'z') || (email.charAt(chIndex)>'0' && email.charAt(chIndex)<'9')))\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"      \";\r\n                break;\r\n              }\r\n            }\r\n          else\r\n          {\r\n            if (email.charAt(chIndex)=='@')\r\n            {\r\n              if(email.length-chIndex<3){\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"   \";\r\n                break;\r\n              }\r\n              if (foundShtrude==false)\r\n                foundShtrude=true;\r\n              else\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"   \";\r\n                break;\r\n              }\r\n            }\r\n            if (email.charAt(chIndex)=='.')\r\n              if(foundShtrude){\r\n                if(email.charAt(chIndex-1)=='@' || email.charAt(chIndex-1)=='.' || chIndex==email.length-1)\r\n                {\r\n                  emailClass=formsThis.state.errorClass;\r\n                  emailError=\"   \";\r\n                  break;\r\n                }\r\n                numOfDots++;\r\n              }\r\n            }\r\n          }\r\n        if (foundShtrude==false || numOfDots>2 || numOfDots==0)\r\n          {\r\n            emailClass=formsThis.state.errorClass;\r\n            emailError=\"   \";\r\n          }\r\n        }\r\n        \r\n        if (emailError==\"\")\r\n            formsThis.emailBlured=true;\r\n        if (formsThis.emailBlured)\r\n        {\r\n            formsThis.setState({email: email,\r\n            emailClass: emailClass,\r\n            emailError: emailError\r\n        });\r\n        }\r\n      else\r\n        formsThis.setState({email: email});\r\n      if (emailError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n        \r\n    }\r\n\r\n    checkPassword(password, formsThis)\r\n    {\r\n        var passClass=formsThis.state.successClass;\r\n      var passError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (password.length<=5)\r\n      {\r\n        passClass=formsThis.state.errorClass;\r\n        passError=\"    5 \";\r\n      }\r\n\r\n        \r\n      //finalize\r\n      \r\n      \r\n      if (passError==\"\")\r\n        formsThis.passwordBlured=true;\r\n      \r\n      if (formsThis.passwordBlured)\r\n        formsThis.setState({password: password,\r\n          passwordClass: passClass,\r\n          passwordError:passError\r\n          });\r\n      else\r\n        formsThis.setState({password: password});\r\n\r\n      if (passError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n}\r\nexport default checkForms;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { ENAMETOOLONG } from 'constants';\r\nimport CheckForms from './checkForms';\r\nconst cookies = new Cookies();\r\nvar checkForms=new CheckForms();\r\n\r\nclass teacherRegister extends Component {\r\n  constructor(props) {\r\n        \r\n    super(props);\r\n    this.state = {\r\n        email: \"\",\r\n        emailClass: \"form-control\",\r\n        password: \"\",\r\n        passwordError:\"\",\r\n        passwordClass: \"form-control\",\r\n        serverMessage:\"\",\r\n        errorClass:\"form-control is-invalid\",\r\n        successClass: \"form-control is-valid\",\r\n        userNameClass:\"form-control\",\r\n        userNameError: \"\",\r\n        userName:\"\",\r\n        firstNameClass:\"form-control\",\r\n        firstNameError: \"\",\r\n        firstName:\"\",\r\n        lastNameClass:\"form-control\",\r\n        lastNameError: \"\",\r\n        lastName:\"\",\r\n        emailError:\"\"\r\n    };\r\n\r\n    //Check if password was offClicked\r\n    this.passwordBlured=false;\r\n    this.uerNameBlured=false;\r\n    cookies.set('findel-ServerMessage', '', { path: '/' });\r\n    \r\n  }\r\n\r\n  nextPath(path) {\r\n    this.props.history.push(path);\r\n  }\r\n\r\nrender() {\r\n  \r\n  var redText={color: \"red\"};\r\n  return (\r\n   \r\n    <div className=\"RegisterPage\">\r\n        <h1>   </h1>\r\n        <text>{this.state.serverMessage}</text>\r\n        <br></br>\r\n        <label>\r\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            <text style={redText}>{this.state.userNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            <text style={redText}>{this.state.passwordError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\r\n            <text style={redText}>{this.state.emailError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.firstNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.lastNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameBlur(event) {\r\n      this.userNameBlured=true;\r\n      this.handleUserNameChange(event);\r\n    }\r\n    \r\n    handleUserNameChange(event) {;\r\n      checkForms.checkUserName(event.target.value, this);\r\n    }\r\n\r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n\r\n    handleFirstNameChange(event) {\r\n      checkForms.checkFirstName(event.target.value, this);\r\n    }\r\n    \r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n    handleLastNameBlur(event) {\r\n      this.lastNameBlured=true;\r\n      this.handleLastNameChange(event);\r\n    }\r\n    handleLastNameChange(event) {\r\n      checkForms.checkLastName(event.target.value, this);\r\n    }\r\n    \r\n    handleEmailChange(event) {\r\n      checkForms.checkEmail(event.target.value, this);\r\n      }\r\n      handleEmailBlur(event) {\r\n        this.emailBlured=true;\r\n        this.handleEmailChange(event);\r\n      }\r\n    handlePasswordBlur(event) {\r\n      this.passwordBlured=true;\r\n      this.handlePasswordChange(event);\r\n      \r\n    }\r\n    handlePasswordChange(event) {\r\n      checkForms.checkPassword(event.target.value, this)\r\n    }\r\n    \r\n    async handleSubmit() {\r\n      this.passwordBlured=true;\r\n      this.userNameBlured=true;\r\n      this.firstNameBlured=true;\r\n      this.emailBlured=true;\r\n      this.lastNameBlured=true;\r\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\r\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\r\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\r\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\r\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\r\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\r\n      {\r\n        var dataFromServer;\r\n        var opts={\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          userName:this.state.userName,\r\n          lastName: this.state.lastName,\r\n          firstName: this.state.firstName\r\n        };\r\n        if (this.state.email==\"\")\r\n          opts.email=undefined;\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        await axios.post('/api/users/createTeacherAccount', opts, {\r\n          headers: {'findel-auth-token': token}}\r\n            ).then(response => {\r\n              dataFromServer= response.data;\r\n              this.setState({serverMessage: dataFromServer.userName+\"   \"});\r\n              }).catch(error=> {\r\n                if (error.response==undefined)\r\n                  this.setState({serverMessage: \"  \"});\r\n                else\r\n                  this.setState({serverMessage: error.response.data});\r\n          });\r\n      }\r\n  }\r\n}\r\nexport default teacherRegister;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { ENAMETOOLONG } from 'constants';\r\nimport CheckForms from './checkForms';\r\nconst cookies = new Cookies();\r\nvar checkForms=new CheckForms();\r\n\r\nclass adminRegister extends Component {\r\n  constructor(props) {\r\n        \r\n    super(props);\r\n    this.state = {\r\n        email: \"\",\r\n        emailClass: \"form-control\",\r\n        password: \"\",\r\n        passwordError:\"\",\r\n        passwordClass: \"form-control\",\r\n        serverMessage:\"\",\r\n        errorClass:\"form-control is-invalid\",\r\n        successClass: \"form-control is-valid\",\r\n        userNameClass:\"form-control\",\r\n        userNameError: \"\",\r\n        userName:\"\",\r\n        firstNameClass:\"form-control\",\r\n        firstNameError: \"\",\r\n        firstName:\"\",\r\n        lastNameClass:\"form-control\",\r\n        lastNameError: \"\",\r\n        lastName:\"\",\r\n        emailError:\"\"\r\n    };\r\n\r\n    //Check if password was offClicked\r\n    this.passwordBlured=false;\r\n    this.uerNameBlured=false;\r\n    cookies.set('findel-ServerMessage', '', { path: '/' });\r\n    \r\n  }\r\n\r\n  nextPath(path) {\r\n    this.props.history.push(path);\r\n  }\r\n\r\nrender() {\r\n  \r\n  var redText={color: \"red\"};\r\n  return (\r\n   \r\n    <div className=\"RegisterPage\">\r\n        <h1>   </h1>\r\n        <text>{this.state.serverMessage}</text>\r\n        <br></br>\r\n        <label>\r\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            <text style={redText}>{this.state.userNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            <text style={redText}>{this.state.passwordError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\r\n            <text style={redText}>{this.state.emailError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.firstNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.lastNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameBlur(event) {\r\n      this.userNameBlured=true;\r\n      this.handleUserNameChange(event);\r\n    }\r\n    \r\n    handleUserNameChange(event) {;\r\n      checkForms.checkUserName(event.target.value, this);\r\n    }\r\n\r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n\r\n    handleFirstNameChange(event) {\r\n      checkForms.checkFirstName(event.target.value, this);\r\n    }\r\n    \r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n    handleLastNameBlur(event) {\r\n      this.lastNameBlured=true;\r\n      this.handleLastNameChange(event);\r\n    }\r\n    handleLastNameChange(event) {\r\n      checkForms.checkLastName(event.target.value, this);\r\n    }\r\n    \r\n    handleEmailChange(event) {\r\n      checkForms.checkEmail(event.target.value, this);\r\n      }\r\n      handleEmailBlur(event) {\r\n        this.emailBlured=true;\r\n        this.handleEmailChange(event);\r\n      }\r\n    handlePasswordBlur(event) {\r\n      this.passwordBlured=true;\r\n      this.handlePasswordChange(event);\r\n      \r\n    }\r\n    handlePasswordChange(event) {\r\n      checkForms.checkPassword(event.target.value, this)\r\n    }\r\n    \r\n    async handleSubmit() {\r\n      this.passwordBlured=true;\r\n      this.userNameBlured=true;\r\n      this.firstNameBlured=true;\r\n      this.emailBlured=true;\r\n      this.lastNameBlured=true;\r\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\r\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\r\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\r\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\r\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\r\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\r\n      {\r\n        var dataFromServer;\r\n        var opts={\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          userName:this.state.userName,\r\n          lastName: this.state.lastName,\r\n          firstName: this.state.firstName\r\n        };\r\n        if (this.state.email==\"\")\r\n          opts.email=undefined;\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        await axios.post('/api/users/createAdminAccount', opts, {\r\n          headers: {'findel-auth-token': token}}\r\n            ).then(response => {\r\n              dataFromServer= response.data;\r\n              this.setState({serverMessage: dataFromServer.userName+\"   \"});\r\n              }).catch(error=> {\r\n                if (error.response==undefined)\r\n                  this.setState({serverMessage: \"  \"});\r\n                else\r\n                  this.setState({serverMessage: error.response.data});\r\n          });\r\n      }\r\n  }\r\n}\r\nexport default adminRegister;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport CheckForms from './checkForms';\n\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Cookies from 'universal-cookie';\nimport { ENAMETOOLONG } from 'constants';\nconst cookies = new Cookies();\nvar checkForms=new CheckForms();\n\nclass RegisterPage extends Component {\n    constructor(props) {\n        super(props);\n        this.history=props.history;\n        this.state = {\n            email: \"\",\n            emailClass: \"form-control\",\n            password: \"\",\n            passwordError:\"\",\n            passwordClass: \"form-control\",\n            serverMessage:\"\",\n            errorClass:\"form-control is-invalid\",\n            successClass: \"form-control is-valid\",\n            userNameClass:\"form-control\",\n            userNameError: \"\",\n            userName:\"\",\n            firstNameClass:\"form-control\",\n            firstNameError: \"\",\n            firstName:\"\",\n            lastNameClass:\"form-control\",\n            lastNameError: \"\",\n            lastName:\"\",\n            emailError:\"\"\n        };\n\n        //Check if password was offClicked\n        this.passwordBlured=false;\n        this.userNameBlured=false;\n        this.firstNameBlured=false;\n        this.emailBlured=false;\n        this.lastNameBlured=false;\n        cookies.set('findel-ServerMessage', '', { path: '/' });\n        \n      }\n\n      nextPath(path) {\n        this.props.history.push(path);\n      }\n    \n    render() {\n      \n      var redText={color: \"red\"};\n      return (\n       \n        <div className=\"RegisterPage\">\n            <h1>   </h1>\n            <text>{this.state.serverMessage}</text>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\n            <text style={redText}>{this.state.userNameError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\n            <text style={redText}>{this.state.passwordError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\n            <text style={redText}>{this.state.emailError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\n            <text style={redText}>{this.state.firstNameError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\n            <text style={redText}>{this.state.lastNameError}</text>\n            </label>\n            <br></br>\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\n        </div>\n      );\n\n    }\n    handleKeyPress = (event) => {\n      if(event.key == 'Enter'){\n        this.handleSubmit();\n      }\n    }\n\n    handleUserNameBlur(event) {\n      this.userNameBlured=true;\n      this.handleUserNameChange(event);\n    }\n    \n    handleUserNameChange(event) {;\n      checkForms.checkUserName(event.target.value, this);\n    }\n\n    handleFirstNameBlur(event) {\n      this.firstNameBlured=true;\n      this.handleFirstNameChange(event);\n    }\n\n    handleFirstNameChange(event) {\n      checkForms.checkFirstName(event.target.value, this);\n    }\n    \n    handleFirstNameBlur(event) {\n      this.firstNameBlured=true;\n      this.handleFirstNameChange(event);\n    }\n    handleLastNameBlur(event) {\n      this.lastNameBlured=true;\n      this.handleLastNameChange(event);\n    }\n    handleLastNameChange(event) {\n      checkForms.checkLastName(event.target.value, this);\n    }\n    \n    handleEmailChange(event) {\n      checkForms.checkEmail(event.target.value, this);\n      }\n      handleEmailBlur(event) {\n        this.emailBlured=true;\n        this.handleEmailChange(event);\n      }\n    handlePasswordBlur(event) {\n      this.passwordBlured=true;\n      this.handlePasswordChange(event);\n      \n    }\n    handlePasswordChange(event) {\n      checkForms.checkPassword(event.target.value, this)\n    }\n    \n    async handleSubmit() {\n      this.passwordBlured=true;\n      this.userNameBlured=true;\n      this.firstNameBlured=true;\n      this.emailBlured=true;\n      this.lastNameBlured=true;\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\n      {\n        var dataFromServer;\n        var opts={\n          email: this.state.email,\n          password: this.state.password,\n          userName:this.state.userName,\n          lastName: this.state.lastName,\n          firstName: this.state.firstName\n        };\n        if (this.state.email==\"\")\n          opts.email=undefined;\n        await axios.post('/api/users/createStudentAccount', opts\n            ).then(response => {\n              dataFromServer= response.data;\n              var token=cookies.get('findel-auth-token') || \"\";\n              if (token!=\"\")\n                this.setState({serverMessage: dataFromServer.userName+\"   \"});\n              else\n              {\n                cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\n                this.history.goBack();\n              }\n              }).catch(error=> {\n                if (error.response==undefined)\n                  this.setState({serverMessage: \"  \"});\n                else\n                  this.setState({serverMessage: error.response.data});\n          });\n      }\n    }\n}\nexport default RegisterPage;","import React, { Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n  withRouter\r\n} from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n//import './register.css';\r\n\r\nimport teacherRegister from './teacherRegister';\r\nimport adminRegister from './adminRegister';\r\nimport registerPage from './registerPage';\r\n\r\n\r\nclass register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='register'>\r\n      <Router>\r\n        <div>\r\n    \r\n         \r\n          <Link to=\"/registerPage\" style={this.state.displayLoggingComponents}></Link>\r\n          <text style={this.state.displayLoggingComponents}> - </text>\r\n          <Link to=\"/teacherRegister\" style={this.state.displayLoggingComponents}></Link>\r\n          <text style={this.state.displayLoggingComponents}> - </text>\r\n          <Link to=\"/adminRegister\" style={this.state.displayLoggingComponents}></Link>\r\n          \r\n          <hr />\r\n\r\n          <Route exact path=\"/\" component={registerPage} />\r\n       \r\n          <Route path=\"/teacherRegister\" component={teacherRegister} />\r\n          <Route path=\"/adminRegister\" component={adminRegister} />\r\n          <Route path=\"/registerPage\" component={registerPage} />\r\n        </div>\r\n      </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default register;\r\n","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './Asearch.css';\r\nclass Asearch extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search\">\r\n        <text> : {this.props.aSearch.topic}<br></br>: {this.props.aSearch.searchDate}<br></br><br></br></text>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAsearch.PropsTypes={\r\n    aSearch: PropsTypes.object.isRequired\r\n}   \r\nexport default Asearch;","import React, { Component } from 'react';\r\nimport Asearch from './Asearch';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Searches extends Component {\r\n    render() {\r\n        \r\n        return this.props.searches.map((aSearch)=>(\r\n            <Asearch key={aSearch.id} aSearch={aSearch} />\r\n          ));\r\n    }\r\n}\r\nSearches.PropsTypes={\r\n    searches: PropsTypes.array.isRequired\r\n} \r\n  export default Searches;","import React, { Component } from 'react';\r\nimport SearchHistoryComponent from './user_search_history_components/searches';\r\n//import './UserSearchHistory.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserSearchHistory extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var searchHistory=[];\r\n        this.state = {\r\n          SearchHistory:searchHistory\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        Axios.get(\"/api/userData/searchHistory\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((searchHistory) => {\r\n              // Do something with the result\r\n              this.setHistory(searchHistory)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var searchHistory=[];\r\n              this.setHistory(searchHistory)\r\n          });\r\n          \r\n        \r\n      }\r\n    setHistory(searchHistory)\r\n    {\r\n      this.setState({\r\n        SearchHistory:searchHistory\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div className=\"App\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n             </h1>\r\n        </div>\r\n        <div>\r\n            <SearchHistoryComponent searches={this.state.SearchHistory}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserSearchHistory;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\n//import './Afavorite.css';\r\nclass Afavorite extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"fav_site\">\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.fav_site.siteURL}>{this.props.fav_site.formatedURL}</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAfavorite.PropsTypes={\r\n  fav_site: PropsTypes.object.isRequired\r\n}   \r\nexport default Afavorite;","import React, { Component } from 'react';\r\nimport Afavorite from './Afavorite';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Topic extends Component {\r\n    render() {\r\n        \r\n        return this.props.topic.sites.map((fav_site)=>(\r\n            <Afavorite key={fav_site.id} fav_site={fav_site} />\r\n          ));\r\n    }\r\n}\r\nTopic.PropsTypes={\r\n    topic: PropsTypes.array.isRequired\r\n} \r\nexport default Topic;","import React, { Component } from 'react';\r\nimport Topics from './topics';\r\nimport PropsTypes from 'prop-types';\r\nimport './favorites.css';\r\nclass Favorites extends Component {\r\n    render() {\r\n        return this.props.favorites.map((topic)=>(\r\n            <div className=\"favorites_div\">\r\n                <text>{topic.topicName}: <br/></text>\r\n                <Topics key={topic.id} topic={topic} />\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nFavorites.PropsTypes={\r\n    favorites: PropsTypes.array.isRequired\r\n} \r\nexport default Favorites;","import React, { Component } from 'react';\r\nimport FavoritesComponent from './user_favorites_components/favorites';\r\n//import './Userfavorites.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserFavorites extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var favorites=[];\r\n        this.state = {\r\n            favorites:favorites\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        Axios.get(\"/api/userData/favorites\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((favorites) => {\r\n              // Do something with the result\r\n              var id=1;\r\n              favorites.forEach(topic => {\r\n                topic.id=id;\r\n                id++;\r\n                topic.sites.forEach(site => {\r\n                  site.id=id;\r\n                  id++;\r\n                });\r\n              });\r\n              favorites=favorites.reverse(); \r\n              this.setFavorites(favorites)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var favorites=[];\r\n              this.setFavorites(favorites)\r\n          });\r\n          \r\n        \r\n      }\r\n    setFavorites(favorites)\r\n    {\r\n      this.setState({\r\n        favorites:favorites\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div className=\"App\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n              </h1>\r\n        </div>\r\n        <div>\r\n            <FavoritesComponent favorites={this.state.favorites}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserFavorites;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\n//import './Afavorite.css';\r\nclass Site_component extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"site_component_div\">\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.site.siteURL}>{this.props.site.siteFormatedURL}</a><br/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSite_component.PropsTypes={\r\n  site: PropsTypes.object.isRequired\r\n}   \r\nexport default Site_component;","import React, { Component } from 'react';\r\nimport Site_component from './Site_component';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Domain_component extends Component {\r\n    render() {\r\n        \r\n        return this.props.domain.sites.map((site)=>(\r\n            <Site_component key={site.id} site={site} />\r\n          ));\r\n    }\r\n}\r\nDomain_component.PropsTypes={\r\n    domain: PropsTypes.array.isRequired\r\n} \r\nexport default Domain_component;","import React, { Component } from 'react';\r\nimport Domain_component from './Domain_component';\r\nimport PropsTypes from 'prop-types';\r\nimport './domains.css';\r\nclass Domains_component extends Component {\r\n    render() {\r\n        return this.props.domains.map((domain)=>(\r\n            <div className=\"domains_div\">\r\n                <text>{domain.domainURL}: <br/></text>\r\n                <text>: {domain.score} <br/></text>\r\n                <Domain_component key={domain.id} domain={domain} />\r\n                <button onClick={domain.request_sites_of_domain_function} hidden={domain.is_more_sites_button_hidden}>...</button>\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nDomains_component.PropsTypes={\r\n    domains: PropsTypes.array.isRequired\r\n} \r\nexport default Domains_component;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Domains_component from './Domains_component';\r\n\r\nclass DomainsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var domains=[];\r\n        this.state = {\r\n            domains:domains\r\n        };\r\n        this.id=1;\r\n        axios.get(\"/api/present_data/domains\")\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((domains) => {\r\n              // Do something with the result\r\n              domains.sort((domain_a, domain_b) => {return domain_b.score-domain_a.score;})\r\n              domains.forEach(domain => {\r\n                domain.id=this.id;\r\n                domain.sites=[];\r\n                domain.request_sites_of_domain_function= () => this.request_sites_of_domain(domain._id);\r\n                domain.is_more_sites_button_hidden=false;\r\n                this.id++;\r\n              });\r\n              this.setDomains(domains)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var domains=[];\r\n              this.setDomains(domains)\r\n          });\r\n          \r\n        \r\n      }\r\n    setDomains(domains)\r\n    {\r\n      this.setState({\r\n        domains:domains\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div className=\"Domains\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n            </h1>\r\n        </div>\r\n        <div>\r\n            <Domains_component domains={this.state.domains}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n    request_sites_of_domain = (domain_id) =>\r\n    {\r\n      axios.get(\"/api/present_data/domain_sites/?id=\"+domain_id)\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((domain) => {\r\n              // Do something with the result\r\n                domain.sites.forEach(site => {\r\n                  site.id=this.id;\r\n                  this.id++;\r\n                });\r\n              var domains=this.state.domains;\r\n              for (var index=0; index<domains.length; index++)\r\n                if (domains[index]._id == domain._id)\r\n                {\r\n                    domains[index].sites=domain.sites;\r\n                    domains[index].is_more_sites_button_hidden=true;\r\n                    break;\r\n                }\r\n              this.setDomains(domains)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var domains=[];\r\n              this.setDomains(domains)\r\n          });\r\n    }\r\n}\r\n\r\n  export default DomainsPage;","import axios from 'axios';\r\n\r\n\r\nclass Topic_function {\r\n    constructor() {\r\n    }\r\n\r\n    ranking_function(this_of_topic, rank_type, up_or_down)\r\n    {\r\n        var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n        var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n        var upArrow = this_of_topic.state[string_for_edge_upArrow_color];\r\n        var downArrow = this_of_topic.state[string_for_edge_downArrow_color];\r\n\r\n        var rankCode = 0;\r\n        if (up_or_down == \"up\")\r\n        {\r\n            if (upArrow != 'green')\r\n                rankCode = 1;\r\n        }\r\n        else\r\n            if (downArrow != 'red')\r\n                rankCode = 2;\r\n\r\n        var edgeID=this_of_topic.props.topic.edgeID;\r\n        var opts={\r\n            edgeID: edgeID,\r\n            rank_type: rank_type,\r\n            rankCode: rankCode\r\n        };\r\n        axios.post(\"/api/userRanking/rank_topic_topic_edge\", opts, {\r\n            headers: {'findel-auth-token': this_of_topic.token}\r\n        })\r\n            .then((result) => {\r\n                var res_data = result.data;\r\n                var recived_time = new Date(res_data.edge_ranking_date);\r\n                if (this_of_topic.last_ranking_timeStamp != null)\r\n                    {\r\n                        /*\r\n                         if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                         the deletion was received earlier\r\n                        */\r\n                         if (this_of_topic.last_ranking_id == res_data.edge_ranking_id)\r\n                            if (res_data.rankCode != 0)\r\n                                return;\r\n                        \r\n                        if (recived_time - this_of_topic.last_ranking_timeStamp < 0)\r\n                            return;\r\n                    }\r\n                this_of_topic.last_ranking_id = res_data.edge_ranking_id;\r\n                this_of_topic.last_ranking_timeStamp = recived_time;\r\n\r\n                var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n\r\n                var json_for_state_change = {};\r\n                json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n                if (res_data.rankCode == 0)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else if (res_data.rankCode == 1)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n                }\r\n                json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n                this_of_topic.setState(json_for_state_change);\r\n            }).catch((error) => {\r\n                this_of_topic.setState({rank_error: error.response.data});\r\n            });\r\n    }\r\n}\r\n\r\nexport default Topic_function;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './Topic_component.css';\r\nimport Topic_functions from './topic_functions';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst cookies = new Cookies();\r\nconst topic_functions=new Topic_functions();\r\nclass Topic_component extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var liked_upArrow='black';\r\n        var liked_downArrow='black';\r\n        var user_rankings = this.props.topic.user_rankings\r\n        user_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n      });\r\n        this.state = {\r\n          liked_upArrowColor: liked_upArrow,\r\n          liked_downArrowColor: liked_downArrow,\r\n          rank_error: \"\",\r\n          edge_liked_weight: this.props.topic.liked_weight,\r\n          rankCode: this.props.topic.userRankCode\r\n        }\r\n        this.last_ranking_timeStamp = null;\r\n        this.last_ranking_id = null;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n    }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    return (\r\n      <div className=\"topic\">\r\n        <text style={{marginRight: '10px'}}>{this.props.topic.connected_topic_name}<br/></text>\r\n        <text style={{marginRight: '10px'}}>\r\n         : \r\n        <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n        ({this.state.edge_liked_weight}) \r\n        <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n        <br/></text>\r\n        <text style={{marginRight: '10px'}}>  : {this.props.topic.web_scrape_score}<br/></text>\r\n        <text style={{marginRight: '10px'}}> : {this.props.topic.last_web_scrape}<br/></text>\r\n        <text style={redText}>{this.state.rank_error}</text>\r\n      </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    topic_functions.ranking_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    topic_functions.ranking_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nTopic_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Topic_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Topic_component from './Topic_component';\r\n\r\nclass Topics_component extends Component {\r\n    render() {\r\n        return this.props.topics.map((topic)=>(\r\n            <Topic_component key={topic.id} topic={topic}/>\r\n          ));\r\n        }\r\n}\r\nTopics_component.PropsTypes={\r\n    topics: PropsTypes.array.isRequired\r\n} \r\n  export default Topics_component;","import React, { Component } from 'react';\r\nimport './topics_page.css'\r\nimport axios from 'axios';\r\nimport Topics_component from './Topics_component';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Topics_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var topics=[];\r\n        const {topic} = this.props.match.params\r\n        this.state = {\r\n            topics:topics,\r\n            topic: topic\r\n        };\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/present_data/connected_topics/?topic=\"+topic,{\r\n          headers: {'findel-auth-token': this.token}})\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((topics) => {\r\n              // Do something with the result\r\n              topics.sort((topic_a, topic_b)=>{return topic_b.web_scrape_score-topic_a.web_scrape_score;})\r\n              topics.sort((topic_a, topic_b)=>{return topic_b.liked_weight-topic_a.liked_weight;})\r\n              topics.forEach(topic => {\r\n                  topic.id=this.id;\r\n                  this.id++;\r\n              });\r\n              this.setTopics(topics)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var topics=[];\r\n              this.setTopics(topics)\r\n          });\r\n          \r\n        \r\n      }\r\n      setTopics(topics)\r\n    {\r\n      this.setState({\r\n        topics: topics\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        <div>\r\n            <div className=\"Topics\" style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                 </h1>\r\n            </div>\r\n            <div>\r\n            <h3 id=\"topic_headLine\">{this.state.topic}</h3>\r\n                <Topics_component topics={this.state.topics}/>\r\n            </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default Topics_page;","import axios from 'axios';\r\n\r\n\r\nclass Site_topic_edge_function {\r\n    constructor() {\r\n    }\r\n\r\n    ranking_function(this_of_edge, rank_type, up_or_down)\r\n    {\r\n        var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n        var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n        var upArrow = this_of_edge.state[string_for_edge_upArrow_color];\r\n        var downArrow = this_of_edge.state[string_for_edge_downArrow_color];\r\n\r\n        var rankCode = 0;\r\n        if (up_or_down == \"up\")\r\n        {\r\n            if (upArrow != 'green')\r\n                rankCode = 1;\r\n        }\r\n        else\r\n            if (downArrow != 'red')\r\n                rankCode = 2;\r\n\r\n        var edgeID=this_of_edge.props.aRefSite.edgeID;\r\n        var opts={\r\n            edgeID: edgeID,\r\n            rank_type: rank_type,\r\n            rankCode: rankCode\r\n        };\r\n        axios.post(\"/api/userRanking/rank_site_topic_edge\", opts, {\r\n            headers: {'findel-auth-token': this_of_edge.token}\r\n        })\r\n            .then((result) => {\r\n                var res_data = result.data;\r\n                var recived_time = new Date(res_data.edge_ranking_date);\r\n                if (this_of_edge.last_ranking_timeStamp != null)\r\n                    {\r\n                        /*\r\n                         if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                         the deletion was received earlier\r\n                        */\r\n                         if (this_of_edge.last_ranking_id == res_data.edge_ranking_id)\r\n                            if (res_data.rankCode != 0)\r\n                                return;\r\n                        \r\n                        if (recived_time - this_of_edge.last_ranking_timeStamp < 0)\r\n                            return;\r\n                    }\r\n                this_of_edge.last_ranking_id = res_data.edge_ranking_id;\r\n                this_of_edge.last_ranking_timeStamp = recived_time;\r\n\r\n                var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n                //var string_for_domain_rank_type_weight = \"domain_\" + rank_type + \"_weight\";\r\n\r\n                var json_for_state_change = {};\r\n                json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n                //json_for_state_change[string_for_domain_rank_type_weight] = res_data.domain_weight;\r\n                if (res_data.rankCode == 0)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else if (res_data.rankCode == 1)\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n                }\r\n                else\r\n                {\r\n                    json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n                }\r\n                json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n                this_of_edge.setState(json_for_state_change);\r\n            }).catch((error) => {\r\n                this_of_edge.setState({rank_error: error.response.data});\r\n            });\r\n    }\r\n}\r\n\r\nexport default Site_topic_edge_function;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './connected_topic_edge_component.css';\r\nimport Site_topic_edge_function from './site_topic_edge_function';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst cookies = new Cookies();\r\nconst site_topic_edge_function=new Site_topic_edge_function();\r\nclass Connected_topic_edge_component extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var trustworthy_upArrow='black';\r\n    var trustworthy_downArrow='black';\r\n    var educational_upArrow='black';\r\n    var educational_downArrow='black';\r\n\r\n    var users_rankings = this.props.connected_topic_edge.usersRanking\r\n    users_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"trustworthy\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            trustworthy_upArrow = 'green'\r\n          else\r\n            trustworthy_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"educational\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            educational_upArrow = 'green'\r\n          else\r\n            educational_downArrow = 'red'\r\n        }\r\n      });\r\n    this.state = {\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      trustworthy_upArrowColor: trustworthy_upArrow,\r\n      trustworthy_downArrowColor: trustworthy_downArrow,\r\n      educational_upArrowColor: educational_upArrow,\r\n      educational_downArrowColor: educational_downArrow,\r\n      rank_error: \"\",\r\n      edge_liked_weight: this.props.connected_topic_edge.liked_weight,\r\n      edge_trustworthy_weight: this.props.connected_topic_edge.trustworthy_weight,\r\n      edge_educational_weight: this.props.connected_topic_edge.educational_weight,\r\n      rankCode: this.props.connected_topic_edge.userRankCode,\r\n    }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    var more_on_site_textStyle={color: '#0587c3'};\r\n    return (\r\n          <div className=\"connected_topic\">\r\n            <a className=\"topic_link\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.connected_topic_edge.topic.topicName}>{this.props.connected_topic_edge.topic.topicName}</a>\r\n            <br/>\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.edge_liked_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              &nbsp;      \r\n            </text><br/>\r\n            \r\n            <text> \r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.trustworthy_upArrowColor} onClick={() => this.rank_click_up(\"trustworthy\")}/> \r\n              ({this.state.edge_trustworthy_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.trustworthy_downArrowColor} onClick={() => this.rank_click_down(\"trustworthy\")}/>\r\n              &nbsp;     \r\n            </text>\r\n            <br/>\r\n            \r\n\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n              ({this.state.edge_educational_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n              &nbsp;        \r\n            </text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={\"/SitePage/\"+this.props.connected_topic_edge.site.siteURL}>  ...</a>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    site_topic_edge_function.ranking_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    site_topic_edge_function.ranking_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nConnected_topic_edge_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Connected_topic_edge_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Connected_topic_edge_component from './connected_topic_edge_component';\r\n\r\nclass Connected_topics_edges_component extends Component {\r\n    render() {\r\n        return this.props.connected_topics_edges.map((connected_topic_edge)=>(\r\n            <Connected_topic_edge_component key={connected_topic_edge.id} connected_topic_edge={connected_topic_edge}/>\r\n          ));\r\n        }\r\n}\r\nConnected_topics_edges_component.PropsTypes={\r\n    topics: PropsTypes.array.isRequired\r\n} \r\n  export default Connected_topics_edges_component;","import React, { Component } from 'react';\r\nimport './site_page.css'\r\nimport axios from 'axios';\r\nimport Connected_topics_edges_component from './connected_topics_edges_component';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Site_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var topics=[];\r\n        const {siteURL} = this.props.match.params;\r\n        var domain= {domainURL: \"\"};\r\n        this.state = {\r\n            topics:topics,\r\n            site: siteURL,\r\n            domain: domain,\r\n            site_topic_edges: []\r\n        };\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/present_data/site_data/?siteURL=\"+siteURL,{\r\n          headers: {'findel-auth-token': this.token}})\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((data) => {\r\n              // Do something with the result\r\n              data.site_topic_edges.sort((edge_a, edge_b)=>{return edge_b.web_scrape_score-edge_a.web_scrape_score;});\r\n              data.site_topic_edges.sort((edge_a, edge_b)=>{return edge_b.liked_weight-edge_a.liked_weight;});\r\n              data.site_topic_edges.forEach(edge => {\r\n                  edge.id = this.id;\r\n                  edge.site={ siteURL: data.siteURL }\r\n                  this.id++;\r\n              });\r\n\r\n              this.setState(data)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div>\r\n            <div className=\"Site\" style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                  </h1>\r\n            </div>\r\n            <div>\r\n            <h3 id=\"site_headLine\">{this.state.siteFormatedURL}</h3>\r\n                <text> : </text>\r\n                <text>Domain: {this.state.domain.domainURL}</text>\r\n                <Connected_topics_edges_component connected_topics_edges={this.state.site_topic_edges}/>\r\n            </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default Site_page;","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons';\n\nimport axios from 'axios';\nimport './App.css';\nimport SearchPage from './components/SearchPage';\nimport LoginPage from './components/LoginPage';\nimport RegisterPage from './components/RegistrationComponents/register';\nimport UserSearchHistory from './components/User_Search_History_Page';\nimport UserFavorites from './components/User_favorites_page';\nimport DomainsPage from './components/Domains_components/DomainsPage';\nimport Topics_page from './components/Topics_components/topics_page';\nimport Site_page from './components/Site_components/site_page';\nimport Cookies from 'universal-cookie';\nimport { createBrowserHistory } from 'history';\n \nconst history = createBrowserHistory();\nhistory.listen((location, action) => {\n  console.log(\n    `The current URL is ${location.pathname}${location.search}${location.hash}`\n  );\n  console.log(`The last navigation action was ${action}`);\n  window.location= location.pathname + location.search;\n});\nconst cookies = new Cookies();\nlibrary.add(fab, faCheckSquare, faCoffee);\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    var userName=cookies.get('findelUserName') || \"\";\n    var userPosition=cookies.get('findelUserPosition') || \"\";\n    var hideLogoutBTN=false;\n    var displayLoggingComponents={display: 'none'};\n    var displayUserDataComponents={display: 'inline'}\n    if (userName==\"\")\n    {\n      hideLogoutBTN=true;\n      displayLoggingComponents={display: 'inline'};\n      displayUserDataComponents={display: 'none'}\n    }\n    this.state = {\n      userName: userName,\n      hideLogoutBTN:hideLogoutBTN,\n      displayLoggingComponents:displayLoggingComponents,\n      displayUserDataComponents:displayUserDataComponents\n    };\n    if (userName==\"\")\n    {\n      var token=cookies.get('findel-auth-token') || \"\";\n      if (token!=\"\")\n      {\n        var opts={\n          headers: {'findel-auth-token': token}\n        }\n        axios.get('/api/users/me', opts\n        ).then(response => {\n          userName= response.data.userName;\n          userPosition= response.data.position;\n          var displayRegisterComponent={display: 'none'};\n          displayUserDataComponents={display: 'inline'}\n          if (userPosition!=\"student\")\n            displayRegisterComponent={display: 'inline'};\n          this.setState({\n            userName: userName,\n            hideLogoutBTN: false,\n            displayLoggingComponents:{display: 'none'},\n            displayRegisterComponents:displayRegisterComponent,\n            displayUserDataComponents:displayUserDataComponents\n            });\n          cookies.set('findelUserName', userName, { path: '/' });\n          cookies.set('findelUserPosition', userPosition, { path: '/' });\n          }).catch(function(error) {\n            alert(error.data);\n          });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className='App'>\n      <Router>\n        <div>\n          <text> {this.state.userName}</text>\n          <div className=\"leftDiv\">\n          <button className=\"emptyBTN\" name=\"logoutBTN\" onClick={() => this.logout()} hidden={this.state.hideLogoutBTN}></button>\n          </div>\n          <br></br>\n          \n\n          <text text className=\"link_text\" onClick={() => this.push_to_history_and_go('/')}></text>\n          <text className=\"link_text\" style={this.state.displayLoggingComponents} onClick={() => this.push_to_history_and_go('/Login')}> - </text>\n          <text className=\"link_text\" style={this.state.displayRegisterComponents} onClick={() => this.push_to_history_and_go('/Register')}> -   </text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserSearchHistory')}> -  </text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserFavorites')}> -   </text>\n          <text className=\"link_text\" onClick={() => this.push_to_history_and_go('/DomainsPage')}> - </text>\n          <hr />\n\n          <Route exact path=\"/\" component={SearchPage} />\n          <Route path=\"/Login\" component={LoginPage} />\n          <Route path=\"/Register\" component={RegisterPage} />\n          <Route path=\"/UserSearchHistory\" component={UserSearchHistory} />\n          <Route path=\"/UserFavorites\" component={UserFavorites} />\n          <Route path=\"/DomainsPage\" component={DomainsPage} />\n          <Route path=\"/TopicsPage/:topic\" component={Topics_page} />\n          <Route path=\"/SitePage/:siteURL\" component={Site_page} />\n          \n        </div>\n      </Router>\n      </div>\n    );\n  }\n  push_to_history_and_go(location)\n  {\n    history.push(location);\n    window.location = location;\n  }\n  logout()\n  {\n    cookies.set('findel-auth-token', \"\", { path: '/' });\n    cookies.set('findelUserName', \"\", { path: '/' });\n    window.location = \"/\";\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}