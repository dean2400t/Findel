{"version":3,"sources":["components/SearchPageComponents/pages_in_search/Page_in_search.jsx","components/SearchPageComponents/pages_in_search/Pages_in_search.jsx","components/SearchPageComponents/expandedContents/Acontent.jsx","components/SearchPageComponents/expandedContents/ExpandedContents.jsx","components/SearchPageComponents/ref_to_pages/rank_page_topic_edge_function.js","components/SearchPageComponents/ref_to_pages/Page_ref.jsx","components/SearchPageComponents/ref_to_pages/Pages_ref.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousTitle.jsx","components/SearchPageComponents/AmbigousContent/AAAmbigousSubject.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousSubjects.jsx","components/SearchPageComponents/AmbigousContent/Ambigous.jsx","components/SearchPageComponents/pages_in_search/Rabin_Karp_search.js","components/SearchPageComponents/pages_in_search/Jaccard_similarity.js","components/SearchPageComponents/pages_in_search/search_functions.js","components/SearchPageComponents/SearchPage.jsx","components/LoginPage.jsx","components/RegistrationComponents/checkForms.js","components/RegistrationComponents/teacherRegister.jsx","components/RegistrationComponents/adminRegister.jsx","components/RegistrationComponents/registerPage.jsx","components/RegistrationComponents/register.jsx","components/user_search_history_components/Search.jsx","components/user_search_history_components/Searches.jsx","components/user_search_history_components/User_Search_History_Page.jsx","components/user_favorites_components/Page.jsx","components/user_favorites_components/Pages.jsx","components/user_favorites_components/Favorites.jsx","components/user_favorites_components/User_favorites_page.jsx","components/Domains_components/Page_component.jsx","components/Domains_components/Domain_component.jsx","components/Domains_components/Domains_component.jsx","components/Domains_components/List_for_googleAPI_component.jsx","components/Domains_components/DomainsPage.jsx","components/Topics_components/topic_topic_edge_rank_function.js","components/Topics_components/Topic_component.jsx","components/Topics_components/Topics_component.jsx","components/Comments_components/comments_functions.js","components/Comments_components/Comment.jsx","components/Comments_components/Comments_Array_mapper.jsx","components/Comments_components/add_comment.jsx","components/Comments_components/Comments.jsx","components/Comments_components/arrange_comments.js","components/Topics_components/topics_page.jsx","components/Page_components/page_topic_edge_rank_function.js","components/Page_components/connected_topic_edge_component.jsx","components/Page_components/connected_topics_edges_component.jsx","components/Page_components/Page_page.jsx","App.js","index.js"],"names":["Page_in_search","react_default","a","createElement","className","this","props","page_in_search","formatedURL","scrape","Component","PropsTypes","object","isRequired","Pages_in_search","pages_in_search","map","SearchPageComponents_pages_in_search_Page_in_search","key","id","array","Acontent","target","rel","href","aContent","page","partition","ExpandedContents","expandedContents","SearchPageComponents_expandedContents_Acontent","rank_page_topic_edge_function","this_of_page_ref","rank_type","up_or_down","string_for_edge_upArrow_color","string_for_edge_downArrow_color","upArrow","state","downArrow","rankCode","opts","edgeID","page_ref","axios","post","headers","findel-auth-token","token","then","result","res_data","data","recived_time","Date","edge_ranking_date","last_ranking_timeStamp","last_ranking_id","edge_ranking_id","string_for_domain_rank_type_weight","json_for_state_change","weight","domain_weight","setState","catch","error","rank_error","response","cookies","Cookies","Page_ref","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","liked_upArrow","liked_downArrow","credibility_upArrow","credibility_downArrow","educational_upArrow","educational_downArrow","user_rankings_for_edge","forEach","ranking","liked_upArrowColor","liked_downArrowColor","credibility_upArrowColor","credibility_downArrowColor","educational_upArrowColor","educational_downArrowColor","edge_liked_weight","liked_weight","edge_credibility_weight","credibility_weight","edge_educational_weight","educational_weight","userRankCode","domain_liked_weight","domain","domain_credibility_weight","domain_educational_weight","get","_this2","pageURL","pageSnap","react_fontawesome_index_es","icon","faArrowAltCircleUp","color","onClick","rank_click_up","faArrowAltCircleDown","rank_click_down","style","encodeURIComponent","Pages_refs","pages_ref","SearchPageComponents_ref_to_pages_Page_ref","pages_refs","AAmbigousTitle","theTitle","string","AAAmbigousSubject","subject","name","description","AAmbigousSubjects","theSubjects","aData","SearchPageComponents_AmbigousContent_AAAmbigousSubject","Ambigous","ambigousData","Fragment","SearchPageComponents_AmbigousContent_AAmbigousTitle","title","AmbigousContent_AAmbigousSubjects","subID","subjects","rabinKarpSearch","primeQ","numOfPatternsLength","num_of_pages","Q","numOfChars","RMarray","push","i","R","pages_hashes","index","arr","texts","wikiLinks_hashes_to_word_by_length","words_matricies_by_length","pattern","patLength","h","j","charCodeAt","wikiLinks","undefined","length","topicName","pages_hits","linkName","index_in_connected_topics_edges","hash","curLength","linksInLength","linkLength","linkIndex","link","wordsMatriciesInLenght","find","element","text","pageIndex","curNumOfChars","hashTableLength","hashedTable","txtHash","stringFromText","pageText","page_hashes","num_of_links_in_page","hashed_link_martix","page_hash","textIndex","substring","Jaccard_similarity","prime_page_text","RM","prime_page_hash","creatHashTable","create_sets_array","hashed_set_array","hashed","sub_string","primePage","page_to_compare","union","intersection","set_array","keys","set","Search_functions","request_pages_from_Server_to_use","_callee","search","this_of_searchPage","regenerator_default","wrap","_context","prev","next","pages","pagesArray","full_pages_array","domainURL","score","pageID","pageFormatedURL","user_rankings","order_index_by_google","shuffled_pages","shuffle_pages_from_google","pages_from_server_to_use","full_pages_list_from_server","message","server_message","stop","init_pages_search","pageToSearchArray","hash_and_search_pages","_callee2","html","$","_context2","cheerio","load","rabinKarp","creatHashTables","add_hits_from_page","jaccard_similarity","compute_page_similarity","was_page_searched","console","log","abrupt","request_WebScraping_for_pages","_callee3","promiseArray","_context3","is_edge_up_to_date","pagesTempState","pageHTML","Promise","all","results","pageSearchFinished","rank_pages","top_pages","sort","page1","page2","page_ref_index","is_more_pages_button_hidden","page_displayed_so_far_index","ref_pages_for_histoty","display_expended_content","connected_topics_edges","edge1","edge2","web_scrape_score","linkHits","topic1","expandedCon","content","is_show_more_content_hidden","expandend_content_status","expandedCon_to_history","wikiText","curSearch","links","Rabin_Karp_search","hashWikiLinks","refreshSearchStatus","setInterval","did_user_ended_seach","clearInterval","search_expended_content","search_button_function_stop_search","temp","rk_results","num_of_top_pages_to_use","num_of_top_pages_used","_ref4","asyncToGenerator","mark","_callee5","_context5","_this3","words_in_length","word","num_of_hits","_x11","apply","arguments","_this4","is_seach_needed","is_search_required","best_pages_results","edges_to_update","connected_topic_edge","_id","edges","search_functions","SearchPage","handleKeyPress","event","search_button_function","search_button_text","simple_search_button_text","search_button_iconClass","deep_search","simple_search_button_function","Axios","_ref3","is_simple_search_selected","search_using_wikipedia","assertThisInitialized","ambig","category","ambig_for_history","save_to_history","_x","respnse","history","my_search","URLSearchParams","window","location","pages_and_texts","pagesFinishedScrape","wikiLinksHashesToWordByLength","wordsMatriciesByLength","inputValue","newID","add_page_to_topic_input","add_topic_to_topic_input","add_page_to_topic_description","was_add_page_button_clicked","was_add_topic_button_clicked","search_box_textStyle","cursor","backgroundColor","src","type","value","onChange","evt","updateTXT","onKeyPress","deep_search_radio_button_clicked","checked","simple_search_radio_button_clicked","expandedContents_ExpandedContents","hidden","add_topic_button_clicked","add_topic_to_topic_change_function","add_page_button_clicked","placeholder","add_page_to_topic_change_function","add_page_to_topic_change_description_function","add_page","Pages_ref","more_pages_clicked","pages_in_search_Pages_in_search","AmbigousContent_Ambigous","hidden_value","pageDescription","pathname","LoginPage","handleSubmit","userName","password","serverMessage","path","attampt","handleUserNameChange","handlePasswordChange","dataFromServer","goBack","checkForms","formsThis","userNameClass","successClass","userNameError","errorClass","userNameBlured","firstName","firstNameClass","firstNameError","chI","charAt","firstNameBlured","lastName","lastNameClass","lastNameError","lastNameBlured","email","emailClass","emailError","foundShtrude","numOfDots","chIndex","emailBlured","passClass","passError","passwordBlured","passwordClass","passwordError","CheckForms","teacherRegister","uerNameBlured","redText","onBlur","handleUserNameBlur","handlePasswordBlur","handleEmailChange","handleEmailBlur","handleFirstNameChange","handleFirstNameBlur","handleLastNameChange","handleLastNameBlur","checkUserName","checkFirstName","checkLastName","checkEmail","checkPassword","isEmailOK","isFirstNameOK","isLastNameOK","isPasswordOK","isUserNameOK","adminRegister","RegisterPage","register","BrowserRouter","Link","to","displayLoggingComponents","Route","exact","component","registerPage","Search","topic","searchDate","Searches","searches","components_user_search_history_components_Search","UserSearchHistory","SearchHistory","searchHistory","setHistory","fontSize","textAlign","user_search_history_components_Searches","Pages","Page","Favorites","favorites","favorite","user_favorites_components_Pages","UserFavorites","setFavorites","components_user_favorites_components_Favorites","Page_component","Domain_component","Domains_components_Page_component","Domains_component","domains","Domains_components_Domain_component","request_pages_of_domain_function","List_for_googleAPI_component","domains_list","DomainsPage","request_pages_of_domain","domain_id","not_educational_or_credibal_domains","all_positive_domains","domain_a","domain_b","Domains_components_Domains_component","text-align","components_Domains_components_List_for_googleAPI_component","topic_topic_edge_rank_function","this_of_topic","Topic_component","marginRight","connected_topic_name","last_web_scrape","Topics_component","topics","components_Topics_components_Topic_component","Comments_functions","this_of_comment","string_for_comment_upArrow_color","string_for_comment_downArrow_color","commentID","comment","comment_ranking_date","comment_ranking_id","comments_functions","Comment","usersRanking","user_name_color","user","position","show_comment_time","time_made","add_comment_text","is_add_comment_hidden","add_comment_vars","object_id","object_id_collection_name","root_comment_id","root_comment","user_name_style","border-right-color","border-right-style","padding","add_commnet_text_clicked","Comments_components_add_comment","parrent_object_data","Comments_components_Comments_Array_mapper","comments","sub_comments","ranking_function","Comments_Array_mapper","components_Comments_components_Comment","Add_comment","comment_text","comments_added","rows","cols","comment_text_change","send_comment_to_server","collection_name","Comments","are_comments_hidden","show_hide_instruction","show_hide_comments_text_clicked","number_of_overall_comments","arrange_comments","comments_array","comment1","comment2","sub_comment1","sub_comment2","Topics_page","match","params","parrent_comments_array","topic_a","topic_b","Comments_components_Comments","Topics_components_Topics_component","page_topic_edge_rank_function","this_of_edge","Connected_topic_edge_component","is_jaccard_hidden","is_num_of_links_in_page_hidden","Connected_topics_edges_component","Page_components_connected_topic_edge_component","Page_page","page_topic_edges","edge_a","edge_b","edge","connected_topics_edges_component","createBrowserHistory","listen","action","concat","library","add","fab","faCheckSquare","faCoffee","App","userPosition","hideLogoutBTN","display","displayUserDataComponents","displayRegisterComponent","displayRegisterComponents","alert","logout","push_to_history_and_go","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.eae7f03f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Page_in_search.css';\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PropsTypes from 'prop-types';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nclass Page_in_search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"page_in_seach\">\r\n          <p>{this.props.page_in_search.formatedURL} <i className={this.props.page_in_search.scrape}></i></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPage_in_search.PropsTypes={\r\n  page_in_search: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_in_search;","import React, { Component } from 'react';\r\nimport Page_in_search from './Page_in_search';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages_in_search extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages_in_search.map((page_in_search)=>(\r\n            <Page_in_search key={page_in_search.id} page_in_search={page_in_search} />\r\n          ));\r\n    }\r\n}\r\nPages_in_search.PropsTypes={\r\n    pages_in_search: PropsTypes.array.isRequired\r\n} \r\n  export default Pages_in_search;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './Acontent.css';\r\nclass Acontent extends Component {\r\n  render() {\r\n    return (\r\n      <span>\r\n        <a className=\"exContent\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.aContent.page}>{this.props.aContent.page}</a><text className=\"ex_content_partition\">{this.props.aContent.partition}</text> \r\n      </span>\r\n    );\r\n  }\r\n}\r\nAcontent.PropsTypes={\r\n    aContent: PropsTypes.object.isRequired\r\n}   \r\nexport default Acontent;","import React, { Component } from 'react';\r\nimport Acontent from './Acontent';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass ExpandedContents extends Component {\r\n    render() {\r\n        \r\n        return this.props.expandedContents.map((aContent)=>(\r\n            <Acontent key={aContent.id} aContent={aContent} />\r\n          ));\r\n    }\r\n}\r\nExpandedContents.PropsTypes={\r\n    expandedContents: PropsTypes.array.isRequired\r\n} \r\n  export default ExpandedContents;","import axios from 'axios';\r\n\r\nexport default function rank_page_topic_edge_function(this_of_page_ref, rank_type, up_or_down)\r\n{\r\n    var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_page_ref.state[string_for_edge_upArrow_color];\r\n    var downArrow = this_of_page_ref.state[string_for_edge_downArrow_color];\r\n\r\n    var rankCode = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rankCode = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rankCode = 2;\r\n\r\n    var edgeID=this_of_page_ref.props.page_ref.edgeID;\r\n    var opts={\r\n        edgeID: edgeID,\r\n        rank_type: rank_type,\r\n        rankCode: rankCode\r\n    };\r\n    axios.post(\"/api/userRanking/rank_page_topic_edge\", opts, {\r\n        headers: {'findel-auth-token': this_of_page_ref.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.edge_ranking_date);\r\n            if (this_of_page_ref.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_page_ref.last_ranking_id == res_data.edge_ranking_id)\r\n                        if (res_data.rankCode != 0)\r\n                            return;\r\n                    \r\n                    if (recived_time - this_of_page_ref.last_ranking_timeStamp < 0)\r\n                        return;\r\n                }\r\n            this_of_page_ref.last_ranking_id = res_data.edge_ranking_id;\r\n            this_of_page_ref.last_ranking_timeStamp = recived_time;\r\n\r\n            var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n            var string_for_domain_rank_type_weight = \"domain_\" + rank_type + \"_weight\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n            json_for_state_change[string_for_domain_rank_type_weight] = res_data.domain_weight;\r\n            if (res_data.rankCode == 0)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rankCode == 1)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n            this_of_page_ref.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            this_of_page_ref.setState({rank_error: error.response.data});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport './Page_ref.css';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Cookies from 'universal-cookie';\r\nimport rank_page_topic_edge_function from './rank_page_topic_edge_function';\r\n\r\nconst cookies = new Cookies();\r\n\r\nclass Page_ref extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var credibility_upArrow='black';\r\n    var credibility_downArrow='black';\r\n    var educational_upArrow='black';\r\n    var educational_downArrow='black';\r\n\r\n    var users_rankings = this.props.page_ref.user_rankings_for_edge\r\n    users_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"credibility\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            credibility_upArrow = 'green'\r\n          else\r\n            credibility_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"educational\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            educational_upArrow = 'green'\r\n          else\r\n            educational_downArrow = 'red'\r\n        }\r\n      });\r\n    this.state = {\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      credibility_upArrowColor: credibility_upArrow,\r\n      credibility_downArrowColor: credibility_downArrow,\r\n      educational_upArrowColor: educational_upArrow,\r\n      educational_downArrowColor: educational_downArrow,\r\n      rank_error: \"\",\r\n      edge_liked_weight: this.props.page_ref.liked_weight,\r\n      edge_credibility_weight: this.props.page_ref.credibility_weight,\r\n      edge_educational_weight: this.props.page_ref.educational_weight,\r\n      rankCode: this.props.page_ref.userRankCode,\r\n      domain_liked_weight: this.props.page_ref.domain.liked_weight,\r\n      domain_credibility_weight: this.props.page_ref.domain.credibility_weight,\r\n      domain_educational_weight: this.props.page_ref.domain.educational_weight\r\n    }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    var more_on_page_textStyle={color: '#0587c3'};\r\n    return (\r\n          <div className=\"a_page_ref\">\r\n            <text><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page_ref.pageURL}>{this.props.page_ref.formatedURL}</a></text>\r\n            <br/><text>{this.props.page_ref.pageSnap}</text>\r\n            <br/>\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.edge_liked_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              &nbsp;     \r\n            </text><br/>\r\n            \r\n            <text> \r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.credibility_upArrowColor} onClick={() => this.rank_click_up(\"credibility\")}/> \r\n              ({this.state.edge_credibility_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.credibility_downArrowColor} onClick={() => this.rank_click_down(\"credibility\")}/>\r\n              &nbsp;    &nbsp;\r\n              <span className=\"field-tip\">\r\n                  <text><u>*</u></text>\r\n                    <span className=\"tip-content\">\r\n                    \t       ?\r\n                    <br/>\r\n                    <br/>\r\n                    \t   ?        ,   ,   /    .\r\n                    <br/>\r\n                    <br/>\r\n                    \t   ?          ?\r\n                          ?    ?  ?    ? \r\n                    <br/>\r\n                    <br/>\r\n                    \t        ?        .\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                       :     ,   .        ,    .   ,    .\r\n                  </span>\r\n              </span>  \r\n            </text>\r\n            <br/>\r\n            \r\n\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n              ({this.state.edge_educational_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n              &nbsp;        \r\n            </text>\r\n\r\n            <br/><text> {this.state.domain_liked_weight}   </text>\r\n            <br/><text>{this.state.domain_credibility_weight}  </text>\r\n            <br/><text>{this.state.domain_educational_weight}  </text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_on_page_textStyle} href={\"/Page_page/\"+encodeURIComponent(this.props.page_ref.formatedURL)}>  ...</a>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    rank_page_topic_edge_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    rank_page_topic_edge_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nPage_ref.PropsTypes={\r\n    page_ref: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_ref;","import React, { Component } from 'react';\r\nimport Page_ref from './Page_ref';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages_refs extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages_ref.map((page_ref)=>(\r\n            <Page_ref key={page_ref.id} page_ref={page_ref} />\r\n          ));\r\n    }\r\n}\r\nPages_refs.PropsTypes={\r\n    pages_refs: PropsTypes.array.isRequired\r\n} \r\n  export default Pages_refs;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAmbigousTitle.css';\r\nclass AAmbigousTitle extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"title\">\r\n      <text><u><b>{this.props.theTitle}</b></u></text>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAAmbigousTitle.PropsTypes={\r\n    theTitle: PropsTypes.string.isRequired\r\n}   \r\nexport default AAmbigousTitle;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAAmbigousSubject.css';\r\nclass AAAmbigousSubject extends Component {\r\n  render() {\r\n    return (\r\n    <div className=\"subject\">\r\n      <text>{this.props.subject.name}: {this.props.subject.description}</text>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nAAAmbigousSubject.PropsTypes={\r\n    subject: PropsTypes.object.isRequired\r\n}   \r\nexport default AAAmbigousSubject;","import React, { Component } from 'react';\r\nimport AmbigousSubject from './AAAmbigousSubject';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass AAmbigousSubjects extends Component {\r\n    render() {\r\n        \r\n        return this.props.theSubjects.map((aData)=>(\r\n                <AmbigousSubject key={aData.id} subject={aData}/>\r\n          ));\r\n          \r\n    }\r\n}\r\nAAmbigousSubjects.PropsTypes={\r\n  theSubjects: PropsTypes.array.isRequired\r\n} \r\n  export default AAmbigousSubjects;","import React, { Component } from 'react';\r\nimport AambigousTitle from './AAmbigousTitle';\r\nimport AmbigousSubjects from './AAmbigousSubjects';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Ambigous extends Component {\r\n    render() {\r\n        \r\n        return this.props.ambigousData.map((aData)=>(\r\n            <React.Fragment>\r\n                <AambigousTitle key={aData.id} theTitle={aData.title} />\r\n                <AmbigousSubjects key={aData.subID} theSubjects={aData.subjects}/>\r\n            </React.Fragment>\r\n          ));\r\n          \r\n    }\r\n}\r\nAmbigous.PropsTypes={\r\n    aData: PropsTypes.array.isRequired\r\n} \r\n  export default Ambigous;","class rabinKarpSearch {\r\n\tR;\r\n\tQ;\r\n\tnumOfChars;\r\n\tRMarray;\r\n\tconstructor(primeQ, numOfPatternsLength, num_of_pages) {\r\n\t  var R = 65536;\r\n\t  var Q = primeQ;\r\n\t  var numOfChars = numOfPatternsLength;\r\n\t  var RMarray=[];\r\n\t  RMarray.push(1);\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n\t\t  RMarray.push((R * RMarray[i-1]) % Q);\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n\t  this.numOfChars=numOfPatternsLength;\r\n\t  this.RMarray=RMarray;\t\r\n\t  this.num_of_pages=num_of_pages;\r\n\t  \r\n\t  this.pages_hashes=[];\r\n\t  for (var index=0; index<num_of_pages; index++)\r\n\t  {\r\n\t\t  var arr=[];\r\n\t\t  arr[numOfPatternsLength-1]=null;\r\n\t\t  this.pages_hashes.push(arr);\r\n\t  }\r\n\r\n\t  this.texts=[];\r\n\t  this.texts[num_of_pages-1]=null;\r\n\r\n\t  this.wikiLinks_hashes_to_word_by_length=null;\r\n\t  this.words_matricies_by_length=null;\r\n\t  }\r\n\t  \r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\thashWikiLinks(wikiLinks){\r\n\tvar words_matricies_by_length=[];\r\n\tvar wikiLinks_hashes_to_word_by_length=[];\r\n\tfor (var index=0; index<this.numOfChars; index++)\r\n\t{\r\n\t\twikiLinks_hashes_to_word_by_length.push([]);\r\n\t\tvar arr=[];\r\n\t\tarr[this.Q-1]=undefined;\r\n\t\twords_matricies_by_length.push(arr);\r\n\t}\r\n\r\n\t\r\n\tfor (index=0; index<wikiLinks.length; index++)\r\n\t\tif (wikiLinks[index].topicName!=null)\r\n\t\t\tif (wikiLinks[index].topicName.length<this.numOfChars)\r\n\t\t\t{\r\n\t\t\t\tvar pages_hits=[];\r\n\t\t\t\tpages_hits[this.num_of_pages-1]=null;\r\n\t\t\t\tvar page=wikiLinks[index].topicName;\r\n\t\t\t\tvar patLength=page.length-1;\r\n\t\t\t\twikiLinks_hashes_to_word_by_length[patLength].push({linkName: page, \r\n\t\t\t\t\tindex_in_connected_topics_edges: wikiLinks[index].index_in_connected_topics_edges, \r\n\t\t\t\t\thash: -1, \r\n\t\t\t\t\tpages_hits: pages_hits});\r\n\t\t\t}\r\n\tvar curLength=1;\r\n\t\twikiLinks_hashes_to_word_by_length.forEach(linksInLength => {\r\n\t\tif (linksInLength[0]!=null)\r\n\t\t{\r\n\t\t\tvar linkLength=curLength;\r\n\t\t\tvar linkIndex=0;\r\n\t\t\tlinksInLength.forEach(link => {\r\n\t\t\t\tlink.hash=this.hash(link.linkName, linkLength);\r\n\t\t\t\tvar wordsMatriciesInLenght=words_matricies_by_length[linkLength-1];\r\n\t\t\t\tif (wordsMatriciesInLenght[link.hash]==undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\twordsMatriciesInLenght[link.hash]=[{\r\n\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar findIfLinkAlreadyInHashInMatrix=wordsMatriciesInLenght[link.hash].find(element=>{\r\n\t\t\t\t\t\treturn element.linkName=link.linkName;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!findIfLinkAlreadyInHashInMatrix)\r\n\t\t\t\t\t\twordsMatriciesInLenght[link.hash].push({\r\n\t\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlinkIndex++;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\tcurLength++;\r\n\t});\r\n\tthis.wikiLinks_hashes_to_word_by_length=wikiLinks_hashes_to_word_by_length;\r\n\tthis.words_matricies_by_length=words_matricies_by_length;\r\n\t}\r\n\r\n\tcreatHashTables(text, pageIndex) {\r\n\t\tfor (var curNumOfChars=1; curNumOfChars<=this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashTableLength=text.length-curNumOfChars+1;\r\n\t\t\tvar hashedTable=[];\r\n\t\t\tvar txtHash = this.hash(text, curNumOfChars);\r\n\t\t\thashedTable[0]=txtHash;\r\n\t\t\tfor (var index = 1; index < hashTableLength; index++) {\r\n\t\t\t\ttxtHash = (txtHash + this.Q - this.RMarray[curNumOfChars-1]*text.charCodeAt(index-1)% this.Q) % this.Q;\r\n\t\t\t\ttxtHash = (txtHash*this.R + text.charCodeAt(index-1+curNumOfChars)) % this.Q;\r\n\t\t\t\thashedTable[index]=txtHash;\r\n\t\t\t\t}\r\n\t\t\tthis.pages_hashes[pageIndex][curNumOfChars-1]=hashedTable;\r\n\t\t}\r\n\t\tthis.texts[pageIndex]=text;\r\n\t}\r\n\r\n\tadd_hits_from_page(page, pageIndex)\r\n\t{\r\n\t\tvar pageText=this.texts[pageIndex];\r\n\t\tvar page_hashes=this.pages_hashes[pageIndex]\r\n\t\tvar stringFromText;\r\n\t\tvar num_of_links_in_page=0;\r\n\t\t//pageHit[pageIndex]={\"pageHits\": 0, \"pageOriginalIndex\": pageIndex};\r\n\t\tfor (var curNumOfChars=0; curNumOfChars<this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashed_link_martix=this.words_matricies_by_length[curNumOfChars];\r\n\t\t\tvar page_hash=page_hashes[curNumOfChars];\r\n\t\t\tvar textIndex=0;\r\n\t\t\tpage_hash.forEach(hash => {\r\n\t\t\t\tif (hashed_link_martix[hash]!=undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tstringFromText=pageText.substring(textIndex,textIndex+curNumOfChars+1);\r\n\t\t\t\t\thashed_link_martix[page_hash[textIndex]].forEach(element => {\r\n\t\t\t\t\t\tif (stringFromText==element.linkName)\r\n\t\t\t\t\t\t\tif (this.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]==null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]=1;\r\n\t\t\t\t\t\t\t\tnum_of_links_in_page++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tthis.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttextIndex++;\r\n\t\t\t});\r\n\t\t}\r\n\t\tpage.num_of_links_in_page=num_of_links_in_page;\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nexport default rabinKarpSearch;","class Jaccard_similarity {\r\n\tR;\r\n\tQ;\r\n    numOfChars;\r\n    RM;\r\n\tconstructor(primeQ, numOfChars, prime_page_text) {\r\n\t  var R = 65536;\r\n\t  var Q = primeQ;\r\n      this.RM = 1;\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n      this.RM = (R * this.RM) % Q;\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n      this.numOfChars=numOfChars;\r\n      var prime_page_hash=this.creatHashTable(prime_page_text);\r\n      this.create_sets_array(prime_page_text, prime_page_hash);\r\n    }\r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\tcreatHashTable(pageText) {\r\n        var hashTableLength=pageText.length-this.numOfChars+1;\r\n        var hashedTable=[];\r\n        var txtHash = this.hash(pageText, this.numOfChars);\r\n        hashedTable[0]=txtHash;\r\n        for (var index = 1; index < hashTableLength; index++) {\r\n            txtHash = (txtHash + this.Q - this.RM*pageText.charCodeAt(index-1)% this.Q) % this.Q;\r\n            txtHash = (txtHash*this.R + pageText.charCodeAt(index-1+this.numOfChars)) % this.Q;\r\n            hashedTable[index]=txtHash;\r\n            }\r\n        return hashedTable;\r\n    }\r\n    \r\n    create_sets_array(prime_page_text, prime_page_hash)\r\n    {\r\n        var index=0;\r\n        var hashed_set_array = [];\r\n        hashed_set_array[this.Q-1]=undefined;\r\n        prime_page_hash.forEach(hashed => {\r\n            var sub_string = prime_page_text.substring(index, index+this.numOfChars);\r\n            if (hashed_set_array[hashed]==undefined)\r\n            {\r\n                hashed_set_array[hashed]={};\r\n                hashed_set_array[hashed][sub_string] = {primePage: 1, page_to_compare: 0};\r\n            }\r\n            else if (hashed_set_array[hashed][sub_string] == undefined)\r\n                hashed_set_array[hashed][sub_string] = {primePage: 1, page_to_compare: 0};\r\n            index++;\r\n        });\r\n        this.hashed_set_array = hashed_set_array;\r\n    }\r\n\r\n\tcompute_page_similarity(pageText)\r\n\t{\r\n        var index=0;\r\n        var pageHash=this.creatHashTable(pageText);\r\n        pageHash.forEach(hashed => {\r\n            var sub_string = pageText.substring(index, index+this.numOfChars); \r\n            if (this.hashed_set_array[hashed]==undefined)\r\n            {\r\n                this.hashed_set_array[hashed]={};\r\n                this.hashed_set_array[hashed][sub_string] = {primePage: 0, page_to_compare: 1};\r\n            }\r\n            else if(this.hashed_set_array[hashed][sub_string]==undefined)\r\n                this.hashed_set_array[hashed][sub_string] = {primePage: 0, page_to_compare: 1};\r\n            else if (this.hashed_set_array[hashed][sub_string].page_to_compare!=1)\r\n                this.hashed_set_array[hashed][sub_string].page_to_compare=1;\r\n            index++;\r\n        });\r\n\r\n        var union=0;\r\n        var intersection=0;\r\n        this.hashed_set_array.forEach(set_array => {\r\n            if (set_array)\r\n                Object.keys(set_array).forEach(set => {\r\n                    if (set_array[set].primePage==1 && set_array[set].page_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        intersection++;\r\n                        set_array[set].page_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primePage==0 && set_array[set].page_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        set_array[set].page_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primePage==1 && set_array[set].page_to_compare==0)\r\n                        union++;\r\n                });\r\n        });\r\n        var jaccard_similarity= intersection/union;\r\n        return jaccard_similarity;\r\n\t}\r\n\r\n}\r\n\r\nexport default Jaccard_similarity;","import axios from 'axios';\r\nimport Rabin_Karp_search from \"./Rabin_Karp_search\";\r\nimport Jaccard_similarity from './Jaccard_similarity';\r\nimport cheerio from 'cheerio';\r\n\r\nclass Search_functions{\r\n    Search_functions(){}\r\n\r\n    async search_using_wikipedia(wikiText ,this_of_searchPage){\r\n        await this.request_pages_from_Server_to_use(this_of_searchPage.curSearch, this_of_searchPage);\r\n        if (this_of_searchPage.pages_from_server_to_use!=null)\r\n        {\r\n            await this.init_pages_search(this_of_searchPage);\r\n            var links=[];\r\n            for (var index=0; index<this_of_searchPage.connected_topics_edges.length; index++)\r\n            {\r\n                this_of_searchPage.connected_topics_edges[index].linkHits=0;\r\n                links.push({topicName: this_of_searchPage.connected_topics_edges[index].topic1.topicName, index_in_connected_topics_edges:index});\r\n            }\r\n            this_of_searchPage.rabinKarp= new Rabin_Karp_search(3001, 20, this_of_searchPage.pages_from_server_to_use.length);\r\n            this_of_searchPage.rabinKarp.hashWikiLinks(links);\r\n            this_of_searchPage.jaccard_similarity=new Jaccard_similarity(20399, 10, wikiText)\r\n            this_of_searchPage.pagesTempState=this_of_searchPage.state.pages_in_search;\r\n            \r\n            var timeToRefresh=750;\r\n\r\n            //function to show status of pages search and check if user requested to stop\r\n            let refreshSearchStatus=setInterval(\r\n            () => {\r\n                if (this_of_searchPage.pageSearchFinished==false && this_of_searchPage.did_user_ended_seach==false)\r\n                    this_of_searchPage.setState({pages_in_search: this_of_searchPage.pagesTempState});\r\n                else\r\n                {\r\n                    clearInterval(refreshSearchStatus);\r\n                    this_of_searchPage.pageSearchFinished=false;\r\n                    this.rank_pages(this_of_searchPage);\r\n                    this.search_expended_content(this_of_searchPage);\r\n                    this_of_searchPage.search_button_function_stop_search();\r\n                }\r\n            }\r\n            ,timeToRefresh\r\n            );\r\n\r\n            //start scraping asynchronously\r\n            this.request_WebScraping_for_pages(this_of_searchPage);\r\n        }\r\n        else\r\n            this_of_searchPage.search_button_function_stop_search();\r\n    }\r\n    shuffle_pages_from_google(full_pages_array)\r\n    {\r\n        full_pages_array.sort(function(page1, page2){\r\n            if (page2.order_index_by_google===0) return 1;\r\n            if (page1.order_index_by_google===0) return -1;\r\n            if (page2.order_index_by_google==null && page1.order_index_by_google==null) return 0;\r\n            if (page2.order_index_by_google!=null && page1.order_index_by_google==null) return 1;\r\n            if (page2.order_index_by_google==null && page1.order_index_by_google!=null) return -1;\r\n            return page1.order_index_by_google-page2.order_index_by_google;\r\n        });\r\n        full_pages_array.sort(function(page1, page2){\r\n            if (page2.domain.score < 1 && page1.domain.score>=1)\r\n                return -1;\r\n            else if (page2.domain.score >= 1 && page1.domain.score < 1)\r\n                return 1;\r\n            else if (page2.domain.score < 1 && page1.domain.score < 1)\r\n                return page2.domain.score-page1.domain.score;\r\n            else\r\n            return 0;\r\n        });\r\n        full_pages_array.sort(function(page1, page2){return page2.educational_weight - page1.educational_weight});\r\n        full_pages_array.sort(function(page1, page2){return page2.credibility_weight - page1.credibility_weight});\r\n        full_pages_array.sort(function(page1, page2){return page2.liked_weight - page1.liked_weight});\r\n        var temp;\r\n        for (var index=0; index<full_pages_array[index]-1; index+=2)\r\n            if (full_pages_array[index].domain.score < full_pages_array[index+1].domain.score)\r\n            {\r\n                temp=full_pages_array[index];\r\n                full_pages_array[index]=full_pages_array[index+1];\r\n                full_pages_array[index+1]=temp;\r\n            }\r\n        return full_pages_array;\r\n    }\r\n    \r\n    request_pages_from_Server_to_use= async (search, this_of_searchPage)=>{\r\n        await axios.get(\"/api/topics_to_pages_data/?search=\"+search,{\r\n            headers: {'findel-auth-token': this_of_searchPage.token}\r\n        })\r\n            .then((result) => {\r\n                // Get the result\r\n                // If we want text, call result.text()\r\n                return result.data;\r\n            }).then((pages) => {\r\n                // Do something with the result\r\n                var pagesArray=[];\r\n                var full_pages_array=[];\r\n                var num_of_initial_pages=9;\r\n                for (var index=0; index<pages.length; index++)\r\n                {\r\n                    if (pages[index].domain==null)\r\n                        pages[index].domain={domainURL: \"nullURL\", score: 0};\r\n                    full_pages_array.push({\r\n                        pageID: pages[index].pageID,\r\n                        edgeID: pages[index].edgeID,\r\n                        pageURL: pages[index].pageURL,\r\n                        formatedURL: pages[index].pageFormatedURL,\r\n                        pageSnap: pages[index].pageSnap,\r\n                        domain: pages[index].domain,\r\n                        user_rankings_for_edge: pages[index].user_rankings,\r\n                        liked_weight: pages[index].liked_weight,\r\n                        credibility_weight: pages[index].credibility_weight,\r\n                        educational_weight: pages[index].educational_weight,\r\n                        order_index_by_google: pages[index].order_index_by_google\r\n                        });\r\n                    }\r\n                var shuffled_pages = this.shuffle_pages_from_google(full_pages_array);\r\n                \r\n                for (var index=0; index<shuffled_pages.length; index++)\r\n                    shuffled_pages[index].index=index;\r\n                \r\n                for (var index=0; index<shuffled_pages.length && index<num_of_initial_pages; index++)\r\n                    pagesArray.push({index: index, \r\n                                pageID: shuffled_pages[index].pageID,\r\n                                edgeID: shuffled_pages[index].edgeID,\r\n                                pageURL: shuffled_pages[index].pageURL,\r\n                                formatedURL: shuffled_pages[index].formatedURL,\r\n                                pageSnap: shuffled_pages[index].pageSnap,\r\n                                domain: shuffled_pages[index].domain,\r\n                                user_rankings_for_edge: shuffled_pages[index].user_rankings_for_edge,\r\n                                liked_weight: shuffled_pages[index].liked_weight,\r\n                                credibility_weight: shuffled_pages[index].credibility_weight,\r\n                                educational_weight: shuffled_pages[index].educational_weight,\r\n                                order_index_by_google: shuffled_pages[index].order_index_by_google\r\n                                });\r\n                this_of_searchPage.pages_from_server_to_use=pagesArray;\r\n                this_of_searchPage.full_pages_list_from_server=shuffled_pages;\r\n            }).catch((error) => {\r\n                if (error.message===\"Network Error\")\r\n                    this_of_searchPage.setState({\r\n                        server_message: \"   \"\r\n                    });\r\n                else\r\n                    this_of_searchPage.setState({\r\n                        server_message: error.response.data\r\n                    });\r\n            });\r\n    }\r\n\r\n    init_pages_search= (this_of_searchPage)=>{\r\n        var pageToSearchArray=[];\r\n        var stats=\"fa fa-spinner fa-spin\";\r\n        for (var index=0; index<this_of_searchPage.pages_from_server_to_use.length; index++)\r\n            {\r\n                pageToSearchArray.push({id: this_of_searchPage.id, pageURL: this_of_searchPage.pages_from_server_to_use[index].pageURL, formatedURL: this_of_searchPage.pages_from_server_to_use[index].formatedURL, scrape: stats});\r\n                this_of_searchPage.id++;\r\n            }\r\n        this_of_searchPage.setState({\r\n            pages_in_search: pageToSearchArray\r\n        });\r\n        \r\n    }\r\n    \r\n    hash_and_search_pages= async (page, html, this_of_searchPage)=>\r\n    {\r\n        var $ = cheerio.load(html);\r\n        var text= $.text();\r\n        if (text.length>20)\r\n        {\r\n            this_of_searchPage.rabinKarp.creatHashTables(text, page.index);\r\n            this_of_searchPage.rabinKarp.add_hits_from_page(page, page.index);\r\n            page.jaccard_similarity = this_of_searchPage.jaccard_similarity.compute_page_similarity(text);\r\n            page.was_page_searched=true;\r\n            var opts={\r\n                edgeID: page.edgeID,\r\n                jaccard_similarity: page.jaccard_similarity,\r\n                num_of_links_in_page: page.num_of_links_in_page\r\n              };\r\n            await axios.post('/api/userInsertData/insert_page_topic_edge_scores', opts, {\r\n            headers: {'findel-auth-token': this.token}}\r\n                ).then(response => {\r\n                    console.log(\"edge successfuly added\");\r\n                }).catch(error=> {\r\n                    console.log(\"edge could not be added\");\r\n            });\r\n            return true;\r\n        }\r\n        else\r\n            return false;\r\n    }\r\n\r\n    request_WebScraping_for_pages= async (this_of_searchPage) =>{\r\n        var promiseArray = this_of_searchPage.pages_from_server_to_use.map(page=>{\r\n            return axios.get(\"/api/webScrape/?pageID=\"+page.pageID + \"&edgeID=\" + page.edgeID + \"&force_scrape=false\",{\r\n            })\r\n            .then((result) => {\r\n                if (result.data.is_edge_up_to_date == true)\r\n                {\r\n                    page.jaccard_similarity= result.data.jaccard_similarity;\r\n                    page.num_of_links_in_page= result.data.num_of_links_in_page;\r\n                    this_of_searchPage.pagesTempState[page.index].scrape=\"fa fa-check-circle-o\";\r\n                }\r\n                else\r\n                {\r\n                    this.hash_and_search_pages(page, result.data.pageHTML, this_of_searchPage).then(()=>\r\n                    {this_of_searchPage.pagesTempState[page.index].scrape=\"fa fa-check-circle-o\";\r\n                    }).catch(()=>\r\n                    {\r\n                        this_of_searchPage.pagesTempState[page.index].scrape= \"fa fa-times-circle-o\";\r\n                    });\r\n                }\r\n            }).catch( () => {\r\n                this_of_searchPage.page.jaccard_similarity=0;\r\n                this_of_searchPage.page.num_of_links_in_page=0;\r\n                this_of_searchPage.pagesTempState[page.index].scrape= \"fa fa-times-circle-o\";\r\n            });\r\n          });\r\n        await Promise.all(promiseArray).then(results => {\r\n        console.log(results)\r\n        }).catch(function(error) {\r\n            console.log(error);\r\n        });\r\n        this_of_searchPage.pageSearchFinished=true;\r\n    }\r\n\r\n\r\n    rank_pages=(this_of_searchPage)=>\r\n    {   \r\n        var top_pages = this_of_searchPage.pages_from_server_to_use;\r\n        top_pages.sort(function(page1, page2){return page2.num_of_links_in_page - page1.num_of_links_in_page});\r\n        top_pages.sort(function(page1, page2){return page2.jaccard_similarity - page1.jaccard_similarity});\r\n        top_pages=this.shuffle_pages_from_google(top_pages);\r\n        var pages_ref=this_of_searchPage.state.pages_ref;\r\n        for (var page_ref_index=0; page_ref_index<top_pages.length; page_ref_index++)\r\n        {\r\n            if (top_pages[page_ref_index]!=null)\r\n            {\r\n                pages_ref.push({id: this_of_searchPage.id, \r\n                    pageID: top_pages[page_ref_index].pageID,\r\n                    edgeID: top_pages[page_ref_index].edgeID,  \r\n                    pageURL: top_pages[page_ref_index].pageURL, \r\n                    formatedURL: top_pages[page_ref_index].formatedURL,\r\n                    pageSnap: top_pages[page_ref_index].pageSnap,\r\n                    domain: top_pages[page_ref_index].domain,\r\n                    user_rankings_for_edge: top_pages[page_ref_index].user_rankings_for_edge, \r\n                    liked_weight: top_pages[page_ref_index].liked_weight,\r\n                    credibility_weight: top_pages[page_ref_index].credibility_weight,\r\n                    educational_weight: top_pages[page_ref_index].educational_weight});\r\n                this_of_searchPage.id++;\r\n            }\r\n        }\r\n        var is_more_pages_button_hidden=false;\r\n        if (pages_ref.length>=this_of_searchPage.full_pages_list_from_server.length)\r\n            is_more_pages_button_hidden=true;\r\n        this_of_searchPage.setState({\r\n            pages_ref: pages_ref,\r\n            pages_in_search: [],\r\n            is_more_pages_button_hidden:is_more_pages_button_hidden\r\n        });\r\n        this_of_searchPage.page_displayed_so_far_index=pages_ref.length-1;\r\n        this_of_searchPage.top_pages=top_pages;\r\n        this_of_searchPage.ref_pages_for_histoty=pages_ref;\r\n    }\r\n\r\n    display_expended_content = (this_of_searchPage) =>\r\n    {\r\n        var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.web_scrape_score - edge1.web_scrape_score});\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.linkHits - edge1.linkHits});\r\n        connected_topics_edges.sort(function(edge1, edge2){if (edge2.topic1.topicName.length<3 && edge1.topic1.topicName.length>=3) return -1;});\r\n        connected_topics_edges.sort(function(edge1, edge2){return edge2.liked_weight - edge1.liked_weight});\r\n        \r\n        var expandedCon=[];\r\n        for (var content=0; content<connected_topics_edges.length && content<10; content++)\r\n        {\r\n            var partition=\" | \";\r\n            expandedCon.push({id: this_of_searchPage.id, \r\n                page: connected_topics_edges[content].topic1.topicName, \r\n                partition: partition\r\n                });\r\n            this_of_searchPage.id++;\r\n        }\r\n        var is_show_more_content_hidden=false;\r\n        if (connected_topics_edges.length==0)\r\n            is_show_more_content_hidden=true;\r\n        this_of_searchPage.setState({\r\n            expandedContents: expandedCon,\r\n            is_show_more_content_hidden: is_show_more_content_hidden,\r\n            expandend_content_status: \"\"\r\n        });\r\n        this_of_searchPage.expandedCon_to_history=expandedCon;\r\n        \r\n    }\r\n\r\n    async best_pages_results(this_of_searchPage, rk_results)\r\n    {\r\n        var top_pages=this_of_searchPage.top_pages;\r\n        var num_of_top_pages_to_use=6;\r\n        var num_of_top_pages_used=0;\r\n        for (var index=0; index<top_pages.length && num_of_top_pages_used<num_of_top_pages_to_use; index++)\r\n            if (top_pages[index].was_page_searched!=true)\r\n            {\r\n                await axios.get(\"/api/webScrape/?pageID=\"+top_pages[index].pageID + \"&edgeID=\" + top_pages[index].edgeID + \"&force_scrape=true\",{\r\n                })\r\n                .then(async (result) => {\r\n                    await this.hash_and_search_pages(top_pages[index], result.data.pageHTML, this_of_searchPage); \r\n                    top_pages[index].was_page_searched=true;\r\n                    await rk_results.forEach(words_in_length => {\r\n                        words_in_length.forEach(word => {\r\n                            var num_of_hits=word.pages_hits[top_pages[index].index];\r\n                            if (num_of_hits != undefined)\r\n                                this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                        });\r\n                    });\r\n                    num_of_top_pages_used++;\r\n                }).catch( (error) => {\r\n                    console.log(\"page failed searched\");\r\n                });\r\n            }\r\n            else if (top_pages[index].was_page_searched==true)\r\n            {\r\n                rk_results.forEach(words_in_length => {\r\n                    words_in_length.forEach(word => {\r\n                        var num_of_hits=word.pages_hits[top_pages[index].index];\r\n                        if (num_of_hits != undefined)\r\n                            this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                    });\r\n                });\r\n                num_of_top_pages_used++;\r\n            }\r\n    }\r\n\r\n    search_expended_content(this_of_searchPage)\r\n    {\r\n        var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n        var is_seach_needed=false;\r\n        for (var index=0; index< connected_topics_edges.length; index++)\r\n            if (connected_topics_edges[index].is_search_required==true)\r\n                {\r\n                    is_seach_needed=true;\r\n                    break;\r\n                }\r\n        if (is_seach_needed)\r\n        {\r\n            var rk_results = this_of_searchPage.rabinKarp.wikiLinks_hashes_to_word_by_length;\r\n            this.best_pages_results(this_of_searchPage, rk_results)\r\n            .then(()=>{\r\n                this.display_expended_content(this_of_searchPage);\r\n            })\r\n            .then(()=>\r\n            {\r\n                var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n                var edges_to_update=[];\r\n                connected_topics_edges.forEach(connected_topic_edge => {\r\n                    if (connected_topic_edge.is_search_required)\r\n                        edges_to_update.push({\r\n                            _id: connected_topic_edge.edgeID,\r\n                            web_scrape_score: connected_topic_edge.linkHits\r\n                        })\r\n                });\r\n                var opts={\r\n                    edges: edges_to_update\r\n                };\r\n                axios.post('/api/userInsertData/insert_topic_topic_edges_scores', opts\r\n                    ).then(response => {\r\n                        console.log(response.data);\r\n                    }).catch(error=> {\r\n                        if (error.response==undefined)\r\n                        console.log(\"  \");\r\n                        else\r\n                        console.log(error.response.data);\r\n                });\r\n            })\r\n            .catch(() => {console.log(\"Search content failed\");});\r\n        }\r\n        else\r\n            this.display_expended_content(this_of_searchPage);\r\n    }\r\n}\r\nexport default Search_functions;","import React, { Component } from 'react';\r\nimport Pages_in_search from './pages_in_search/Pages_in_search';\r\nimport ExpandedContent from './expandedContents/ExpandedContents';\r\nimport Pages_ref from './ref_to_pages/Pages_ref';\r\nimport Ambigous from './AmbigousContent/Ambigous';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './SearchPage.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Search_functions from './pages_in_search/search_functions';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\nconst search_functions=new Search_functions();\r\n\r\n\r\nclass SearchPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.history=props.history;\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const my_search = urlParams.get('search');\r\n        this.curSearch=my_search;\r\n\r\n        this.pages_and_texts=[];\r\n        this.pagesFinishedScrape=0;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        this.pagesTempState=[];\r\n        this.pageSearchFinished=false;\r\n        this.top_pages=null;\r\n\r\n        this.rabinKarp=null;\r\n        this.wikiLinksHashesToWordByLength=[];\r\n        this.wordsMatriciesByLength=[];\r\n        this.id=1;\r\n        \r\n\r\n        if (this.history.location.state!=undefined)\r\n        {\r\n            var history=this.history.location.state;\r\n            if (history.ambigousData==undefined)\r\n                history.ambigousData=[];\r\n            if (history.expandedContents == undefined)\r\n                history.expandedContents=[];\r\n            if (history.pages_ref == undefined)\r\n                history.pages_ref=[];\r\n            this.state={\r\n                    inputValue: history.inputValue,\r\n                    pages_in_search: [],\r\n                    expandedContents: history.expandedContents,\r\n                    pages_ref: history.pages_ref,\r\n                    ambigousData: history.ambigousData,\r\n                    newID: history.newID,\r\n                    search_button_text: \" \",\r\n                    search_button_iconClass: \"\",\r\n                    server_message:\"\",\r\n                    add_page_to_topic_input: history.add_page_to_topic_input,\r\n                    add_topic_to_topic_input: history.add_topic_to_topic_input,\r\n                    add_page_to_topic_description: history.add_page_to_topic_description,\r\n                    was_add_page_button_clicked: history.was_add_page_button_clicked,\r\n                    was_add_topic_button_clicked: history.was_add_topic_button_clicked,\r\n                    is_more_pages_button_hidden: history.is_more_pages_button_hidden,\r\n                    is_simple_search_selected: history.is_simple_search_selected,\r\n                    is_show_more_content_hidden: history.is_show_more_content_hidden,\r\n                    expandend_content_status: \"\",\r\n                    page_displayed_so_far_index: history.page_displayed_so_far_index,\r\n                    pages_from_server_to_use: history.pages_from_server_to_use,\r\n                    full_pages_list_from_server: history.full_pages_list_from_server\r\n                    \r\n            }\r\n            this.full_pages_list_from_server = history.full_pages_list_from_server\r\n        }\r\n        else\r\n        {\r\n            this.pages_from_server_to_use=[];\r\n            this.full_pages_list_from_server=[];\r\n            this.page_displayed_so_far_index=0;\r\n            this.state = {\r\n            inputValue: my_search,\r\n            pages_in_search:[],\r\n            expandedContents: [],\r\n            pages_ref: [],\r\n            ambigousData: [],\r\n            newID: 1,\r\n            search_button_text: \" \",\r\n            search_button_iconClass: \"\",\r\n            server_message:\"\",\r\n            add_page_to_topic_input:\"\",\r\n            add_topic_to_topic_input:\"\",\r\n            add_page_to_topic_description: \"\",\r\n            was_add_page_button_clicked:false,\r\n            was_add_topic_button_clicked: false,\r\n            is_more_pages_button_hidden: true,\r\n            is_simple_search_selected: false,\r\n            is_show_more_content_hidden: true,\r\n            expandend_content_status: \"\"\r\n            };\r\n            if (my_search != null)\r\n                this.search_button_function();\r\n        }\r\n      }\r\n    render() {\r\n        var search_box_textStyle={color: '#F0F8FF', cursor: 'pointer'};\r\n        var more_content_textStyle={color: '#F0F8FF'};\r\n      return (\r\n        \r\n        <div className=\"SearchPage\">\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n                <div className=\"search_box_div\">\r\n                    <img id=\"findelTheme\" src=\"/publicComponents/findelTheme\"/>\r\n                    <div>\r\n                        <input id=\"search_text_box\" type=\"text\" value={this.state.inputValue} onChange={evt => this.updateTXT(evt)} onKeyPress={this.handleKeyPress}></input>\r\n                        <button id=\"searchBTN\" name=\"searchBTN\" onClick={() => this.search_button_function()}>{this.state.search_button_text} <i className={this.state.search_button_iconClass}></i></button><br/>\r\n                        <input type=\"radio\" onClick={() => this.deep_search_radio_button_clicked()} checked={!this.state.is_simple_search_selected} value=''/>  \r\n                        <input type=\"radio\" id=\"simple_search_radio_button\" onClick={() => this.simple_search_radio_button_clicked()} checked={this.state.is_simple_search_selected} value=''/>  \r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <text color='white'>{this.state.server_message}</text>\r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <ExpandedContent expandedContents={this.state.expandedContents}/>\r\n                        <text><i className={this.state.expandend_content_status}></i></text>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_content_textStyle} href={\"/Topics_page/\"+this.curSearch} hidden={this.state.is_show_more_content_hidden}>...</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"add_content_and_pages_div\" style={{backgroundColor:'#0587c3'}}>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={!this.state.was_add_topic_button_clicked}>\r\n                        <text style={search_box_textStyle} onClick= {() => this.add_topic_button_clicked(false)}>-  : &nbsp;</text><br/>\r\n                        <input type=\"text\" value={this.state.add_topic_to_topic_input} onChange={evt => this.add_topic_to_topic_change_function(evt)}/><button id=\"add_topic_to_topic_button\">+</button>\r\n                    </div>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={this.state.was_add_topic_button_clicked}>\r\n                        <text onClick= {() => this.add_topic_button_clicked(true)} style={search_box_textStyle}>+  ...</text>\r\n                    </div>\r\n                    <div className=\"add_page_to_topic_div\" hidden={!this.state.was_add_page_button_clicked}>\r\n                        <text onClick= {() => this.add_page_button_clicked(false)} style={search_box_textStyle}>-  : &nbsp;</text><br/>\r\n                        <input type=\"text\" id=\"add_page_to_topic_url_input\" placeholder=\".....//:https\" value={this.state.add_page_to_topic_input} onChange={evt => this.add_page_to_topic_change_function(evt)}/><br></br>\r\n                        <textarea value={this.state.add_page_to_topic_description} placeholder=\" \" onChange={evt => this.add_page_to_topic_change_description_function(evt)}/><br/>\r\n                        <button id=\"add_page_to_topic_button\" onClick={() => this.add_page()}>+</button>\r\n                    </div>\r\n                    <div className=\"add_page_to_topic_div\" hidden={this.state.was_add_page_button_clicked}>\r\n                        <text onClick= {() => this.add_page_button_clicked(true)} style={search_box_textStyle}>+  ...</text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <div id=\"pages_ref\">\r\n            <Pages_ref pages_ref={this.state.pages_ref}/>\r\n            <button onClick= {() => this.more_pages_clicked()} hidden={this.state.is_more_pages_button_hidden}> ...</button>\r\n        </div>\r\n        <div id=\"pages\">\r\n            <Pages_in_search pages_in_search={this.state.pages_in_search}/>\r\n        </div>\r\n        <div id=\"ambigous\">\r\n            <Ambigous ambigousData={this.state.ambigousData}/>\r\n        </div>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n        if(event.key == 'Enter'){\r\n          this.search_button_function();\r\n        }\r\n      }\r\n\r\n    updateTXT(evt){\r\n        this.setState(\r\n            {\r\n                inputValue: evt.target.value\r\n            }\r\n        );\r\n        this.curSearch=evt.target.value;\r\n    }\r\n\r\n    deep_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:false\r\n            }\r\n        )\r\n    }\r\n    simple_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:true\r\n            }\r\n        )\r\n    }\r\n\r\n    add_page_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_page_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page_to_topic_change_description_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_page_to_topic_description: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_page_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page()\r\n    {\r\n        var opts={\r\n            topicName: this.state.inputValue,\r\n            pageURL: this.state.add_page_to_topic_input,\r\n            pageDescription: this.state.add_page_to_topic_description\r\n          };\r\n        Axios.post('/api/addContent/add_page', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                this.setState({server_message: response.data});\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"  \"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n\r\n    add_topic_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_topic_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n    add_topic_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_topic_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    more_pages_clicked(){\r\n        this.pages_from_server_to_use=[];\r\n        var num_of_pages_to_add=10;\r\n        for (var index=this.page_displayed_so_far_index+1; index< this.page_displayed_so_far_index+1+num_of_pages_to_add && index<this.full_pages_list_from_server.length; index++)\r\n            this.pages_from_server_to_use.push(this.full_pages_list_from_server[index]);\r\n        search_functions.rank_pages(this);\r\n    }\r\n\r\n    search_button_function= async () => {\r\n        this.did_user_ended_seach=false;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function_stop_search(),\r\n            search_button_text: \" \",\r\n            simple_search_button_text:\" \",\r\n            search_button_iconClass: \"fa fa-spinner fa-spin\",\r\n            is_more_pages_button_hidden: true,\r\n            is_show_more_content_hidden: true,\r\n            expandend_content_status: \"fa fa-spinner fa-spin\",\r\n            server_message: \"\"\r\n        });\r\n        this.deep_search();\r\n    }\r\n\r\n    search_button_function_stop_search= async () => {\r\n        this.did_user_ended_seach=true;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function(),\r\n            simple_search_button_function: () => this.simple_search_button_function(),\r\n            search_button_text: \" \",\r\n            simple_search_button_text:\" \",\r\n            search_button_iconClass:\"\",\r\n            expandend_content_status: \"\"\r\n        });\r\n    }\r\n\r\n    save_to_history()\r\n    {\r\n        this.history.push({\r\n            pathname: '/',\r\n            search: '?search='+this.state.inputValue,\r\n            state: {\r\n                inputValue: this.state.inputValue,\r\n                pages_in_search: this.state.pages_in_search,\r\n                expandedContents: this.expandedCon_to_history,\r\n                pages_ref: this.ref_pages_for_histoty,\r\n                ambigousData: this.ambig_for_history,\r\n                newID: this.state.newID,\r\n                search_button_text: \" \",\r\n                search_button_iconClass: \"\",\r\n                server_message:\"\",\r\n                add_page_to_topic_input: this.state.add_page_to_topic_input,\r\n                add_topic_to_topic_input: this.state.add_topic_to_topic_input,\r\n                add_page_to_topic_description: this.state.add_page_to_topic_description,\r\n                was_add_page_button_clicked: this.state.was_add_page_button_clicked,\r\n                was_add_topic_button_clicked: this.state.was_add_topic_button_clicked,\r\n                is_more_pages_button_hidden: this.state.is_more_pages_button_hidden,\r\n                is_simple_search_selected: this.state.is_simple_search_selected,\r\n                is_show_more_content_hidden: this.state.is_show_more_content_hidden,\r\n                expandend_content_status: \"\",\r\n                page_displayed_so_far_index: this.page_displayed_so_far_index,\r\n                pages_from_server_to_use:this.pages_from_server_to_use,\r\n                full_pages_list_from_server: this.full_pages_list_from_server\r\n            }\r\n        });\r\n    }\r\n\r\n    deep_search= () => {\r\n        this.setState({\r\n            expandedContents: [],\r\n            pages_ref: [],\r\n            ambigousData: []\r\n        });\r\n        Axios.get(\"/api/topics_to_topics_data/?search=\"+this.curSearch,{\r\n                headers: {'findel-auth-token': this.token}\r\n        })\r\n        .then(async(result) => {\r\n            if (result.data.wikiText!=null && this.state.is_simple_search_selected==false)\r\n            {\r\n                    this.connected_topics_edges=result.data.connected_topics_edges;\r\n                await search_functions.search_using_wikipedia(result.data.wikiText, this);\r\n            }\r\n            \r\n            else if (result.data.ambig!=null)\r\n            {\r\n                result.data.ambig.forEach(category => {\r\n                    category.id=this.id;\r\n                    this.id++;\r\n                    category.subID=this.id;\r\n                    this.id++;\r\n                    category[\"subjects\"].forEach(subject => {\r\n                        subject.id=this.id;\r\n                        this.id++;\r\n                    });\r\n                });\r\n                this.setState({\r\n                    ambigousData: result.data.ambig\r\n                });\r\n                this.ambig_for_history=result.data.ambig;\r\n                this.search_button_function_stop_search();\r\n            }\r\n            else\r\n            {\r\n                this.connected_topics_edges=result.data.connected_topics_edges;\r\n                await search_functions.request_pages_from_Server_to_use(this.curSearch, this);\r\n                await search_functions.rank_pages(this);\r\n                await search_functions.display_expended_content(this);\r\n                this.search_button_function_stop_search();\r\n                this.save_to_history();\r\n            }\r\n            \r\n        }).catch( (error) => {\r\n            if (error.respnse!=null)\r\n                this.setState({\r\n                    server_message: error.respnse.data\r\n                });\r\n            else\r\n                this.setState({\r\n                    server_message: error.message\r\n                });\r\n            this.search_button_function_stop_search();\r\n        });\r\n    }\r\n          \r\n}\r\n\r\n  export default SearchPage;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        \r\n        super(props);\r\n        this.history=props.history;\r\n        this.state = {\r\n            userName: \"\",\r\n            password: \"\",\r\n            serverMessage:\"\"\r\n        };\r\n        cookies.set('findel-ServerMessage', '', { path: '/' });\r\n        this.attampt=0;\r\n      }\r\n      nextPath(path) {\r\n        this.props.history.push(path);\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div className=\"LoginPage\">\r\n            <h1> Login </h1>\r\n            <text>{this.state.serverMessage}</text>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" value={this.state.password} onChange={event => this.handlePasswordChange(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameChange(event) {\r\n        this.setState({userName: event.target.value});\r\n      }\r\n\r\n      handlePasswordChange(event) {\r\n        this.setState({password: event.target.value});\r\n    }\r\n    async handleSubmit() {\r\n      var dataFromServer;\r\n      var opts={\r\n        userName: this.state.userName,\r\n        password: this.state.password\r\n      };\r\n      await axios.post('/api/auth', opts\r\n          ).then(response => {\r\n            dataFromServer= response.data;\r\n            cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\r\n            this.history.goBack();\r\n            }).catch(error=> {\r\n              if (error.response==undefined)\r\n                this.setState({serverMessage: \"  \"});\r\n              else\r\n              {\r\n                this.attampt++;\r\n                this.setState({serverMessage: error.response.data+\"  : \"+this.attampt});\r\n              }\r\n        });\r\n    }\r\n}\r\nexport default LoginPage;","class checkForms {\r\n    checkForms(){}\r\n    checkUserName(userName, formsThis)\r\n    {\r\n      var userNameClass=formsThis.state.successClass;\r\n      var userNameError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (userName.length<2)\r\n      {\r\n        userNameClass=formsThis.state.errorClass;\r\n        userNameError=\"     2 \";\r\n      }\r\n\r\n      //finalize\r\n      \r\n      \r\n      if (userNameError==\"\")\r\n        formsThis.userNameBlured=true;\r\n      \r\n      if (formsThis.userNameBlured)\r\n        formsThis.setState({userName: userName,\r\n          userNameClass: userNameClass,\r\n          userNameError:userNameError\r\n          });\r\n      else\r\n        formsThis.setState({userName: userName});\r\n      \r\n      if (userNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    checkFirstName(firstName, formsThis)\r\n    {\r\n      var firstNameClass=formsThis.state.successClass;\r\n      var firstNameError=\"\";\r\n      \r\n      if (firstName.length<2)\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"      \";\r\n      }\r\n\r\n      for(var chI=0;chI<firstName.length;chI++){\r\n      if ((firstName.charAt(chI)>='0')&&(firstName.charAt(chI)<='9'))\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"    \";\r\n        break;\r\n      }    if(firstName.length<2){\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"    2 \";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (firstNameError==\"\")\r\n        formsThis.firstNameBlured=true;\r\n      \r\n      if (formsThis.firstNameBlured)\r\n        formsThis.setState({firstName: firstName,\r\n          firstNameClass: firstNameClass,\r\n          firstNameError: firstNameError\r\n          });\r\n      else\r\n        formsThis.setState({firstName: firstName});\r\n      \r\n      if (firstNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    \r\n    checkLastName(lastName, formsThis)\r\n    {\r\n        var lastNameClass=formsThis.state.successClass;\r\n      var lastNameError=\"\";\r\n      \r\n      if (lastName.length<2)\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"      \";\r\n      }\r\n\r\n      for(var chI=0;chI<lastName.length;chI++){\r\n      if ((lastName.charAt(chI)>='0')&&(lastName.charAt(chI)<='9'))\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"    \";\r\n        break;\r\n      }    if(lastName.length<2){\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"    2 \";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (lastNameError==\"\")\r\n        formsThis.lastNameBlured=true;\r\n      \r\n      if (formsThis.lastNameBlured)\r\n        formsThis.setState({lastName: lastName,\r\n          lastNameClass: lastNameClass,\r\n          lastNameError: lastNameError\r\n          });\r\n      else\r\n        formsThis.setState({lastName: lastName});\r\n      \r\n      if (lastNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n\r\n    checkEmail(email, formsThis)\r\n    {\r\n      var emailClass=formsThis.state.successClass;\r\n      var emailError=\"\";\r\n      if (email==\"\")\r\n      {\r\n        emailClass=\"form-control\";\r\n        emailError=\"\";\r\n      }\r\n      else if (email.length<5)\r\n      {\r\n        emailClass=formsThis.state.errorClass;\r\n        emailError=\"   5  \";\r\n      }\r\n      else\r\n      {\r\n        var foundShtrude=false;\r\n        var numOfDots=0;\r\n        for (var chIndex=0; chIndex<email.length; chIndex++)\r\n        {\r\n          if (chIndex==0)\r\n          {\r\n            if (!((email.charAt(chIndex)>'A' && email.charAt(chIndex)<'z') || (email.charAt(chIndex)>'0' && email.charAt(chIndex)<'9')))\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"      \";\r\n                break;\r\n              }\r\n            }\r\n          else\r\n          {\r\n            if (email.charAt(chIndex)=='@')\r\n            {\r\n              if(email.length-chIndex<3){\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"   \";\r\n                break;\r\n              }\r\n              if (foundShtrude==false)\r\n                foundShtrude=true;\r\n              else\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"   \";\r\n                break;\r\n              }\r\n            }\r\n            if (email.charAt(chIndex)=='.')\r\n              if(foundShtrude){\r\n                if(email.charAt(chIndex-1)=='@' || email.charAt(chIndex-1)=='.' || chIndex==email.length-1)\r\n                {\r\n                  emailClass=formsThis.state.errorClass;\r\n                  emailError=\"   \";\r\n                  break;\r\n                }\r\n                numOfDots++;\r\n              }\r\n            }\r\n          }\r\n        if (foundShtrude==false || numOfDots>2 || numOfDots==0)\r\n          {\r\n            emailClass=formsThis.state.errorClass;\r\n            emailError=\"   \";\r\n          }\r\n        }\r\n        \r\n        if (emailError==\"\")\r\n            formsThis.emailBlured=true;\r\n        if (formsThis.emailBlured)\r\n        {\r\n            formsThis.setState({email: email,\r\n            emailClass: emailClass,\r\n            emailError: emailError\r\n        });\r\n        }\r\n      else\r\n        formsThis.setState({email: email});\r\n      if (emailError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n        \r\n    }\r\n\r\n    checkPassword(password, formsThis)\r\n    {\r\n        var passClass=formsThis.state.successClass;\r\n      var passError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (password.length<=5)\r\n      {\r\n        passClass=formsThis.state.errorClass;\r\n        passError=\"    5 \";\r\n      }\r\n\r\n        \r\n      //finalize\r\n      \r\n      \r\n      if (passError==\"\")\r\n        formsThis.passwordBlured=true;\r\n      \r\n      if (formsThis.passwordBlured)\r\n        formsThis.setState({password: password,\r\n          passwordClass: passClass,\r\n          passwordError:passError\r\n          });\r\n      else\r\n        formsThis.setState({password: password});\r\n\r\n      if (passError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n}\r\nexport default checkForms;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { ENAMETOOLONG } from 'constants';\r\nimport CheckForms from './checkForms';\r\nconst cookies = new Cookies();\r\nvar checkForms=new CheckForms();\r\n\r\nclass teacherRegister extends Component {\r\n  constructor(props) {\r\n        \r\n    super(props);\r\n    this.state = {\r\n        email: \"\",\r\n        emailClass: \"form-control\",\r\n        password: \"\",\r\n        passwordError:\"\",\r\n        passwordClass: \"form-control\",\r\n        serverMessage:\"\",\r\n        errorClass:\"form-control is-invalid\",\r\n        successClass: \"form-control is-valid\",\r\n        userNameClass:\"form-control\",\r\n        userNameError: \"\",\r\n        userName:\"\",\r\n        firstNameClass:\"form-control\",\r\n        firstNameError: \"\",\r\n        firstName:\"\",\r\n        lastNameClass:\"form-control\",\r\n        lastNameError: \"\",\r\n        lastName:\"\",\r\n        emailError:\"\"\r\n    };\r\n\r\n    //Check if password was offClicked\r\n    this.passwordBlured=false;\r\n    this.uerNameBlured=false;\r\n    cookies.set('findel-ServerMessage', '', { path: '/' });\r\n    \r\n  }\r\n\r\n  nextPath(path) {\r\n    this.props.history.push(path);\r\n  }\r\n\r\nrender() {\r\n  \r\n  var redText={color: \"red\"};\r\n  return (\r\n   \r\n    <div className=\"RegisterPage\">\r\n        <h1>   </h1>\r\n        <text>{this.state.serverMessage}</text>\r\n        <br></br>\r\n        <label>\r\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            <text style={redText}>{this.state.userNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            <text style={redText}>{this.state.passwordError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\r\n            <text style={redText}>{this.state.emailError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.firstNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.lastNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameBlur(event) {\r\n      this.userNameBlured=true;\r\n      this.handleUserNameChange(event);\r\n    }\r\n    \r\n    handleUserNameChange(event) {;\r\n      checkForms.checkUserName(event.target.value, this);\r\n    }\r\n\r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n\r\n    handleFirstNameChange(event) {\r\n      checkForms.checkFirstName(event.target.value, this);\r\n    }\r\n    \r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n    handleLastNameBlur(event) {\r\n      this.lastNameBlured=true;\r\n      this.handleLastNameChange(event);\r\n    }\r\n    handleLastNameChange(event) {\r\n      checkForms.checkLastName(event.target.value, this);\r\n    }\r\n    \r\n    handleEmailChange(event) {\r\n      checkForms.checkEmail(event.target.value, this);\r\n      }\r\n      handleEmailBlur(event) {\r\n        this.emailBlured=true;\r\n        this.handleEmailChange(event);\r\n      }\r\n    handlePasswordBlur(event) {\r\n      this.passwordBlured=true;\r\n      this.handlePasswordChange(event);\r\n      \r\n    }\r\n    handlePasswordChange(event) {\r\n      checkForms.checkPassword(event.target.value, this)\r\n    }\r\n    \r\n    async handleSubmit() {\r\n      this.passwordBlured=true;\r\n      this.userNameBlured=true;\r\n      this.firstNameBlured=true;\r\n      this.emailBlured=true;\r\n      this.lastNameBlured=true;\r\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\r\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\r\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\r\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\r\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\r\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\r\n      {\r\n        var dataFromServer;\r\n        var opts={\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          userName:this.state.userName,\r\n          lastName: this.state.lastName,\r\n          firstName: this.state.firstName\r\n        };\r\n        if (this.state.email==\"\")\r\n          opts.email=undefined;\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        await axios.post('/api/users/createTeacherAccount', opts, {\r\n          headers: {'findel-auth-token': token}}\r\n            ).then(response => {\r\n              dataFromServer= response.data;\r\n              this.setState({serverMessage: dataFromServer.userName+\"   \"});\r\n              }).catch(error=> {\r\n                if (error.response==undefined)\r\n                  this.setState({serverMessage: \"  \"});\r\n                else\r\n                  this.setState({serverMessage: error.response.data});\r\n          });\r\n      }\r\n  }\r\n}\r\nexport default teacherRegister;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Cookies from 'universal-cookie';\r\nimport { ENAMETOOLONG } from 'constants';\r\nimport CheckForms from './checkForms';\r\nconst cookies = new Cookies();\r\nvar checkForms=new CheckForms();\r\n\r\nclass adminRegister extends Component {\r\n  constructor(props) {\r\n        \r\n    super(props);\r\n    this.state = {\r\n        email: \"\",\r\n        emailClass: \"form-control\",\r\n        password: \"\",\r\n        passwordError:\"\",\r\n        passwordClass: \"form-control\",\r\n        serverMessage:\"\",\r\n        errorClass:\"form-control is-invalid\",\r\n        successClass: \"form-control is-valid\",\r\n        userNameClass:\"form-control\",\r\n        userNameError: \"\",\r\n        userName:\"\",\r\n        firstNameClass:\"form-control\",\r\n        firstNameError: \"\",\r\n        firstName:\"\",\r\n        lastNameClass:\"form-control\",\r\n        lastNameError: \"\",\r\n        lastName:\"\",\r\n        emailError:\"\"\r\n    };\r\n\r\n    //Check if password was offClicked\r\n    this.passwordBlured=false;\r\n    this.uerNameBlured=false;\r\n    cookies.set('findel-ServerMessage', '', { path: '/' });\r\n    \r\n  }\r\n\r\n  nextPath(path) {\r\n    this.props.history.push(path);\r\n  }\r\n\r\nrender() {\r\n  \r\n  var redText={color: \"red\"};\r\n  return (\r\n   \r\n    <div className=\"RegisterPage\">\r\n        <h1>   </h1>\r\n        <text>{this.state.serverMessage}</text>\r\n        <br></br>\r\n        <label>\r\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\r\n            <text style={redText}>{this.state.userNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\r\n            <text style={redText}>{this.state.passwordError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\r\n            <text style={redText}>{this.state.emailError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.firstNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\r\n            <text style={redText}>{this.state.lastNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameBlur(event) {\r\n      this.userNameBlured=true;\r\n      this.handleUserNameChange(event);\r\n    }\r\n    \r\n    handleUserNameChange(event) {;\r\n      checkForms.checkUserName(event.target.value, this);\r\n    }\r\n\r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n\r\n    handleFirstNameChange(event) {\r\n      checkForms.checkFirstName(event.target.value, this);\r\n    }\r\n    \r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n    handleLastNameBlur(event) {\r\n      this.lastNameBlured=true;\r\n      this.handleLastNameChange(event);\r\n    }\r\n    handleLastNameChange(event) {\r\n      checkForms.checkLastName(event.target.value, this);\r\n    }\r\n    \r\n    handleEmailChange(event) {\r\n      checkForms.checkEmail(event.target.value, this);\r\n      }\r\n      handleEmailBlur(event) {\r\n        this.emailBlured=true;\r\n        this.handleEmailChange(event);\r\n      }\r\n    handlePasswordBlur(event) {\r\n      this.passwordBlured=true;\r\n      this.handlePasswordChange(event);\r\n      \r\n    }\r\n    handlePasswordChange(event) {\r\n      checkForms.checkPassword(event.target.value, this)\r\n    }\r\n    \r\n    async handleSubmit() {\r\n      this.passwordBlured=true;\r\n      this.userNameBlured=true;\r\n      this.firstNameBlured=true;\r\n      this.emailBlured=true;\r\n      this.lastNameBlured=true;\r\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\r\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\r\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\r\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\r\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\r\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\r\n      {\r\n        var dataFromServer;\r\n        var opts={\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          userName:this.state.userName,\r\n          lastName: this.state.lastName,\r\n          firstName: this.state.firstName\r\n        };\r\n        if (this.state.email==\"\")\r\n          opts.email=undefined;\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        await axios.post('/api/users/createAdminAccount', opts, {\r\n          headers: {'findel-auth-token': token}}\r\n            ).then(response => {\r\n              dataFromServer= response.data;\r\n              this.setState({serverMessage: dataFromServer.userName+\"   \"});\r\n              }).catch(error=> {\r\n                if (error.response==undefined)\r\n                  this.setState({serverMessage: \"  \"});\r\n                else\r\n                  this.setState({serverMessage: error.response.data});\r\n          });\r\n      }\r\n  }\r\n}\r\nexport default adminRegister;","import React, { Component } from 'react';\nimport axios from 'axios';\nimport CheckForms from './checkForms';\n\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Cookies from 'universal-cookie';\nimport { ENAMETOOLONG } from 'constants';\nconst cookies = new Cookies();\nvar checkForms=new CheckForms();\n\nclass RegisterPage extends Component {\n    constructor(props) {\n        super(props);\n        this.history=props.history;\n        this.state = {\n            email: \"\",\n            emailClass: \"form-control\",\n            password: \"\",\n            passwordError:\"\",\n            passwordClass: \"form-control\",\n            serverMessage:\"\",\n            errorClass:\"form-control is-invalid\",\n            successClass: \"form-control is-valid\",\n            userNameClass:\"form-control\",\n            userNameError: \"\",\n            userName:\"\",\n            firstNameClass:\"form-control\",\n            firstNameError: \"\",\n            firstName:\"\",\n            lastNameClass:\"form-control\",\n            lastNameError: \"\",\n            lastName:\"\",\n            emailError:\"\"\n        };\n\n        //Check if password was offClicked\n        this.passwordBlured=false;\n        this.userNameBlured=false;\n        this.firstNameBlured=false;\n        this.emailBlured=false;\n        this.lastNameBlured=false;\n        cookies.set('findel-ServerMessage', '', { path: '/' });\n        \n      }\n\n      nextPath(path) {\n        this.props.history.push(path);\n      }\n    \n    render() {\n      \n      var redText={color: \"red\"};\n      return (\n       \n        <div className=\"RegisterPage\">\n            <h1>   </h1>\n            <text>{this.state.serverMessage}</text>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\" \"/>\n            <text style={redText}>{this.state.userNameError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"\"/>\n            <text style={redText}>{this.state.passwordError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ()\"/>\n            <text style={redText}>{this.state.emailError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\n            <text style={redText}>{this.state.firstNameError}</text>\n            </label>\n            <br></br>\n            <label>\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"  \"/>\n            <text style={redText}>{this.state.lastNameError}</text>\n            </label>\n            <br></br>\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}></button>\n        </div>\n      );\n\n    }\n    handleKeyPress = (event) => {\n      if(event.key == 'Enter'){\n        this.handleSubmit();\n      }\n    }\n\n    handleUserNameBlur(event) {\n      this.userNameBlured=true;\n      this.handleUserNameChange(event);\n    }\n    \n    handleUserNameChange(event) {;\n      checkForms.checkUserName(event.target.value, this);\n    }\n\n    handleFirstNameBlur(event) {\n      this.firstNameBlured=true;\n      this.handleFirstNameChange(event);\n    }\n\n    handleFirstNameChange(event) {\n      checkForms.checkFirstName(event.target.value, this);\n    }\n    \n    handleFirstNameBlur(event) {\n      this.firstNameBlured=true;\n      this.handleFirstNameChange(event);\n    }\n    handleLastNameBlur(event) {\n      this.lastNameBlured=true;\n      this.handleLastNameChange(event);\n    }\n    handleLastNameChange(event) {\n      checkForms.checkLastName(event.target.value, this);\n    }\n    \n    handleEmailChange(event) {\n      checkForms.checkEmail(event.target.value, this);\n      }\n      handleEmailBlur(event) {\n        this.emailBlured=true;\n        this.handleEmailChange(event);\n      }\n    handlePasswordBlur(event) {\n      this.passwordBlured=true;\n      this.handlePasswordChange(event);\n      \n    }\n    handlePasswordChange(event) {\n      checkForms.checkPassword(event.target.value, this)\n    }\n    \n    async handleSubmit() {\n      this.passwordBlured=true;\n      this.userNameBlured=true;\n      this.firstNameBlured=true;\n      this.emailBlured=true;\n      this.lastNameBlured=true;\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\n      {\n        var dataFromServer;\n        var opts={\n          email: this.state.email,\n          password: this.state.password,\n          userName:this.state.userName,\n          lastName: this.state.lastName,\n          firstName: this.state.firstName\n        };\n        if (this.state.email==\"\")\n          opts.email=undefined;\n        await axios.post('/api/users/createStudentAccount', opts\n            ).then(response => {\n              dataFromServer= response.data;\n              var token=cookies.get('findel-auth-token') || \"\";\n              if (token!=\"\")\n                this.setState({serverMessage: dataFromServer.userName+\"   \"});\n              else\n              {\n                cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\n                this.history.goBack();\n              }\n              }).catch(error=> {\n                if (error.response==undefined)\n                  this.setState({serverMessage: \"  \"});\n                else\n                  this.setState({serverMessage: error.response.data});\n          });\n      }\n    }\n}\nexport default RegisterPage;","import React, { Component } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n  withRouter\r\n} from \"react-router-dom\";\r\n\r\nimport axios from 'axios';\r\n//import './register.css';\r\n\r\nimport teacherRegister from './teacherRegister';\r\nimport adminRegister from './adminRegister';\r\nimport registerPage from './registerPage';\r\n\r\n\r\nclass register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n    };\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='register'>\r\n      <Router>\r\n        <div>\r\n    \r\n         \r\n          <Link to=\"/registerPage\" style={this.state.displayLoggingComponents}></Link>\r\n          <text style={this.state.displayLoggingComponents}> - </text>\r\n          <Link to=\"/teacherRegister\" style={this.state.displayLoggingComponents}></Link>\r\n          <text style={this.state.displayLoggingComponents}> - </text>\r\n          <Link to=\"/adminRegister\" style={this.state.displayLoggingComponents}></Link>\r\n          \r\n          <hr />\r\n\r\n          <Route exact path=\"/\" component={registerPage} />\r\n       \r\n          <Route path=\"/teacherRegister\" component={teacherRegister} />\r\n          <Route path=\"/adminRegister\" component={adminRegister} />\r\n          <Route path=\"/registerPage\" component={registerPage} />\r\n        </div>\r\n      </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default register;\r\n","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './Search.css';\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search\">\r\n        <text> : <a target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.search.topic}>{this.props.search.topic}</a></text>\r\n        <br/><text> : {this.props.search.searchDate}</text>\r\n        <br/><br/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearch.PropsTypes={\r\n    search: PropsTypes.object.isRequired\r\n}   \r\nexport default Search;","import React, { Component } from 'react';\r\nimport Search from './Search';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Searches extends Component {\r\n    render() {\r\n        \r\n        return this.props.searches.map((search)=>(\r\n            <Search key={search.id} search={search} />\r\n          ));\r\n    }\r\n}\r\nSearches.PropsTypes={\r\n    searches: PropsTypes.array.isRequired\r\n} \r\n  export default Searches;","import React, { Component } from 'react';\r\nimport Searches from './Searches';\r\n//import './UserSearchHistory.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserSearchHistory extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var searchHistory=[];\r\n        this.state = {\r\n          SearchHistory:searchHistory\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        Axios.get(\"/api/userData/searchHistory\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((searchHistory) => {\r\n              // Do something with the result\r\n              this.setHistory(searchHistory)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var searchHistory=[];\r\n              this.setHistory(searchHistory)\r\n          });\r\n          \r\n        \r\n      }\r\n    setHistory(searchHistory)\r\n    {\r\n      this.setState({\r\n        SearchHistory:searchHistory\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n             </h1>\r\n        </div>\r\n        <div>\r\n            <Searches searches={this.state.SearchHistory}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserSearchHistory;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nclass Pages extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"fav_page\">\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page.pageURL}>{this.props.page.pageFormatedURL}</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPages.PropsTypes={\r\n  page: PropsTypes.object.isRequired\r\n}   \r\nexport default Pages;","import React, { Component } from 'react';\r\nimport Page from './Page';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages.map((page)=>(\r\n            <Page key={page._id} page={page} />\r\n          ));\r\n    }\r\n}\r\nPages.PropsTypes={\r\n    pages: PropsTypes.array.isRequired\r\n} \r\nexport default Pages;","import React, { Component } from 'react';\r\nimport Pages from './Pages';\r\nimport PropsTypes from 'prop-types';\r\nimport './Favorites.css';\r\nclass Favorites extends Component {\r\n    render() {\r\n        return this.props.favorites.map((favorite)=>(\r\n            <div className=\"favorites_div\">\r\n                <text>{favorite.topic.topicName}: <br/></text>\r\n                <Pages key={favorite.topic._id} pages={favorite.pages} />\r\n            </div>\r\n        ));\r\n    }\r\n}\r\nFavorites.PropsTypes={\r\n    favorites: PropsTypes.array.isRequired\r\n} \r\nexport default Favorites;","import React, { Component } from 'react';\r\nimport Favorites from './Favorites';\r\nimport Cookies from 'universal-cookie';\r\nimport Axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserFavorites extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var favorites=[];\r\n        this.state = {\r\n            favorites:favorites\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        Axios.get(\"/api/userData/favorites\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((favorites) => {\r\n              \r\n              \r\n              this.setFavorites(favorites)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var favorites=[];\r\n              this.setFavorites(favorites)\r\n          });\r\n          \r\n        \r\n      }\r\n    setFavorites(favorites)\r\n    {\r\n      this.setState({\r\n        favorites:favorites\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div className=\"App\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n              </h1>\r\n        </div>\r\n        <div>\r\n            <Favorites favorites={this.state.favorites}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserFavorites;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\n//import './Afavorite.css';\r\nclass Page_component extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page.pageURL}>{this.props.page.pageFormatedURL}</a><br/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPage_component.PropsTypes={\r\n  page: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_component;","import React, { Component } from 'react';\r\nimport Page_component from './Page_component';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Domain_component extends Component {\r\n    render() {\r\n        \r\n        return this.props.domain.pages.map((page)=>(\r\n            <Page_component key={page.id} page={page} />\r\n          ));\r\n    }\r\n}\r\nDomain_component.PropsTypes={\r\n    domain: PropsTypes.array.isRequired\r\n} \r\nexport default Domain_component;","import React, { Component } from 'react';\r\nimport Domain_component from './Domain_component';\r\nimport PropsTypes from 'prop-types';\r\nimport './domains.css';\r\nclass Domains_component extends Component {\r\n    render() {\r\n        return this.props.domains.map((domain)=>(\r\n            <div className=\"domains_div\">\r\n                <text>{domain.domainURL}: <br/></text>\r\n                <text>      : {domain.liked_weight} <br/></text>\r\n                <text>       : {domain.credibility_weight} <br/></text>\r\n                <text>       : {domain.educational_weight} <br/></text>\r\n                <Domain_component key={domain.id} domain={domain} />\r\n                <button onClick={domain.request_pages_of_domain_function} hidden={domain.is_more_pages_button_hidden}>...</button>\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nDomains_component.PropsTypes={\r\n    domains: PropsTypes.array.isRequired\r\n} \r\nexport default Domains_component;","import React, { Component } from 'react';\r\nimport Domain_component from './Domain_component';\r\nimport PropsTypes from 'prop-types';\r\nimport './List_for_googleAPI_component.css';\r\nclass List_for_googleAPI_component extends Component {\r\n    render() {\r\n        return this.props.domains_list.map((domain)=>(\r\n            <div className=\"list_div\">\r\n                <text>{domain.domainURL}: <br/></text>\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nList_for_googleAPI_component.PropsTypes={\r\n    domains_list: PropsTypes.array.isRequired\r\n} \r\nexport default List_for_googleAPI_component;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Domains_component from './Domains_component';\r\nimport List_for_googleAPI_component from './List_for_googleAPI_component';\r\n\r\nclass DomainsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var domains=[];\r\n        this.state = {\r\n            domains:domains,\r\n            not_educational_or_credibal_domains: [],\r\n            all_positive_domains: []\r\n        };\r\n        this.id=1;\r\n        axios.get(\"/api/present_data/domains\")\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((domains) => {\r\n              domains.sort((domain_a, domain_b) => {return domain_b.educational_weight-domain_a.educational_weight;});\r\n              domains.sort((domain_a, domain_b) => {return domain_b.credibility_weight-domain_a.credibility_weight;});\r\n              domains.sort((domain_a, domain_b) => {return domain_b.liked_weight-domain_a.liked_weight;});\r\n              var not_educational_or_credibal_domains = [];\r\n              var all_positive_domains = [];\r\n              domains.forEach(domain => {\r\n                domain.id=this.id;\r\n                domain.pages=[];\r\n                domain.request_pages_of_domain_function= () => this.request_pages_of_domain(domain._id);\r\n                domain.is_more_pages_button_hidden=false;\r\n                this.id++;\r\n                if (domain.educational_weight >= 2 &&\r\n                    domain.credibility_weight >= 2 &&\r\n                    domain.liked_weight >= 2)\r\n                    all_positive_domains.push(domain);\r\n                if (domain.credibility_weight < 1 ||\r\n                    domain.educational_weight < 1)\r\n                    not_educational_or_credibal_domains.push(domain);\r\n              });\r\n              this.setState({\r\n                domains:domains,\r\n                not_educational_or_credibal_domains: not_educational_or_credibal_domains,\r\n                all_positive_domains: all_positive_domains\r\n              });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              this.setState({\r\n                domains:[],\r\n                not_educational_or_credibal_domains: [],\r\n                all_positive_domains: []\r\n              });\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div>\r\n            <div className=\"Domains\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n            </h1>\r\n        </div>\r\n        <div>\r\n            <Domains_component domains={this.state.domains}/>\r\n        </div>\r\n        <div style={{\"text-align\": \"right\"}}>\r\n            <br/><br/>\r\n            <text> :</text>\r\n            <List_for_googleAPI_component domains_list={this.state.all_positive_domains}/>\r\n            <br/><br/><br/>\r\n            <text>     :</text>\r\n            <List_for_googleAPI_component domains_list={this.state.not_educational_or_credibal_domains}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n    request_pages_of_domain = (domain_id) =>\r\n    {\r\n      axios.get(\"/api/present_data/domain_pages/?id=\"+domain_id)\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((domain) => {\r\n              // Do something with the result\r\n                domain.pages.forEach(page => {\r\n                  page.id=this.id;\r\n                  this.id++;\r\n                });\r\n              var domains=this.state.domains;\r\n              for (var index=0; index<domains.length; index++)\r\n                if (domains[index]._id == domain._id)\r\n                {\r\n                    domains[index].pages=domain.pages;\r\n                    domains[index].is_more_pages_button_hidden=true;\r\n                    break;\r\n                }\r\n              this.setState({\r\n                domains: domains\r\n              });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var domains=[];\r\n              this.setState({\r\n                domains: domains\r\n              });\r\n          });\r\n    }\r\n}\r\n\r\n  export default DomainsPage;","import axios from 'axios';\r\n\r\nexport default function topic_topic_edge_rank_function(this_of_topic, rank_type, up_or_down)\r\n{\r\n    var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_topic.state[string_for_edge_upArrow_color];\r\n    var downArrow = this_of_topic.state[string_for_edge_downArrow_color];\r\n\r\n    var rankCode = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rankCode = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rankCode = 2;\r\n\r\n    var edgeID=this_of_topic.props.topic.edgeID;\r\n    var opts={\r\n        edgeID: edgeID,\r\n        rank_type: rank_type,\r\n        rankCode: rankCode\r\n    };\r\n    axios.post(\"/api/userRanking/rank_topic_topic_edge\", opts, {\r\n        headers: {'findel-auth-token': this_of_topic.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.edge_ranking_date);\r\n            if (this_of_topic.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_topic.last_ranking_id == res_data.edge_ranking_id)\r\n                        if (res_data.rankCode != 0)\r\n                            return;\r\n                    \r\n                    if (recived_time - this_of_topic.last_ranking_timeStamp < 0)\r\n                        return;\r\n                }\r\n            this_of_topic.last_ranking_id = res_data.edge_ranking_id;\r\n            this_of_topic.last_ranking_timeStamp = recived_time;\r\n\r\n            var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n            if (res_data.rankCode == 0)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rankCode == 1)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n            this_of_topic.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            this_of_topic.setState({rank_error: error.response.data});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './Topic_component.css';\r\nimport topic_topic_edge_rank_function from './topic_topic_edge_rank_function';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst cookies = new Cookies();\r\nclass Topic_component extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var liked_upArrow='black';\r\n        var liked_downArrow='black';\r\n        var user_rankings = this.props.topic.user_rankings\r\n        user_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n      });\r\n        this.state = {\r\n          liked_upArrowColor: liked_upArrow,\r\n          liked_downArrowColor: liked_downArrow,\r\n          rank_error: \"\",\r\n          edge_liked_weight: this.props.topic.liked_weight,\r\n          rankCode: this.props.topic.userRankCode\r\n        }\r\n        this.last_ranking_timeStamp = null;\r\n        this.last_ranking_id = null;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n    }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    return (\r\n      <div className=\"topic\">\r\n        <text style={{marginRight: '10px'}}>{this.props.topic.connected_topic_name}<br/></text>\r\n        <text style={{marginRight: '10px'}}>\r\n         : \r\n        <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n        ({this.state.edge_liked_weight}) \r\n        <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n        <br/></text>\r\n        <text style={{marginRight: '10px'}}>  : {this.props.topic.web_scrape_score}<br/></text>\r\n        <text style={{marginRight: '10px'}}> : {this.props.topic.last_web_scrape}<br/></text>\r\n        <text style={redText}>{this.state.rank_error}</text>\r\n      </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    topic_topic_edge_rank_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    topic_topic_edge_rank_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nTopic_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Topic_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Topic_component from './Topic_component';\r\n\r\nclass Topics_component extends Component {\r\n    render() {\r\n        return this.props.topics.map((topic)=>(\r\n            <Topic_component key={topic.id} topic={topic}/>\r\n          ));\r\n        }\r\n}\r\nTopics_component.PropsTypes={\r\n    topics: PropsTypes.array.isRequired\r\n} \r\n  export default Topics_component;","import axios from 'axios';\r\n\r\nclass Comments_functions {\r\n    constructor() {\r\n    }\r\n\r\n    ranking_function(this_of_comment, rank_type, up_or_down)\r\n    {\r\n        var string_for_comment_upArrow_color = rank_type + \"_upArrowColor\";\r\n        var string_for_comment_downArrow_color = rank_type + \"_downArrowColor\";\r\n        var upArrow = this_of_comment.state[string_for_comment_upArrow_color];\r\n        var downArrow = this_of_comment.state[string_for_comment_downArrow_color];\r\n\r\n        var rankCode = 0;\r\n        if (up_or_down == \"up\")\r\n        {\r\n            if (upArrow != 'green')\r\n                rankCode = 1;\r\n        }\r\n        else\r\n            if (downArrow != 'red')\r\n                rankCode = 2;\r\n\r\n        var opts={\r\n            commentID: this_of_comment.props.comment._id,\r\n            rank_type: rank_type,\r\n            rankCode: rankCode\r\n        };\r\n        axios.post(\"/api/userRanking/rank_comment\", opts, {\r\n            headers: {'findel-auth-token': this_of_comment.token}\r\n        })\r\n            .then((result) => {\r\n                var res_data = result.data;\r\n                var recived_time = new Date(res_data.comment_ranking_date);\r\n                if (this_of_comment.last_ranking_timeStamp != null)\r\n                    {\r\n                        /*\r\n                         if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                         the deletion was received earlier\r\n                        */\r\n                         if (this_of_comment.last_ranking_id == res_data.comment_ranking_id)\r\n                            if (res_data.rankCode != 0)\r\n                                return;\r\n                        \r\n                        if (recived_time - this_of_comment.last_ranking_timeStamp < 0)\r\n                            return;\r\n                    }\r\n                this_of_comment.last_ranking_id = res_data.comment_ranking_id;\r\n                this_of_comment.last_ranking_timeStamp = recived_time;\r\n\r\n                var string_for_comment_rank_type_weight = rank_type + \"_weight\";\r\n\r\n                var json_for_state_change = {};\r\n                json_for_state_change[string_for_comment_rank_type_weight] = res_data.weight;\r\n                if (res_data.rankCode == 0)\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'black';\r\n                }\r\n                else if (res_data.rankCode == 1)\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'green';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'black';\r\n                }\r\n                else\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'red';\r\n                }\r\n                json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n                this_of_comment.setState(json_for_state_change);\r\n            }).catch((error) => {\r\n                this_of_comment.setState({rank_error: error.response.data});\r\n            });\r\n    }\r\n}\r\n\r\nexport default Comments_functions;","import React, { Component } from 'react';\r\nimport './Comment.css';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Cookies from 'universal-cookie';\r\nimport Comments_functions from './comments_functions';\r\nimport Add_comment from './add_comment';\r\nimport Comments_Array_mapper from './Comments_Array_mapper'; \r\n\r\nconst cookies = new Cookies();\r\nconst comments_functions=new Comments_functions();\r\n\r\nclass Comment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var users_rankings = this.props.comment.usersRanking;\r\n    users_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else if(ranking.rankCode == 2)\r\n            liked_downArrow = 'red'\r\n        }\r\n      });\r\n    var user_name_color = \"#0587c3\";\r\n    if (this.props.comment.user.position == \"Teacher\")\r\n      user_name_color = \"green\";\r\n    else if (this.props.comment.user.position == \"Admin\")\r\n      user_name_color = \"brown\";\r\n\r\n    var show_comment_time=false;\r\n    if (this.props.comment.time_made == null)\r\n      show_comment_time=true;\r\n    this.state = {\r\n        liked_upArrowColor: liked_upArrow,\r\n        liked_downArrowColor: liked_downArrow,\r\n        comment: this.props.comment,\r\n        rank_error: \"\",\r\n        liked_weight: this.props.comment.liked_weight,\r\n        add_comment_text: \"+\",\r\n        is_add_comment_hidden: true,\r\n        add_comment_vars: {\r\n          object_id: this.props.comment._id,\r\n          object_id_collection_name: 'comments',\r\n          root_comment_id: this.props.comment.root_comment\r\n          },\r\n        user_name_color: user_name_color,\r\n        show_comment_time: show_comment_time\r\n      }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n      var add_comment_text_style={cursor: 'pointer'};\r\n      var comment_style={\r\n        \"border-right-color\": \"#0587c3\",\r\n        \"border-right-style\": \"double\",\r\n        \"padding\": \"5px\"\r\n      }\r\n      var user_name_style={\r\n        \"color\": this.state.user_name_color\r\n      }\r\n      var redText={color: \"red\"};\r\n      return (\r\n        <div className=\"Comment\" style={comment_style}>\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.liked_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n            </text>\r\n            <text style={user_name_style}>&nbsp;&nbsp;{this.state.comment.user.userName}</text>\r\n            <span hidden={this.state.show_comment_time}><br/><text style={user_name_style}> : {this.props.comment.time_made}</text></span>\r\n            <br/><text>{this.state.comment.text}</text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <text onClick= {() => this.add_commnet_text_clicked()} style={add_comment_text_style}>{this.state.add_comment_text}</text>\r\n            <div hidden={this.state.is_add_comment_hidden}>\r\n            <Add_comment parrent_object_data={this.state.add_comment_vars}/>\r\n          </div>\r\n            <Comments_Array_mapper key={this.state.comment.id} comments={this.state.comment.sub_comments}/>\r\n        </div>\r\n      );\r\n    }\r\n    add_commnet_text_clicked()\r\n    {\r\n      if (this.state.is_add_comment_hidden)\r\n        this.setState({\r\n          is_add_comment_hidden: false,\r\n          add_comment_text: \"-\"\r\n        });\r\n      else\r\n        this.setState({\r\n          is_add_comment_hidden: true,\r\n          add_comment_text: \"+\"\r\n        });\r\n    }\r\n    rank_click_up(rank_type)\r\n    {\r\n      comments_functions.ranking_function(this, rank_type, \"up\")\r\n    }\r\n    rank_click_down(rank_type)\r\n    {\r\n      comments_functions.ranking_function(this, rank_type, \"down\")\r\n    }\r\n}\r\nComment.PropsTypes={\r\n  comment: PropsTypes.object.isRequired\r\n}  \r\nexport default Comment;","import React, { Component } from 'react';\r\nimport Comment from './Comment';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Comments_Array_mapper extends Component {\r\n    render() {\r\n        \r\n        return this.props.comments.map((comment)=>(\r\n            <Comment key={comment.id} comment={comment} />\r\n          ));\r\n    }\r\n}\r\nComments_Array_mapper.PropsTypes={\r\n    comments: PropsTypes.array.isRequired\r\n} \r\n  export default Comments_Array_mapper;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './add_comment.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Comments_Array_mapper from './Comments_Array_mapper';\r\nconst cookies = new Cookies();\r\n\r\nclass Add_comment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        this.state ={\r\n            comment_text: '',\r\n            comments_added: []\r\n        }\r\n      }\r\n    render() {\r\n        return (\r\n            <div className=\"Add_comment\">\r\n                <textarea value={this.state.comment_text}\r\n                id='comment_textArea'\r\n                rows={6}\r\n                cols={50}\r\n                placeholder=\" // ...\" \r\n                onChange={evt => this.comment_text_change(evt)}/><br/>\r\n                <button onClick={() => this.send_comment_to_server()}> </button>\r\n                <br/>\r\n                <text>{this.state.server_message}</text>\r\n                <Comments_Array_mapper comments={this.state.comments_added}/>\r\n            </div>\r\n        );\r\n    }\r\n    comment_text_change(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                comment_text: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    send_comment_to_server()\r\n    {\r\n        var opts={\r\n            text: this.state.comment_text,\r\n            object_id: this.props.parrent_object_data.object_id,\r\n            collection_name: this.props.parrent_object_data.object_id_collection_name,\r\n            root_comment_id: this.props.parrent_object_data.root_comment_id\r\n          };\r\n        axios.post('/api/addContent/addComment', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                response.data.collection_name=response.data.object_id_collection_name;\r\n                response.data.id=response.data._id;\r\n                response.data.sub_comments=[];\r\n                var comments_added= this.state.comments_added;\r\n                comments_added.push(response.data);\r\n                this.setState({\r\n                    server_message: \" \",\r\n                    comments_added: comments_added\r\n                });\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"  \"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n}\r\n\r\n  export default Add_comment;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Add_comment from './add_comment';\r\nimport Comments_Array_mapper from './Comments_Array_mapper'; \r\n\r\nclass Comments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      are_comments_hidden: true,\r\n      show_hide_instruction: \"+ \"\r\n    }\r\n  }\r\n  render() {\r\n      var show_hide_comments_text_style={cursor: 'pointer'};\r\n      return (\r\n        <div>\r\n          <div>\r\n              <text onClick= {() => this.show_hide_comments_text_clicked()} style={show_hide_comments_text_style}>\r\n              {this.state.show_hide_instruction + \" (\" + this.props.parrent_object_data.number_of_overall_comments + \")\"}\r\n              </text>\r\n          </div>\r\n          <div hidden={this.state.are_comments_hidden}>\r\n              <Comments_Array_mapper comments={this.props.comments}/>\r\n              <Add_comment parrent_object_data={this.props.parrent_object_data}/>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    show_hide_comments_text_clicked()\r\n    {\r\n      if (this.state.are_comments_hidden)\r\n        this.setState({\r\n          are_comments_hidden: false,\r\n          show_hide_instruction: \"- \"\r\n        });\r\n      else\r\n        this.setState({\r\n          are_comments_hidden: true,\r\n          show_hide_instruction: \"+ \"\r\n        });\r\n    }\r\n}\r\nComments.PropsTypes={\r\n  comments: PropsTypes.array.isRequired\r\n}  \r\nexport default Comments;","export default function arrange_comments(comments_array){\r\n    var comments = {};\r\n    comments[\"root\"]=[];\r\n    comments_array.forEach(comment => {\r\n        comments[comment._id] = [];\r\n        comment.sub_comments = comments[comment._id];\r\n        comment.id = comment._id;\r\n        if (comment.object_id_collection_name!=\"comments\")\r\n            comments[\"root\"].push(comment);\r\n    });\r\n\r\n    comments_array.forEach(comment => {\r\n        if (comment.object_id_collection_name==\"comments\")\r\n            comments[comment.object_id].push(comment);\r\n    });\r\n\r\n    comments[\"root\"].sort((comment1, comment2)=>{\r\n        return comment2.liked_weight - comment1.liked_weight;\r\n    });\r\n    comments_array.forEach(comment => {\r\n        comment.sub_comments.sort((sub_comment1, sub_comment2)=>{\r\n            return sub_comment2.liked_weight - sub_comment1.liked_weight;\r\n        });\r\n    });\r\n    return comments[\"root\"];\r\n}","import React, { Component } from 'react';\r\nimport './topics_page.css'\r\nimport axios from 'axios';\r\nimport Topics_component from './Topics_component';\r\nimport Comments from '../Comments_components/Comments';\r\nimport arrange_comments from '../Comments_components/arrange_comments';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Topics_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var topics=[];\r\n        const {topic} = this.props.match.params\r\n        this.state = {\r\n            topics:topics,\r\n            topic: topic,\r\n            add_comment_vars: {\r\n              object_id: \"\",\r\n              object_id_collection_name: '',\r\n              root_comment_id: null,\r\n              parrent_comments_array: null,\r\n              number_of_overall_comments: 0\r\n            },\r\n            comments:[]\r\n        };\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/present_data/connected_topics/?topic=\"+topic,{\r\n          headers: {'findel-auth-token': this.token}})\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((data) => {\r\n              data.topics.sort((topic_a, topic_b)=>{return topic_b.web_scrape_score-topic_a.web_scrape_score;})\r\n              data.topics.sort((topic_a, topic_b)=>{return topic_b.liked_weight-topic_a.liked_weight;})\r\n              data.topics.forEach(topic => {\r\n                  topic.id=this.id;\r\n                  this.id++;\r\n              });\r\n              var number_of_overall_comments = data.comments.length;\r\n              data.comments = arrange_comments(data.comments);\r\n              data.add_comment_vars= {\r\n                object_id: data.topic._id,\r\n                object_id_collection_name: 'topics',\r\n                root_comment_id: null,\r\n                parrent_comments_array: data.comments,\r\n                number_of_overall_comments: number_of_overall_comments\r\n                }\r\n                this.setState({\r\n                  comments: data.comments,\r\n                  add_comment_vars: data.add_comment_vars,\r\n                  topics: data.topics\r\n                });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var topics=[];\r\n              this.setState({topics: []})\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div className=\"Topics\">\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                 </h1>\r\n            </div>\r\n            <div>\r\n                <h3 id=\"topic_headLine\">{this.state.topic}</h3>\r\n                <Comments comments={this.state.comments} parrent_object_data={this.state.add_comment_vars}/> \r\n                <Topics_component topics={this.state.topics}/>\r\n            </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default Topics_page;","import axios from 'axios';\r\n\r\nexport default function page_topic_edge_rank_function(this_of_edge, rank_type, up_or_down)\r\n{\r\n    var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_edge.state[string_for_edge_upArrow_color];\r\n    var downArrow = this_of_edge.state[string_for_edge_downArrow_color];\r\n\r\n    var rankCode = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rankCode = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rankCode = 2;\r\n\r\n    var edgeID=this_of_edge.props.page_ref.edgeID;\r\n    var opts={\r\n        edgeID: edgeID,\r\n        rank_type: rank_type,\r\n        rankCode: rankCode\r\n    };\r\n    axios.post(\"/api/userRanking/rank_page_topic_edge\", opts, {\r\n        headers: {'findel-auth-token': this_of_edge.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.edge_ranking_date);\r\n            if (this_of_edge.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rankcode is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_edge.last_ranking_id == res_data.edge_ranking_id)\r\n                        if (res_data.rankCode != 0)\r\n                            return;\r\n                    \r\n                    if (recived_time - this_of_edge.last_ranking_timeStamp < 0)\r\n                        return;\r\n                }\r\n            this_of_edge.last_ranking_id = res_data.edge_ranking_id;\r\n            this_of_edge.last_ranking_timeStamp = recived_time;\r\n\r\n            var string_for_edge_rank_type_weight = \"edge_\" + rank_type + \"_weight\";\r\n            //var string_for_domain_rank_type_weight = \"domain_\" + rank_type + \"_weight\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_edge_rank_type_weight] = res_data.weight;\r\n            //json_for_state_change[string_for_domain_rank_type_weight] = res_data.domain_weight;\r\n            if (res_data.rankCode == 0)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rankCode == 1)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rankCode'] = res_data.rankCode;\r\n\r\n            this_of_edge.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            this_of_edge.setState({rank_error: error.response.data});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './connected_topic_edge_component.css';\r\nimport page_topic_edge_rank_function from './page_topic_edge_rank_function';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst cookies = new Cookies();\r\nclass Connected_topic_edge_component extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var credibility_upArrow='black';\r\n    var credibility_downArrow='black';\r\n    var educational_upArrow='black';\r\n    var educational_downArrow='black';\r\n\r\n    var users_rankings = this.props.connected_topic_edge.usersRanking\r\n    users_rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"credibility\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            credibility_upArrow = 'green'\r\n          else\r\n            credibility_downArrow = 'red'\r\n        }\r\n\r\n        if (ranking.rank_type == \"educational\")\r\n        {\r\n          if (ranking.rankCode == 1)\r\n            educational_upArrow = 'green'\r\n          else\r\n            educational_downArrow = 'red'\r\n        }\r\n      });\r\n    var jaccard_similarity = null;\r\n    var is_jaccard_hidden = true;\r\n    if (this.props.connected_topic_edge.jaccard_similarity != null)\r\n    {\r\n      jaccard_similarity = this.props.connected_topic_edge.jaccard_similarity;\r\n      is_jaccard_hidden = false;\r\n    }\r\n\r\n    var num_of_links_in_page = null;\r\n    var is_num_of_links_in_page_hidden = true;\r\n    if (this.props.connected_topic_edge.num_of_links_in_page != null)\r\n    {\r\n      num_of_links_in_page = this.props.connected_topic_edge.num_of_links_in_page;\r\n      is_num_of_links_in_page_hidden = false;\r\n    }\r\n    this.state = {\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      credibility_upArrowColor: credibility_upArrow,\r\n      credibility_downArrowColor: credibility_downArrow,\r\n      educational_upArrowColor: educational_upArrow,\r\n      educational_downArrowColor: educational_downArrow,\r\n      rank_error: \"\",\r\n      edge_liked_weight: this.props.connected_topic_edge.liked_weight,\r\n      edge_credibility_weight: this.props.connected_topic_edge.credibility_weight,\r\n      edge_educational_weight: this.props.connected_topic_edge.educational_weight,\r\n      rankCode: this.props.connected_topic_edge.userRankCode,\r\n      jaccard_similarity: jaccard_similarity,\r\n      is_jaccard_hidden: is_jaccard_hidden,\r\n      num_of_links_in_page: num_of_links_in_page,\r\n      is_num_of_links_in_page_hidden: is_num_of_links_in_page_hidden\r\n    }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    return (\r\n          <div className=\"connected_topic\">\r\n            <a className=\"topic_link\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.connected_topic_edge.topic.topicName}>{this.props.connected_topic_edge.topic.topicName}</a>\r\n            <br/>\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.edge_liked_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              &nbsp;      \r\n            </text><br/>\r\n            \r\n            <text> \r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.credibility_upArrowColor} onClick={() => this.rank_click_up(\"credibility\")}/> \r\n              ({this.state.edge_credibility_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.credibility_downArrowColor} onClick={() => this.rank_click_down(\"credibility\")}/>\r\n              &nbsp;     \r\n            </text>\r\n            <br/>\r\n            \r\n\r\n            <text>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n              ({this.state.edge_educational_weight}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n              &nbsp;        \r\n            </text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <br/>\r\n            <span hidden={this.state.is_jaccard_hidden}>\r\n              <text>    : {this.state.jaccard_similarity}</text>\r\n            </span><br/>\r\n            <span hidden={this.state.is_num_of_links_in_page_hidden}>\r\n              <text>    : {this.state.num_of_links_in_page}</text>\r\n            </span><br/>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    page_topic_edge_rank_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    page_topic_edge_rank_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nConnected_topic_edge_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Connected_topic_edge_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Connected_topic_edge_component from './connected_topic_edge_component';\r\n\r\nclass Connected_topics_edges_component extends Component {\r\n    render() {\r\n        return this.props.connected_topics_edges.map((connected_topic_edge)=>(\r\n            <Connected_topic_edge_component key={connected_topic_edge.id} connected_topic_edge={connected_topic_edge}/>\r\n          ));\r\n        }\r\n}\r\nConnected_topics_edges_component.PropsTypes={\r\n    topics: PropsTypes.array.isRequired\r\n} \r\n  export default Connected_topics_edges_component;","import React, { Component } from 'react';\r\nimport './Page_page.css'\r\nimport axios from 'axios';\r\nimport Connected_topics_edges_component from './connected_topics_edges_component';\r\nimport Comments from '../Comments_components/Comments';\r\nimport arrange_comments from '../Comments_components/arrange_comments';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Page_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var topics=[];\r\n        const {pageURL} = this.props.match.params;\r\n        var domain= {domainURL: \"\"};\r\n        this.state = {\r\n            pageID: \"\",\r\n            topics:topics,\r\n            page: pageURL,\r\n            domain: domain,\r\n            page_topic_edges: [],\r\n            add_comment_vars: {\r\n                object_id: \"\",\r\n                object_id_collection_name: '',\r\n                root_comment_id: null,\r\n                parrent_comments_array: null\r\n            },\r\n            comments:[]\r\n        };\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/present_data/page_data/?pageURL=\"+pageURL,{\r\n          headers: {'findel-auth-token': this.token}})\r\n          .then((result) => {\r\n              // Get the result\r\n              // If we want text, call result.text()\r\n              return result.data;\r\n          }).then((data) => {\r\n              // Do something with the result\r\n              data.page_topic_edges.sort((edge_a, edge_b)=>{return edge_b.web_scrape_score-edge_a.web_scrape_score;});\r\n              data.page_topic_edges.sort((edge_a, edge_b)=>{return edge_b.liked_weight-edge_a.liked_weight;});\r\n              data.page_topic_edges.forEach(edge => {\r\n                  edge.id = this.id;\r\n                  edge.page={ pageURL: data.pageURL }\r\n                  this.id++;\r\n              });\r\n              var number_of_overall_comments = data.comments.length;\r\n              data.comments = arrange_comments(data.comments);\r\n              data.add_comment_vars= {\r\n                object_id: data.pageID,\r\n                object_id_collection_name: 'pages',\r\n                root_comment_id: null,\r\n                parrent_comments_array: data.comments,\r\n                number_of_overall_comments: number_of_overall_comments\r\n                }\r\n              this.setState(data);\r\n          }).catch((error) => {\r\n              console.log(error);\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div className='page_page'>\r\n            <div className=\"Page\" style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                  </h1>\r\n                \r\n            </div>\r\n            <div>\r\n                <h3 id=\"page_headLine\">{this.state.pageFormatedURL}</h3>\r\n                <text>{this.state.pageSnap}</text>\r\n                <br/>\r\n                <text> : </text>\r\n                <br/>\r\n                <text>Domain: {this.state.domain.domainURL}</text>\r\n                <br/>\r\n                <Comments comments={this.state.comments} parrent_object_data={this.state.add_comment_vars}/> \r\n                <Connected_topics_edges_component connected_topics_edges={this.state.page_topic_edges}/>\r\n            </div>\r\n        </div>\r\n      ); \r\n    }\r\n}\r\n\r\n  export default Page_page;","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons';\n\nimport axios from 'axios';\nimport './App.css';\nimport SearchPage from './components/SearchPageComponents/SearchPage';\nimport LoginPage from './components/LoginPage';\nimport RegisterPage from './components/RegistrationComponents/register';\nimport UserSearchHistory from './components/user_search_history_components/User_Search_History_Page';\nimport UserFavorites from './components/user_favorites_components/User_favorites_page';\nimport DomainsPage from './components/Domains_components/DomainsPage';\nimport Topics_page from './components/Topics_components/topics_page';\nimport Page_page from './components/Page_components/Page_page';\nimport Cookies from 'universal-cookie';\nimport { createBrowserHistory } from 'history';\n \nconst history = createBrowserHistory();\nhistory.listen((location, action) => {\n  console.log(\n    `The current URL is ${location.pathname}${location.search}${location.hash}`\n  );\n  console.log(`The last navigation action was ${action}`);\n  window.location= location.pathname + location.search;\n});\nconst cookies = new Cookies();\nlibrary.add(fab, faCheckSquare, faCoffee);\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    var userName=cookies.get('findelUserName') || \"\";\n    var userPosition=cookies.get('findelUserPosition') || \"\";\n    var hideLogoutBTN=false;\n    var displayLoggingComponents={display: 'none'};\n    var displayUserDataComponents={display: 'inline'}\n    if (userName==\"\")\n    {\n      hideLogoutBTN=true;\n      displayLoggingComponents={display: 'inline'};\n      displayUserDataComponents={display: 'none'}\n    }\n    this.state = {\n      userName: userName,\n      hideLogoutBTN:hideLogoutBTN,\n      displayLoggingComponents:displayLoggingComponents,\n      displayUserDataComponents:displayUserDataComponents\n    };\n    if (userName==\"\")\n    {\n      var token=cookies.get('findel-auth-token') || \"\";\n      if (token!=\"\")\n      {\n        var opts={\n          headers: {'findel-auth-token': token}\n        }\n        axios.get('/api/users/me', opts\n        ).then(response => {\n          userName= response.data.userName;\n          userPosition= response.data.position;\n          var displayRegisterComponent={display: 'none'};\n          displayUserDataComponents={display: 'inline'}\n          if (userPosition!=\"student\")\n            displayRegisterComponent={display: 'inline'};\n          this.setState({\n            userName: userName,\n            hideLogoutBTN: false,\n            displayLoggingComponents:{display: 'none'},\n            displayRegisterComponents:displayRegisterComponent,\n            displayUserDataComponents:displayUserDataComponents\n            });\n          cookies.set('findelUserName', userName, { path: '/' });\n          cookies.set('findelUserPosition', userPosition, { path: '/' });\n          }).catch(function(error) {\n            alert(error.data);\n          });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className='App'>\n      <Router>\n        <div>\n          <text> {this.state.userName}</text>\n          <div className=\"leftDiv\">\n          <button className=\"emptyBTN\" name=\"logoutBTN\" onClick={() => this.logout()} hidden={this.state.hideLogoutBTN}></button>\n          </div>\n          <br></br>\n          \n\n          <text className=\"link_text\" onClick={() => this.push_to_history_and_go('/')}></text>\n          <text className=\"link_text\" style={this.state.displayLoggingComponents} onClick={() => this.push_to_history_and_go('/Login_page')}> - </text>\n          <text className=\"link_text\" style={this.state.displayRegisterComponents} onClick={() => this.push_to_history_and_go('/Register_page')}> -   </text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserSearchHistory_page')}> -  </text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserFavorites_page')}> -   </text>\n          <text className=\"link_text\" onClick={() => this.push_to_history_and_go('/Domains_page')}> - </text>\n          <hr />\n\n          <Route exact path=\"/\" component={SearchPage} />\n          <Route path=\"/Login_page\" component={LoginPage} />\n          <Route path=\"/Register_page\" component={RegisterPage} />\n          <Route path=\"/UserSearchHistory_page\" component={UserSearchHistory} />\n          <Route path=\"/UserFavorites_page\" component={UserFavorites} />\n          <Route path=\"/Domains_page\" component={DomainsPage} />\n          <Route path=\"/Topics_page/:topic\" component={Topics_page} />\n          <Route path=\"/Page_page/:pageURL\" component={Page_page} />\n          \n        </div>\n      </Router>\n      </div>\n    );\n  }\n  push_to_history_and_go(location)\n  {\n    history.push(location);\n    window.location = location;\n  }\n  logout()\n  {\n    cookies.set('findel-auth-token', \"\", { path: '/' });\n    cookies.set('findelUserName', \"\", { path: '/' });\n    window.location = \"/\";\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}