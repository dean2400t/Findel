(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(415)},204:function(e,t,a){},207:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},231:function(e,t){},244:function(e,t){},246:function(e,t){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(176),i=a.n(s),o=(a(49),a(2)),c=a(3),l=a(6),u=a(4),_=a(5),d=a(419),h=a(418),p=a(48),m=a(177),g=a(10),f=a(7),k=a.n(f),b=(a(204),a(8)),v=a.n(b),y=a(12),E=a(18),w=(a(207),a(1)),C=a.n(w),N=(a(116),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page_in_seach"},r.a.createElement("p",null,this.props.page_in_search.formatedURL," ",r.a.createElement("i",{className:this.props.page_in_search.scrape})))}}]),t}(n.Component));N.PropsTypes={page_in_search:C.a.object.isRequired};var j=N,x=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages_in_search.map(function(e){return r.a.createElement(j,{key:e.id,page_in_search:e})})}}]),t}(n.Component);x.PropsTypes={pages_in_search:C.a.array.isRequired};var O=x,S=(a(210),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("a",{className:"exContent",target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.aContent.page},this.props.aContent.page),r.a.createElement("text",{className:"ex_content_partition"},this.props.aContent.partition))}}]),t}(n.Component));S.PropsTypes={aContent:C.a.object.isRequired};var B=S,P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.expandedContents.map(function(e){return r.a.createElement(B,{key:e.id,aContent:e})})}}]),t}(n.Component);P.PropsTypes={expandedContents:C.a.array.isRequired};var R=P,L=(a(211),a(11)),U=a(9);function A(e,t,a){var n=t+"_upArrowColor",r=t+"_downArrowColor",s=e.state[n],i=e.state[r],o=0;"up"==a?"green"!=s&&(o=1):"red"!=i&&(o=2);var c={edgeID:e.props.page_ref.edgeID,rank_type:t,rankCode:o};k.a.post("/api/userRanking/rank_page_topic_edge",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var s=a.data,i=new Date(s.edge_ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==s.edge_ranking_id&&0!=s.rankCode)return;if(i-e.last_ranking_timeStamp<0)return}e.last_ranking_id=s.edge_ranking_id,e.last_ranking_timeStamp=i;var o="domain_"+t+"_weight",c={};c["edge_"+t+"_weight"]=s.weight,c[o]=s.domain_weight,0==s.rankCode?(c[n]="black",c[r]="black"):1==s.rankCode?(c[n]="green",c[r]="black"):(c[n]="black",c[r]="red"),c.rankCode=s.rankCode,e.setState(c)}).catch(function(t){e.setState({rank_error:t.response.data})})}var D=new U.a,T=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n="black",r="black",s="black",i="black",c="black",_="black";return a.props.page_ref.user_rankings_for_edge.forEach(function(e){"liked"==e.rank_type&&(1==e.rankCode?n="green":r="red"),"credibility"==e.rank_type&&(1==e.rankCode?s="green":i="red"),"educational"==e.rank_type&&(1==e.rankCode?c="green":_="red")}),a.state={liked_upArrowColor:n,liked_downArrowColor:r,credibility_upArrowColor:s,credibility_downArrowColor:i,educational_upArrowColor:c,educational_downArrowColor:_,rank_error:"",edge_liked_weight:a.props.page_ref.liked_weight,edge_credibility_weight:a.props.page_ref.credibility_weight,edge_educational_weight:a.props.page_ref.educational_weight,rankCode:a.props.page_ref.userRankCode,domain_liked_weight:a.props.page_ref.domain.liked_weight,domain_credibility_weight:a.props.page_ref.domain.credibility_weight,domain_educational_weight:a.props.page_ref.domain.educational_weight},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=D.get("findel-auth-token")||"",a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"a_page_ref"},r.a.createElement("text",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page_ref.pageURL},this.props.page_ref.formatedURL)),r.a.createElement("br",null),r.a.createElement("text",null,this.props.page_ref.pageSnap),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.edge_liked_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}}),"\xa0 \u05e6\u05d9\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05d5 \u05d0\u05ea \u05d4\u05d3\u05e3"),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.credibility_upArrowColor,onClick:function(){return e.rank_click_up("credibility")}}),"(",this.state.edge_credibility_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.credibility_downArrowColor,onClick:function(){return e.rank_click_down("credibility")}}),"\xa0 \u05e6\u05d9\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e3\xa0",r.a.createElement("span",{className:"field-tip"},r.a.createElement("text",null,r.a.createElement("u",null,"\u05d0\u05de\u05d9\u05df*")),r.a.createElement("span",{className:"tip-content"},"\u2022 \u05e2\u05d3 \u05db\u05de\u05d4 \u05d4\u05e9\u05e4\u05d4 \u05d5\u05d0\u05d5\u05e6\u05e8 \u05d4\u05de\u05d9\u05dc\u05d9\u05dd \u05d1\u05e8\u05de\u05d4 \u05d2\u05d1\u05d5\u05d4\u05d4 \u05d5\u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea?",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 \u05db\u05de\u05d4 \u05e4\u05e8\u05e1\u05d5\u05de\u05d5\u05ea \u05e7\u05d9\u05d9\u05de\u05d5\u05ea \u05d1\u05d3\u05e3? \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd \u05d4\u05de\u05e8\u05d5\u05d5\u05d9\u05d7\u05d9\u05dd \u05db\u05e1\u05e3 \u05de\u05e4\u05e8\u05e1\u05d5\u05dd \u05e7\u05d9\u05d9\u05dd \u05e1\u05d9\u05db\u05d5\u05d9 \u05d2\u05d1\u05d5\u05d4\u05d4 \u05d9\u05d5\u05ea\u05e8, \u05e9\u05dc \u05d2\u05d5\u05e8\u05de\u05d9\u05dd \u05d7\u05d9\u05e6\u05d5\u05e0\u05d9\u05d9\u05dd, \u05dc\u05de\u05de\u05df \u05db\u05ea\u05d1\u05d5\u05ea \u05d5/\u05d0\u05d5 \u05dc\u05d4\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05ea\u05d5\u05db\u05df \u05d4\u05d0\u05ea\u05e8.",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 \u05de\u05d9 \u05db\u05ea\u05d1 \u05d0\u05ea \u05d4\u05d3\u05e3? \u05d4\u05d0\u05dd \u05d9\u05e9 \u05dc\u05d5 \u05de\u05e0\u05d9\u05e2\u05d4 \u05de\u05e1\u05d5\u05d9\u05dd \u05e9\u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05e9\u05d9\u05e7\u05d5\u05dc \u05d3\u05e2\u05ea\u05d5? \u05de\u05d4 \u05e8\u05de\u05ea \u05d4\u05d9\u05d3\u05e2 \u05e9\u05dc \u05db\u05d5\u05ea\u05d1 \u05d4\u05d3\u05e3 \u05d1\u05e0\u05d5\u05e9\u05d0? \u05d4\u05d0\u05dd \u05d4\u05d5\u05d0 \u05e2\u05d1\u05e8 \u05d4\u05e1\u05de\u05db\u05d4? \u05d0\u05e7\u05d3\u05de\u05d0\u05d9 \u05d1\u05ea\u05d7\u05d5\u05dd? \u05de\u05d0\u05d9\u05e4\u05d4 \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05e9\u05dc\u05d5 \u05de\u05d2\u05d9\u05e2\u05d9\u05dd?",r.a.createElement("br",null),r.a.createElement("br",null),"\u2022 \u05d4\u05d0\u05dd \u05e7\u05d9\u05d9\u05dd \u05d1\u05d3\u05e3 \u05de\u05e9\u05d4\u05d5 \u05e9\u05d0\u05ea\u05dd \u05de\u05d6\u05d4\u05d9\u05dd \u05db\u05e9\u05d2\u05d5\u05d9 \u05d0\u05d5 \u05de\u05d5\u05d8\u05d4? \u05d0\u05dd \u05db\u05df \u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05d9\u05e9\u05e0\u05dd \u05e2\u05d5\u05d3 \u05e9\u05d2\u05d9\u05d0\u05d5\u05ea \u05d5\u05d4\u05d8\u05d9\u05d5\u05ea.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),"\u05dc\u05d0\u05d7\u05e8 \u05e9\u05e9\u05d0\u05dc\u05ea\u05dd \u05e9\u05d0\u05dc\u05d5\u05ea \u05d0\u05dc\u05d5: \u05d0\u05dd \u05d0\u05ea\u05dd \u05d1\u05e8\u05d5\u05e9\u05dd \u05e9\u05d4\u05d3\u05e3 \u05d0\u05de\u05d9\u05df, \u05e1\u05de\u05e0\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05db\u05db\u05d6\u05d4. \u05d0\u05dd \u05e0\u05ea\u05e7\u05dc\u05ea\u05dd \u05d1\u05d0\u05d7\u05d3 \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8 \u05d3\u05d1\u05e8\u05d9\u05dd \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd, \u05e1\u05de\u05e0\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05db\u05dc\u05d0 \u05d0\u05de\u05d9\u05df. \u05d0\u05dd \u05d0\u05d9\u05e0\u05db\u05dd \u05d1\u05d8\u05d5\u05d7\u05d9\u05dd, \u05d4\u05e9\u05d0\u05d9\u05e8\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05d1\u05de\u05e6\u05d1 \u05d4\u05e7\u05d9\u05d9\u05dd."))),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.educational_upArrowColor,onClick:function(){return e.rank_click_up("educational")}}),"(",this.state.edge_educational_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.educational_downArrowColor,onClick:function(){return e.rank_click_down("educational")}}),"\xa0 \u05e6\u05d9\u05d5\u05df \u05de\u05ea\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e3 \u05de\u05db\u05d9\u05dc \u05ea\u05d5\u05db\u05df \u05d7\u05d9\u05e0\u05d5\u05db\u05d9"),r.a.createElement("br",null),r.a.createElement("text",null," ",this.state.domain_liked_weight," \u05d0\u05d4\u05d1\u05d5 \u05d0\u05ea \u05d4\u05d3\u05d5\u05de\u05d9\u05d9\u05df"),r.a.createElement("br",null),r.a.createElement("text",null,this.state.domain_credibility_weight," \u05d0\u05de\u05d9\u05e0\u05d5\u05ea \u05d4\u05d3\u05d5\u05de\u05d9\u05d9\u05df"),r.a.createElement("br",null),r.a.createElement("text",null,this.state.domain_educational_weight," \u05d7\u05d9\u05e0\u05d5\u05db\u05d9\u05d5\u05ea \u05d4\u05d3\u05d5\u05de\u05d9\u05d9\u05df"),r.a.createElement("br",null),r.a.createElement("text",{style:{color:"red"}},this.state.rank_error),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#0587c3"},href:"/Page_page/"+encodeURIComponent(this.props.page_ref.formatedURL)},"\u05e2\u05d5\u05d3 \u05e2\u05dc \u05d4\u05d3\u05e3..."))}},{key:"rank_click_up",value:function(e){A(this,e,"up")}},{key:"rank_click_down",value:function(e){A(this,e,"down")}}]),t}(n.Component);T.PropsTypes={page_ref:C.a.object.isRequired};var F=T,I=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages_ref.map(function(e){return r.a.createElement(F,{key:e.id,page_ref:e})})}}]),t}(n.Component);I.PropsTypes={pages_refs:C.a.array.isRequired};var K=I,q=(a(212),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"title"},r.a.createElement("text",null,r.a.createElement("u",null,r.a.createElement("b",null,this.props.theTitle))))}}]),t}(n.Component));q.PropsTypes={theTitle:C.a.string.isRequired};var M=q,H=(a(213),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"subject"},r.a.createElement("text",null,this.props.subject.name,": ",this.props.subject.description))}}]),t}(n.Component));H.PropsTypes={subject:C.a.object.isRequired};var Q=H,V=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.theSubjects.map(function(e){return r.a.createElement(Q,{key:e.id,subject:e})})}}]),t}(n.Component);V.PropsTypes={theSubjects:C.a.array.isRequired};var z=V,W=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.ambigousData.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{key:e.id,theTitle:e.title}),r.a.createElement(z,{key:e.subID,theSubjects:e.subjects}))})}}]),t}(n.Component);W.PropsTypes={aData:C.a.array.isRequired};var J=W,X=(a(214),function(){function e(t,a,n){Object(o.a)(this,e);var r=t,s=a,i=[];i.push(1);for(var c=1;c<s;c++)i.push(65536*i[c-1]%r);this.R=65536,this.Q=t,this.numOfChars=a,this.RMarray=i,this.num_of_pages=n,this.pages_hashes=[];for(var l=0;l<n;l++){var u=[];u[a-1]=null,this.pages_hashes.push(u)}this.texts=[],this.texts[n-1]=null,this.wikiLinks_hashes_to_word_by_length=null,this.words_matricies_by_length=null}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"hashWikiLinks",value:function(e){for(var t=this,a=[],n=[],r=0;r<this.numOfChars;r++){n.push([]);var s=[];s[this.Q-1]=void 0,a.push(s)}for(r=0;r<e.length;r++)if(null!=e[r].topicName&&e[r].topicName.length<this.numOfChars){var i=[];i[this.num_of_pages-1]=null;var o=e[r].topicName;n[o.length-1].push({linkName:o,index_in_connected_topics_edges:e[r].index_in_connected_topics_edges,hash:-1,pages_hits:i})}var c=1;n.forEach(function(e){if(null!=e[0]){var n=c,r=0;e.forEach(function(e){e.hash=t.hash(e.linkName,n);var s=a[n-1];void 0==s[e.hash]?s[e.hash]=[{linkName:e.linkName,linkIndex:r}]:s[e.hash].find(function(t){return t.linkName=e.linkName})||s[e.hash].push({linkName:e.linkName,linkIndex:r});r++})}c++}),this.wikiLinks_hashes_to_word_by_length=n,this.words_matricies_by_length=a}},{key:"creatHashTables",value:function(e,t){for(var a=1;a<=this.numOfChars;a++){var n=e.length-a+1,r=[],s=this.hash(e,a);r[0]=s;for(var i=1;i<n;i++)s=((s=(s+this.Q-this.RMarray[a-1]*e.charCodeAt(i-1)%this.Q)%this.Q)*this.R+e.charCodeAt(i-1+a))%this.Q,r[i]=s;this.pages_hashes[t][a-1]=r}this.texts[t]=e}},{key:"add_hits_from_page",value:function(e,t){for(var a,n=this,r=this.texts[t],s=this.pages_hashes[t],i=0,o=0;o<this.numOfChars;o++){var c=this.words_matricies_by_length[o],l=s[o],u=0;l.forEach(function(e){void 0!=c[e]&&(a=r.substring(u,u+o+1),c[l[u]].forEach(function(e){a==e.linkName&&(null==n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]?(n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]=1,i++):n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]++)})),u++})}e.num_of_links_in_page=i}}]),e}()),G=function(){function e(t,a,n){Object(o.a)(this,e);var r=t;this.RM=1;for(var s=1;s<a;s++)this.RM=65536*this.RM%r;this.R=65536,this.Q=t,this.numOfChars=a;var i=this.creatHashTable(n);this.create_sets_array(n,i)}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"creatHashTable",value:function(e){var t=e.length-this.numOfChars+1,a=[],n=this.hash(e,this.numOfChars);a[0]=n;for(var r=1;r<t;r++)n=((n=(n+this.Q-this.RM*e.charCodeAt(r-1)%this.Q)%this.Q)*this.R+e.charCodeAt(r-1+this.numOfChars))%this.Q,a[r]=n;return a}},{key:"create_sets_array",value:function(e,t){var a=this,n=0,r=[];r[this.Q-1]=void 0,t.forEach(function(t){var s=e.substring(n,n+a.numOfChars);void 0==r[t]?(r[t]={},r[t][s]={primePage:1,page_to_compare:0}):void 0==r[t][s]&&(r[t][s]={primePage:1,page_to_compare:0}),n++}),this.hashed_set_array=r}},{key:"compute_page_similarity",value:function(e){var t=this,a=0;this.creatHashTable(e).forEach(function(n){var r=e.substring(a,a+t.numOfChars);void 0==t.hashed_set_array[n]?(t.hashed_set_array[n]={},t.hashed_set_array[n][r]={primePage:0,page_to_compare:1}):void 0==t.hashed_set_array[n][r]?t.hashed_set_array[n][r]={primePage:0,page_to_compare:1}:1!=t.hashed_set_array[n][r].page_to_compare&&(t.hashed_set_array[n][r].page_to_compare=1),a++});var n=0,r=0;return this.hashed_set_array.forEach(function(e){e&&Object.keys(e).forEach(function(t){1==e[t].primePage&&1==e[t].page_to_compare?(n++,r++,e[t].page_to_compare=0):0==e[t].primePage&&1==e[t].page_to_compare?(n++,e[t].page_to_compare=0):1==e[t].primePage&&0==e[t].page_to_compare&&n++})}),r/n}}]),e}(),Y=a(178),Z=a.n(Y),$=function(){function e(){var t=this;Object(o.a)(this,e),this.request_pages_from_Server_to_use=function(){var e=Object(y.a)(v.a.mark(function e(a,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/topics_to_pages_data/?search="+a,{headers:{"findel-auth-token":n.token}}).then(function(e){return e.data}).then(function(e){for(var a=[],r=[],s=0;s<e.length;s++)null==e[s].domain&&(e[s].domain={domainURL:"nullURL",score:0}),r.push({pageID:e[s].pageID,edgeID:e[s].edgeID,pageURL:e[s].pageURL,formatedURL:e[s].pageFormatedURL,pageSnap:e[s].pageSnap,domain:e[s].domain,user_rankings_for_edge:e[s].user_rankings,liked_weight:e[s].liked_weight,credibility_weight:e[s].credibility_weight,educational_weight:e[s].educational_weight,order_index_by_google:e[s].order_index_by_google});var i=t.shuffle_pages_from_google(r);for(s=0;s<i.length;s++)i[s].index=s;for(s=0;s<i.length&&s<9;s++)a.push({index:s,pageID:i[s].pageID,edgeID:i[s].edgeID,pageURL:i[s].pageURL,formatedURL:i[s].formatedURL,pageSnap:i[s].pageSnap,domain:i[s].domain,user_rankings_for_edge:i[s].user_rankings_for_edge,liked_weight:i[s].liked_weight,credibility_weight:i[s].credibility_weight,educational_weight:i[s].educational_weight,order_index_by_google:i[s].order_index_by_google});n.pages_from_server_to_use=a,n.full_pages_list_from_server=i}).catch(function(e){"Network Error"===e.message?n.setState({server_message:"\u05dc\u05d0 \u05de\u05e6\u05dc\u05d9\u05d7 \u05dc\u05d4\u05d2\u05d9\u05e2 \u05dc\u05e9\u05e8\u05ea"}):n.setState({server_message:e.response.data})});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.init_pages_search=function(e){for(var t=[],a=0;a<e.pages_from_server_to_use.length;a++)t.push({id:e.id,pageURL:e.pages_from_server_to_use[a].pageURL,formatedURL:e.pages_from_server_to_use[a].formatedURL,scrape:"fa fa-spinner fa-spin"}),e.id++;e.setState({pages_in_search:t})},this.hash_and_search_pages=function(){var e=Object(y.a)(v.a.mark(function e(a,n,r){var s,i,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Z.a.load(n),!((i=s.text()).length>20)){e.next=13;break}return r.rabinKarp.creatHashTables(i,a.index),r.rabinKarp.add_hits_from_page(a,a.index),a.jaccard_similarity=r.jaccard_similarity.compute_page_similarity(i),a.was_page_searched=!0,o={edgeID:a.edgeID,jaccard_similarity:a.jaccard_similarity,num_of_links_in_page:a.num_of_links_in_page},e.next=10,k.a.post("/api/userInsertData/insert_page_topic_edge_scores",o,{headers:{"findel-auth-token":t.token}}).then(function(e){console.log("edge successfuly added")}).catch(function(e){console.log("edge could not be added")});case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),this.request_WebScraping_for_pages=function(){var e=Object(y.a)(v.a.mark(function e(a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.pages_from_server_to_use.map(function(e){return k.a.get("/api/webScrape/?pageID="+e.pageID+"&edgeID="+e.edgeID+"&force_scrape=false",{}).then(function(n){1==n.data.is_edge_up_to_date?(e.jaccard_similarity=n.data.jaccard_similarity,e.num_of_links_in_page=n.data.num_of_links_in_page,a.pagesTempState[e.index].scrape="fa fa-check-circle-o"):t.hash_and_search_pages(e,n.data.pageHTML,a).then(function(){a.pagesTempState[e.index].scrape="fa fa-check-circle-o"}).catch(function(){a.pagesTempState[e.index].scrape="fa fa-times-circle-o"})}).catch(function(){a.page.jaccard_similarity=0,a.page.num_of_links_in_page=0,a.pagesTempState[e.index].scrape="fa fa-times-circle-o"})}),e.next=3,Promise.all(n).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 3:a.pageSearchFinished=!0;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.rank_pages=function(e){var a=e.pages_from_server_to_use;a.sort(function(e,t){return t.num_of_links_in_page-e.num_of_links_in_page}),a.sort(function(e,t){return t.jaccard_similarity-e.jaccard_similarity}),a=t.shuffle_pages_from_google(a);for(var n=e.state.pages_ref,r=0;r<a.length;r++)null!=a[r]&&(n.push({id:e.id,pageID:a[r].pageID,edgeID:a[r].edgeID,pageURL:a[r].pageURL,formatedURL:a[r].formatedURL,pageSnap:a[r].pageSnap,domain:a[r].domain,user_rankings_for_edge:a[r].user_rankings_for_edge,liked_weight:a[r].liked_weight,credibility_weight:a[r].credibility_weight,educational_weight:a[r].educational_weight}),e.id++);var s=!1;n.length>=e.full_pages_list_from_server.length&&(s=!0),e.setState({pages_ref:n,pages_in_search:[],is_more_pages_button_hidden:s}),e.page_displayed_so_far_index=n.length-1,e.top_pages=a,e.ref_pages_for_histoty=n},this.display_expended_content=function(e){var t=e.connected_topics_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.linkHits-e.linkHits}),t.sort(function(e,t){if(t.topic1.topicName.length<3&&e.topic1.topicName.length>=3)return-1}),t.sort(function(e,t){return t.liked_weight-e.liked_weight});for(var a=[],n=0;n<t.length&&n<10;n++){a.push({id:e.id,page:t[n].topic1.topicName,partition:" | "}),e.id++}var r=!1;0==t.length&&(r=!0),e.setState({expandedContents:a,is_show_more_content_hidden:r,expandend_content_status:""}),e.expandedCon_to_history=a}}return Object(c.a)(e,[{key:"Search_functions",value:function(){}},{key:"search_using_wikipedia",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,r,s,i=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request_pages_from_Server_to_use(a.curSearch,a);case 2:if(null==a.pages_from_server_to_use){e.next=16;break}return e.next=5,this.init_pages_search(a);case 5:for(n=[],r=0;r<a.connected_topics_edges.length;r++)a.connected_topics_edges[r].linkHits=0,n.push({topicName:a.connected_topics_edges[r].topic1.topicName,index_in_connected_topics_edges:r});a.rabinKarp=new X(3001,20,a.pages_from_server_to_use.length),a.rabinKarp.hashWikiLinks(n),a.jaccard_similarity=new G(20399,10,t),a.pagesTempState=a.state.pages_in_search,750,s=setInterval(function(){0==a.pageSearchFinished&&0==a.did_user_ended_seach?a.setState({pages_in_search:a.pagesTempState}):(clearInterval(s),a.pageSearchFinished=!1,i.rank_pages(a),i.search_expended_content(a),a.search_button_function_stop_search())},750),this.request_WebScraping_for_pages(a),e.next=17;break;case 16:a.search_button_function_stop_search();case 17:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"shuffle_pages_from_google",value:function(e){var t;e.sort(function(e,t){return 0===t.order_index_by_google?1:0===e.order_index_by_google?-1:null==t.order_index_by_google&&null==e.order_index_by_google?0:null!=t.order_index_by_google&&null==e.order_index_by_google?1:null==t.order_index_by_google&&null!=e.order_index_by_google?-1:e.order_index_by_google-t.order_index_by_google}),e.sort(function(e,t){return t.domain.score<1&&e.domain.score>=1?-1:t.domain.score>=1&&e.domain.score<1?1:t.domain.score<1&&e.domain.score<1?t.domain.score-e.domain.score:0}),e.sort(function(e,t){return t.educational_weight-e.educational_weight}),e.sort(function(e,t){return t.credibility_weight-e.credibility_weight}),e.sort(function(e,t){return t.liked_weight-e.liked_weight});for(var a=0;a<e[a]-1;a+=2)e[a].domain.score<e[a+1].domain.score&&(t=e[a],e[a]=e[a+1],e[a+1]=t);return e}},{key:"best_pages_results",value:function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,r,s,i,o=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.top_pages,r=6,s=0,i=0;case 4:if(!(i<n.length&&s<r)){e.next=14;break}if(1==n[i].was_page_searched){e.next=10;break}return e.next=8,k.a.get("/api/webScrape/?pageID="+n[i].pageID+"&edgeID="+n[i].edgeID+"&force_scrape=true",{}).then(function(){var e=Object(y.a)(v.a.mark(function e(r){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.hash_and_search_pages(n[i],r.data.pageHTML,t);case 2:return n[i].was_page_searched=!0,e.next=5,a.forEach(function(e){e.forEach(function(e){var a=e.pages_hits[n[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})});case 5:s++;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("page failed searched")});case 8:e.next=11;break;case 10:1==n[i].was_page_searched&&(a.forEach(function(e){e.forEach(function(e){var a=e.pages_hits[n[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})}),s++);case 11:i++,e.next=4;break;case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"search_expended_content",value:function(e){for(var t=this,a=e.connected_topics_edges,n=!1,r=0;r<a.length;r++)if(1==a[r].is_search_required){n=!0;break}if(n){var s=e.rabinKarp.wikiLinks_hashes_to_word_by_length;this.best_pages_results(e,s).then(function(){t.display_expended_content(e)}).then(function(){var t=e.connected_topics_edges,a=[];t.forEach(function(e){e.is_search_required&&a.push({_id:e.edgeID,web_scrape_score:e.linkHits})});var n={edges:a};k.a.post("/api/userInsertData/insert_topic_topic_edges_scores",n).then(function(e){console.log(e.data)}).catch(function(e){void 0==e.response?console.log("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"):console.log(e.response.data)})}).catch(function(){console.log("Search content failed")})}else this.display_expended_content(e)}}]),e}(),ee=new U.a,te=new $,ae=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.search_button_function()},a.search_button_function=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!1,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",is_more_pages_button_hidden:!0,is_show_more_content_hidden:!0,expandend_content_status:"fa fa-spinner fa-spin",server_message:""}),a.deep_search();case 3:case"end":return e.stop()}},e)})),a.search_button_function_stop_search=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"",expandend_content_status:""});case 2:case"end":return e.stop()}},e)})),a.deep_search=function(){a.setState({expandedContents:[],pages_ref:[],ambigousData:[]}),k.a.get("/api/topics_to_topics_data/?search="+a.curSearch,{headers:{"findel-auth-token":a.token}}).then(function(){var e=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.data.wikiText||0!=a.state.is_simple_search_selected){e.next=6;break}return a.connected_topics_edges=t.data.connected_topics_edges,e.next=4,te.search_using_wikipedia(t.data.wikiText,Object(E.a)(Object(E.a)(a)));case 4:e.next=22;break;case 6:if(null==t.data.ambig){e.next=13;break}t.data.ambig.forEach(function(e){e.id=a.id,a.id++,e.subID=a.id,a.id++,e.subjects.forEach(function(e){e.id=a.id,a.id++})}),a.setState({ambigousData:t.data.ambig}),a.ambig_for_history=t.data.ambig,a.search_button_function_stop_search(),e.next=22;break;case 13:return a.connected_topics_edges=t.data.connected_topics_edges,e.next=16,te.request_pages_from_Server_to_use(a.curSearch,Object(E.a)(Object(E.a)(a)));case 16:return e.next=18,te.rank_pages(Object(E.a)(Object(E.a)(a)));case 18:return e.next=20,te.display_expended_content(Object(E.a)(Object(E.a)(a)));case 20:a.search_button_function_stop_search(),a.save_to_history();case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){null!=e.respnse?a.setState({server_message:e.respnse.data}):a.setState({server_message:e.message}),a.search_button_function_stop_search()})},a.history=e.history;var n=new URLSearchParams(window.location.search).get("search");if(a.curSearch=n,a.pages_and_texts=[],a.pagesFinishedScrape=0,a.token=ee.get("findel-auth-token")||"",a.pagesTempState=[],a.pageSearchFinished=!1,a.top_pages=null,a.rabinKarp=null,a.wikiLinksHashesToWordByLength=[],a.wordsMatriciesByLength=[],a.id=1,void 0!=a.history.location.state){var r=a.history.location.state;void 0==r.ambigousData&&(r.ambigousData=[]),void 0==r.expandedContents&&(r.expandedContents=[]),void 0==r.pages_ref&&(r.pages_ref=[]),a.state={inputValue:r.inputValue,pages_in_search:[],expandedContents:r.expandedContents,pages_ref:r.pages_ref,ambigousData:r.ambigousData,newID:r.newID,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_page_to_topic_input:r.add_page_to_topic_input,add_topic_to_topic_input:r.add_topic_to_topic_input,add_page_to_topic_description:r.add_page_to_topic_description,was_add_page_button_clicked:r.was_add_page_button_clicked,was_add_topic_button_clicked:r.was_add_topic_button_clicked,is_more_pages_button_hidden:r.is_more_pages_button_hidden,is_simple_search_selected:r.is_simple_search_selected,is_show_more_content_hidden:r.is_show_more_content_hidden,expandend_content_status:"",page_displayed_so_far_index:r.page_displayed_so_far_index,pages_from_server_to_use:r.pages_from_server_to_use,full_pages_list_from_server:r.full_pages_list_from_server},a.full_pages_list_from_server=r.full_pages_list_from_server}else a.pages_from_server_to_use=[],a.full_pages_list_from_server=[],a.page_displayed_so_far_index=0,a.state={inputValue:n,pages_in_search:[],expandedContents:[],pages_ref:[],ambigousData:[],newID:1,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_page_to_topic_input:"",add_topic_to_topic_input:"",add_page_to_topic_description:"",was_add_page_button_clicked:!1,was_add_topic_button_clicked:!1,is_more_pages_button_hidden:!0,is_simple_search_selected:!1,is_show_more_content_hidden:!0,expandend_content_status:""},null!=n&&a.search_button_function();return a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:"#F0F8FF",cursor:"pointer"};return r.a.createElement("div",{className:"SearchPage"},r.a.createElement("div",{style:{backgroundColor:"#0587c3"}},r.a.createElement("div",{className:"search_box_div"},r.a.createElement("img",{id:"findelTheme",src:"/publicComponents/findelTheme"}),r.a.createElement("div",null,r.a.createElement("input",{id:"search_text_box",type:"text",value:this.state.inputValue,onChange:function(t){return e.updateTXT(t)},onKeyPress:this.handleKeyPress}),r.a.createElement("button",{id:"searchBTN",name:"searchBTN",onClick:function(){return e.search_button_function()}},this.state.search_button_text," ",r.a.createElement("i",{className:this.state.search_button_iconClass})),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",onClick:function(){return e.deep_search_radio_button_clicked()},checked:!this.state.is_simple_search_selected,value:""})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05de\u05d5\u05e7",r.a.createElement("input",{type:"radio",id:"simple_search_radio_button",onClick:function(){return e.simple_search_radio_button_clicked()},checked:this.state.is_simple_search_selected,value:""})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8"),r.a.createElement("div",{id:"exContents"},r.a.createElement("text",{color:"white"},this.state.server_message)),r.a.createElement("div",{id:"exContents"},r.a.createElement(R,{expandedContents:this.state.expandedContents}),r.a.createElement("text",null,r.a.createElement("i",{className:this.state.expandend_content_status})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#F0F8FF"},href:"/Topics_page/"+this.curSearch,hidden:this.state.is_show_more_content_hidden},"\u05e2\u05d5\u05d3..."))),r.a.createElement("div",{className:"add_content_and_pages_div",style:{backgroundColor:"#0587c3"}},r.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},r.a.createElement("text",{style:t,onClick:function(){return e.add_topic_button_clicked(!1)}},"-\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.add_topic_to_topic_input,onChange:function(t){return e.add_topic_to_topic_change_function(t)}}),r.a.createElement("button",{id:"add_topic_to_topic_button"},"+")),r.a.createElement("div",{className:"add_topic_to_topic_div",hidden:this.state.was_add_topic_button_clicked},r.a.createElement("text",{onClick:function(){return e.add_topic_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0...")),r.a.createElement("div",{className:"add_page_to_topic_div",hidden:!this.state.was_add_page_button_clicked},r.a.createElement("text",{onClick:function(){return e.add_page_button_clicked(!1)},style:t},"-\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"add_page_to_topic_url_input",placeholder:".....//:https",value:this.state.add_page_to_topic_input,onChange:function(t){return e.add_page_to_topic_change_function(t)}}),r.a.createElement("br",null),r.a.createElement("textarea",{value:this.state.add_page_to_topic_description,placeholder:"\u05ea\u05d0\u05d5\u05e8 \u05d4\u05d0\u05ea\u05e8",onChange:function(t){return e.add_page_to_topic_change_description_function(t)}}),r.a.createElement("br",null),r.a.createElement("button",{id:"add_page_to_topic_button",onClick:function(){return e.add_page()}},"+")),r.a.createElement("div",{className:"add_page_to_topic_div",hidden:this.state.was_add_page_button_clicked},r.a.createElement("text",{onClick:function(){return e.add_page_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0...")))),r.a.createElement("div",{id:"pages_ref"},r.a.createElement(K,{pages_ref:this.state.pages_ref}),r.a.createElement("button",{onClick:function(){return e.more_pages_clicked()},hidden:this.state.is_more_pages_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd...")),r.a.createElement("div",{id:"pages"},r.a.createElement(O,{pages_in_search:this.state.pages_in_search})),r.a.createElement("div",{id:"ambigous"},r.a.createElement(J,{ambigousData:this.state.ambigousData})))}},{key:"updateTXT",value:function(e){this.setState({inputValue:e.target.value}),this.curSearch=e.target.value}},{key:"deep_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!1})}},{key:"simple_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!0})}},{key:"add_page_to_topic_change_function",value:function(e){this.setState({add_page_to_topic_input:e.target.value})}},{key:"add_page_to_topic_change_description_function",value:function(e){this.setState({add_page_to_topic_description:e.target.value})}},{key:"add_page_button_clicked",value:function(e){this.setState({was_add_page_button_clicked:e})}},{key:"add_page",value:function(){var e=this,t={topicName:this.state.inputValue,pageURL:this.state.add_page_to_topic_input,pageDescription:this.state.add_page_to_topic_description};k.a.post("/api/addContent/add_page",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"add_topic_to_topic_change_function",value:function(e){this.setState({add_topic_to_topic_input:e.target.value})}},{key:"add_topic_button_clicked",value:function(e){this.setState({was_add_topic_button_clicked:e})}},{key:"more_pages_clicked",value:function(){this.pages_from_server_to_use=[];for(var e=this.page_displayed_so_far_index+1;e<this.page_displayed_so_far_index+1+10&&e<this.full_pages_list_from_server.length;e++)this.pages_from_server_to_use.push(this.full_pages_list_from_server[e]);te.rank_pages(this)}},{key:"save_to_history",value:function(){this.history.push({pathname:"/",search:"?search="+this.state.inputValue,state:{inputValue:this.state.inputValue,pages_in_search:this.state.pages_in_search,expandedContents:this.expandedCon_to_history,pages_ref:this.ref_pages_for_histoty,ambigousData:this.ambig_for_history,newID:this.state.newID,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_page_to_topic_input:this.state.add_page_to_topic_input,add_topic_to_topic_input:this.state.add_topic_to_topic_input,add_page_to_topic_description:this.state.add_page_to_topic_description,was_add_page_button_clicked:this.state.was_add_page_button_clicked,was_add_topic_button_clicked:this.state.was_add_topic_button_clicked,is_more_pages_button_hidden:this.state.is_more_pages_button_hidden,is_simple_search_selected:this.state.is_simple_search_selected,is_show_more_content_hidden:this.state.is_show_more_content_hidden,expandend_content_status:"",page_displayed_so_far_index:this.page_displayed_so_far_index,pages_from_server_to_use:this.pages_from_server_to_use,full_pages_list_from_server:this.full_pages_list_from_server}})}}]),t}(n.Component),ne=new U.a,re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={userName:"",password:"",serverMessage:""},ne.set("findel-ServerMessage","",{path:"/"}),a.attampt=0,a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"LoginPage"},r.a.createElement("h1",null," Login "),r.a.createElement("text",null,this.state.serverMessage),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"})),r.a.createElement("br",null),r.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05ea\u05d7\u05d1\u05e8"))}},{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:this.state.userName,password:this.state.password},e.next=3,k.a.post("/api/auth",a).then(function(e){t=e.data,ne.set("findel-auth-token",t.token,{path:"/"}),n.history.goBack()}).catch(function(e){void 0==e.response?n.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):(n.attampt++,n.setState({serverMessage:e.response.data+" \u05e0\u05e1\u05d9\u05d5\u05df \u05de\u05e1\u05e4\u05e8: "+n.attampt}))});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),se=a(417),ie=(a(109),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"checkForms",value:function(){}},{key:"checkUserName",value:function(e,t){var a=t.state.successClass,n="";return e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.userNameBlured=!0),t.userNameBlured?t.setState({userName:e,userNameClass:a,userNameError:n}):t.setState({userName:e}),""==n}},{key:"checkFirstName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var r=0;r<e.length;r++){if(e.charAt(r)>="0"&&e.charAt(r)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.firstNameBlured=!0),t.firstNameBlured?t.setState({firstName:e,firstNameClass:a,firstNameError:n}):t.setState({firstName:e}),""==n}},{key:"checkLastName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var r=0;r<e.length;r++){if(e.charAt(r)>="0"&&e.charAt(r)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.lastNameBlured=!0),t.lastNameBlured?t.setState({lastName:e,lastNameClass:a,lastNameError:n}):t.setState({lastName:e}),""==n}},{key:"checkEmail",value:function(e,t){var a=t.state.successClass,n="";if(""==e)a="form-control",n="";else if(e.length<5)a=t.state.errorClass,n="\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4";else{for(var r=!1,s=0,i=0;i<e.length;i++)if(0==i){if(!(e.charAt(i)>"A"&&e.charAt(i)<"z"||e.charAt(i)>"0"&&e.charAt(i)<"9")){a=t.state.errorClass,n="\u05d0\u05d5\u05ea \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8";break}}else{if("@"==e.charAt(i)){if(e.length-i<3){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}if(0!=r){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}r=!0}if("."==e.charAt(i)&&r){if("@"==e.charAt(i-1)||"."==e.charAt(i-1)||i==e.length-1){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}s++}}(0==r||s>2||0==s)&&(a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4")}return""==n&&(t.emailBlured=!0),t.emailBlured?t.setState({email:e,emailClass:a,emailError:n}):t.setState({email:e}),""==n}},{key:"checkPassword",value:function(e,t){var a=t.state.successClass,n="";return e.length<=5&&(a=t.state.errorClass,n="\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.passwordBlured=!0),t.passwordBlured?t.setState({password:e,passwordClass:a,passwordError:n}):t.setState({password:e}),""==n}}]),e}()),oe=new U.a,ce=new ie,le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,oe.set("findel-ServerMessage","",{path:"/"}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return r.a.createElement("div",{className:"RegisterPage"},r.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05d5\u05e8\u05d4 "),r.a.createElement("text",null,this.state.serverMessage),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),r.a.createElement("text",{style:t},this.state.userNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),r.a.createElement("text",{style:t},this.state.passwordError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),r.a.createElement("text",{style:t},this.state.emailError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),r.a.createElement("text",{style:t},this.state.firstNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),r.a.createElement("text",{style:t},this.state.lastNameError)),r.a.createElement("br",null),r.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){ce.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){ce.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){ce.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){ce.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){ce.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n,r,s,i,o,c,l=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=ce.checkEmail(this.state.email,this),a=ce.checkFirstName(this.state.firstName,this),n=ce.checkLastName(this.state.lastName,this),r=ce.checkPassword(this.state.password,this),s=ce.checkUserName(this.state.userName,this),!(t&&a&&n&&r&&s)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=oe.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createTeacherAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),ue=new U.a,_e=new ie,de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,ue.set("findel-ServerMessage","",{path:"/"}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return r.a.createElement("div",{className:"RegisterPage"},r.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05e0\u05d4\u05dc "),r.a.createElement("text",null,this.state.serverMessage),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),r.a.createElement("text",{style:t},this.state.userNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),r.a.createElement("text",{style:t},this.state.passwordError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),r.a.createElement("text",{style:t},this.state.emailError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),r.a.createElement("text",{style:t},this.state.firstNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),r.a.createElement("text",{style:t},this.state.lastNameError)),r.a.createElement("br",null),r.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){_e.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){_e.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){_e.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){_e.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){_e.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n,r,s,i,o,c,l=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=_e.checkEmail(this.state.email,this),a=_e.checkFirstName(this.state.firstName,this),n=_e.checkLastName(this.state.lastName,this),r=_e.checkPassword(this.state.password,this),s=_e.checkUserName(this.state.userName,this),!(t&&a&&n&&r&&s)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=ue.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createAdminAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),he=new U.a,pe=new ie,me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.userNameBlured=!1,a.firstNameBlured=!1,a.emailBlured=!1,a.lastNameBlured=!1,he.set("findel-ServerMessage","",{path:"/"}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return r.a.createElement("div",{className:"RegisterPage"},r.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05ea\u05dc\u05de\u05d9\u05d3 "),r.a.createElement("text",null,this.state.serverMessage),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),r.a.createElement("text",{style:t},this.state.userNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),r.a.createElement("text",{style:t},this.state.passwordError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),r.a.createElement("text",{style:t},this.state.emailError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),r.a.createElement("text",{style:t},this.state.firstNameError)),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),r.a.createElement("text",{style:t},this.state.lastNameError)),r.a.createElement("br",null),r.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){pe.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){pe.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){pe.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){pe.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){pe.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n,r,s,i,o,c=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=pe.checkEmail(this.state.email,this),a=pe.checkFirstName(this.state.firstName,this),n=pe.checkLastName(this.state.lastName,this),r=pe.checkPassword(this.state.password,this),s=pe.checkUserName(this.state.userName,this),!(t&&a&&n&&r&&s)){e.next=15;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),e.next=15,k.a.post("/api/users/createStudentAccount",o).then(function(e){i=e.data,""!=(he.get("findel-auth-token")||"")?c.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}):(he.set("findel-auth-token",i.token,{path:"/"}),c.history.goBack())}).catch(function(e){void 0==e.response?c.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):c.setState({serverMessage:e.response.data})});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"register"},r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(se.a,{to:"/registerPage",style:this.state.displayLoggingComponents},"\u05ea\u05dc\u05de\u05d9\u05d3"),r.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),r.a.createElement(se.a,{to:"/teacherRegister",style:this.state.displayLoggingComponents},"\u05de\u05d5\u05e8\u05d4"),r.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),r.a.createElement(se.a,{to:"/adminRegister",style:this.state.displayLoggingComponents},"\u05de\u05e0\u05d4\u05dc"),r.a.createElement("hr",null),r.a.createElement(h.a,{exact:!0,path:"/",component:me}),r.a.createElement(h.a,{path:"/teacherRegister",component:le}),r.a.createElement(h.a,{path:"/adminRegister",component:de}),r.a.createElement(h.a,{path:"/registerPage",component:me}))))}}]),t}(n.Component),fe=(a(405),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search"},r.a.createElement("text",null," \u05e0\u05d5\u05e9\u05d0: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.search.topic},this.props.search.topic)),r.a.createElement("br",null),r.a.createElement("text",null," \u05ea\u05d0\u05e8\u05d9\u05da: ",this.props.search.searchDate),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component));fe.PropsTypes={search:C.a.object.isRequired};var ke=fe,be=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.searches.map(function(e){return r.a.createElement(ke,{key:e.id,search:e})})}}]),t}(n.Component);be.PropsTypes={searches:C.a.array.isRequired};var ve=be,ye=new U.a,Ee=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={SearchHistory:[]};var n=ye.get("findel-auth-token")||"";return k.a.get("/api/userData/searchHistory",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){a.setHistory(e)}).catch(function(e){console.log(e);a.setHistory([])}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"setHistory",value:function(e){this.setState({SearchHistory:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"#0587c3"}},r.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9")),r.a.createElement("div",null,r.a.createElement(ve,{searches:this.state.SearchHistory})))}}]),t}(n.Component),we=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"fav_page"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page.pageURL},this.props.page.pageFormatedURL))}}]),t}(n.Component);we.PropsTypes={page:C.a.object.isRequired};var Ce=we,Ne=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages.map(function(e){return r.a.createElement(Ce,{key:e._id,page:e})})}}]),t}(n.Component);Ne.PropsTypes={pages:C.a.array.isRequired};var je=Ne,xe=(a(406),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.favorites.map(function(e){return r.a.createElement("div",{className:"favorites_div"},r.a.createElement("text",null,e.topic.topicName,": ",r.a.createElement("br",null)),r.a.createElement(je,{key:e.topic._id,pages:e.pages}))})}}]),t}(n.Component));xe.PropsTypes={favorites:C.a.array.isRequired};var Oe=xe,Se=new U.a,Be=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={favorites:[]};var n=Se.get("findel-auth-token")||"";return k.a.get("/api/userData/favorites",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){a.setFavorites(e)}).catch(function(e){console.log(e);a.setFavorites([])}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"setFavorites",value:function(e){this.setState({favorites:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},r.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05e4\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd")),r.a.createElement("div",null,r.a.createElement(Oe,{favorites:this.state.favorites})))}}]),t}(n.Component),Pe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page.pageURL},this.props.page.pageFormatedURL),r.a.createElement("br",null))}}]),t}(n.Component);Pe.PropsTypes={page:C.a.object.isRequired};var Re=Pe,Le=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domain.pages.map(function(e){return r.a.createElement(Re,{key:e.id,page:e})})}}]),t}(n.Component);Le.PropsTypes={domain:C.a.array.isRequired};var Ue=Le,Ae=(a(407),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains.map(function(e){return r.a.createElement("div",{className:"domains_div"},r.a.createElement("text",null,e.domainURL,": ",r.a.createElement("br",null)),r.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df \u05e2\u05dc \u05e4\u05d9 \u05d0\u05e0\u05e9\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05d5 \u05d3\u05e4\u05d9\u05dd \u05d1\u05d3\u05d5\u05de\u05d9\u05d9\u05df: ",e.liked_weight," ",r.a.createElement("br",null)),r.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df \u05e2\u05dc \u05e4\u05d9 \u05d0\u05e0\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e4\u05d9\u05dd \u05d1\u05d3\u05d5\u05de\u05d9\u05d9\u05df \u05d0\u05de\u05d9\u05e0\u05d9\u05dd: ",e.credibility_weight," ",r.a.createElement("br",null)),r.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df \u05e2\u05dc \u05e4\u05d9 \u05d0\u05e0\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e4\u05d9\u05dd \u05d1\u05d3\u05d5\u05de\u05d9\u05d9\u05df \u05d7\u05d9\u05e0\u05d5\u05db\u05d9\u05d9\u05dd: ",e.educational_weight," ",r.a.createElement("br",null)),r.a.createElement(Ue,{key:e.id,domain:e}),r.a.createElement("button",{onClick:e.request_pages_of_domain_function,hidden:e.is_more_pages_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd..."))})}}]),t}(n.Component));Ae.PropsTypes={domains:C.a.array.isRequired};var De=Ae,Te=(a(408),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains_list.map(function(e){return r.a.createElement("div",{className:"list_div"},r.a.createElement("text",null,e.domainURL,": ",r.a.createElement("br",null)))})}}]),t}(n.Component));Te.PropsTypes={domains_list:C.a.array.isRequired};var Fe=Te,Ie=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).request_pages_of_domain=function(e){k.a.get("/api/present_data/domain_pages/?id="+e).then(function(e){return e.data}).then(function(e){e.pages.forEach(function(e){e.id=a.id,a.id++});for(var t=a.state.domains,n=0;n<t.length;n++)if(t[n]._id==e._id){t[n].pages=e.pages,t[n].is_more_pages_button_hidden=!0;break}a.setDomains(t)}).catch(function(e){console.log(e);a.setDomains([])})};return a.state={domains:[],not_educational_or_credibal_domains:[],all_positive_domains:[]},a.id=1,k.a.get("/api/present_data/domains").then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.educational_weight-e.educational_weight}),e.sort(function(e,t){return t.credibility_weight-e.credibility_weight}),e.sort(function(e,t){return t.liked_weight-e.liked_weight});var t=[],n=[];e.forEach(function(e){e.id=a.id,e.pages=[],e.request_pages_of_domain_function=function(){return a.request_pages_of_domain(e._id)},e.is_more_pages_button_hidden=!1,a.id++,e.educational_weight>=2&&e.credibility_weight>=2&&e.liked_weight>=2&&n.push(e),(e.credibility_weight<1||e.educational_weight<1)&&t.push(e)}),a.setState({domains:e,not_educational_or_credibal_domains:t,all_positive_domains:n})}).catch(function(e){console.log(e),a.setState({domains:[],not_educational_or_credibal_domains:[],all_positive_domains:[]})}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"Domains",style:{backgroundColor:"#0587c3"}},r.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd")),r.a.createElement("div",null,r.a.createElement(De,{domains:this.state.domains})),r.a.createElement("div",{style:{"text-align":"right"}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("text",null,"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd:"),r.a.createElement(Fe,{domains_list:this.state.all_positive_domains}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("text",null,"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05d0 \u05d7\u05d9\u05e0\u05d5\u05db\u05d9\u05d9\u05dd \u05d0\u05d5 \u05dc\u05d0 \u05d0\u05de\u05d9\u05e0\u05d9\u05dd:"),r.a.createElement(Fe,{domains_list:this.state.not_educational_or_credibal_domains})))}}]),t}(n.Component);a(409),a(410);function Ke(e,t,a){var n=t+"_upArrowColor",r=t+"_downArrowColor",s=e.state[n],i=e.state[r],o=0;"up"==a?"green"!=s&&(o=1):"red"!=i&&(o=2);var c={edgeID:e.props.topic.edgeID,rank_type:t,rankCode:o};k.a.post("/api/userRanking/rank_topic_topic_edge",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var s=a.data,i=new Date(s.edge_ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==s.edge_ranking_id&&0!=s.rankCode)return;if(i-e.last_ranking_timeStamp<0)return}e.last_ranking_id=s.edge_ranking_id,e.last_ranking_timeStamp=i;var o={};o["edge_"+t+"_weight"]=s.weight,0==s.rankCode?(o[n]="black",o[r]="black"):1==s.rankCode?(o[n]="green",o[r]="black"):(o[n]="black",o[r]="red"),o.rankCode=s.rankCode,e.setState(o)}).catch(function(t){e.setState({rank_error:t.response.data})})}var qe=new U.a,Me=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n="black",r="black";return a.props.topic.user_rankings.forEach(function(e){"liked"==e.rank_type&&(1==e.rankCode?n="green":r="red")}),a.state={liked_upArrowColor:n,liked_downArrowColor:r,rank_error:"",edge_liked_weight:a.props.topic.liked_weight,rankCode:a.props.topic.userRankCode},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=qe.get("findel-auth-token")||"",a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"topic"},r.a.createElement("text",{style:{marginRight:"10px"}},this.props.topic.connected_topic_name,r.a.createElement("br",null)),r.a.createElement("text",{style:{marginRight:"10px"}},"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd:",r.a.createElement(L.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.edge_liked_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}}),r.a.createElement("br",null)),r.a.createElement("text",{style:{marginRight:"10px"}},"\u05e6\u05d9\u05d5\u05df \u05de\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd: ",this.props.topic.web_scrape_score,r.a.createElement("br",null)),r.a.createElement("text",{style:{marginRight:"10px"}},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d0\u05d7\u05e8\u05d5\u05df: ",this.props.topic.last_web_scrape,r.a.createElement("br",null)),r.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"rank_click_up",value:function(e){Ke(this,e,"up")}},{key:"rank_click_down",value:function(e){Ke(this,e,"down")}}]),t}(n.Component);Me.PropsTypes={topic:C.a.object.isRequired};var He=Me,Qe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topics.map(function(e){return r.a.createElement(He,{key:e.id,topic:e})})}}]),t}(n.Component);Qe.PropsTypes={topics:C.a.array.isRequired};var Ve=Qe,ze=(a(411),a(412),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"ranking_function",value:function(e,t,a){var n=t+"_upArrowColor",r=t+"_downArrowColor",s=e.state[n],i=e.state[r],o=0;"up"==a?"green"!=s&&(o=1):"red"!=i&&(o=2);var c={commentID:e.props.comment._id,rank_type:t,rankCode:o};k.a.post("/api/userRanking/rank_comment",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var s=a.data,i=new Date(s.comment_ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==s.comment_ranking_id&&0!=s.rankCode)return;if(i-e.last_ranking_timeStamp<0)return}e.last_ranking_id=s.comment_ranking_id,e.last_ranking_timeStamp=i;var o={};o[t+"_weight"]=s.weight,0==s.rankCode?(o[n]="black",o[r]="black"):1==s.rankCode?(o[n]="green",o[r]="black"):(o[n]="black",o[r]="red"),o.rankCode=s.rankCode,e.setState(o)}).catch(function(t){e.setState({rank_error:t.response.data})})}}]),e}()),We=new U.a,Je=new ze,Xe=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n="black",r="black";a.props.comment.usersRanking.forEach(function(e){"liked"==e.rank_type&&(1==e.rankCode?n="green":2==e.rankCode&&(r="red"))});var s="#0587c3";return"Teacher"==a.props.comment.user.position?s="green":"Admin"==a.props.comment.user.position&&(s="brown"),a.state={liked_upArrowColor:n,liked_downArrowColor:r,comment:a.props.comment,rank_error:"",liked_weight:a.props.comment.liked_weight,add_comment_text:"\u05d4\u05d2\u05d1+",is_add_comment_hidden:!0,add_comment_vars:{object_id:a.props.comment._id,object_id_collection_name:"comments",root_comment_id:a.props.comment.root_comment},user_name_color:s},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=We.get("findel-auth-token")||"",a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:this.state.user_name_color};return r.a.createElement("div",{className:"Comment",style:{"border-right-color":"#0587c3","border-right-style":"double",padding:"5px"}},r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.liked_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}})),r.a.createElement("text",{style:t},"\xa0\xa0",this.state.comment.user.userName),r.a.createElement("br",null),r.a.createElement("text",{style:t},"\u05d4\u05d2\u05d9\u05d1 \u05d1: ",this.props.comment.time_made),r.a.createElement("br",null),r.a.createElement("text",null,this.state.comment.text),r.a.createElement("br",null),r.a.createElement("text",{style:{color:"red"}},this.state.rank_error),r.a.createElement("text",{onClick:function(){return e.add_commnet_text_clicked()},style:{cursor:"pointer"}},this.state.add_comment_text),r.a.createElement("div",{hidden:this.state.is_add_comment_hidden},r.a.createElement(et,{parrent_object_data:this.state.add_comment_vars})),r.a.createElement(Ze,{key:this.state.comment.id,comments:this.state.comment.sub_comments}))}},{key:"add_commnet_text_clicked",value:function(){this.state.is_add_comment_hidden?this.setState({is_add_comment_hidden:!1,add_comment_text:"\u05d4\u05d2\u05d1-"}):this.setState({is_add_comment_hidden:!0,add_comment_text:"\u05d4\u05d2\u05d1+"})}},{key:"rank_click_up",value:function(e){Je.ranking_function(this,e,"up")}},{key:"rank_click_down",value:function(e){Je.ranking_function(this,e,"down")}}]),t}(n.Component);Xe.PropsTypes={comment:C.a.object.isRequired};var Ge=Xe,Ye=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.comments.map(function(e){return r.a.createElement(Ge,{key:e.id,comment:e})})}}]),t}(n.Component);Ye.PropsTypes={comments:C.a.array.isRequired};var Ze=Ye,$e=new U.a,et=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).token=$e.get("findel-auth-token")||"",a.state={comment_text:"",comments_added:[]},a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Add_comment"},r.a.createElement("textarea",{value:this.state.comment_text,id:"comment_textArea",rows:6,cols:50,placeholder:"\u05e8\u05e9\u05d5\u05dd \u05e9\u05d0\u05dc\u05d4/\u05ea\u05e9\u05d5\u05d1\u05d4/\u05ea\u05d2\u05d5\u05d1\u05d4 \u05db\u05d0\u05df...",onChange:function(t){return e.comment_text_change(t)}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.send_comment_to_server()}},"\u05d4\u05db\u05e0\u05e1 \u05ea\u05d2\u05d5\u05d1\u05d4"),r.a.createElement("br",null),r.a.createElement("text",null,this.state.server_message),r.a.createElement(Ze,{comments:this.state.comments_added}))}},{key:"comment_text_change",value:function(e){this.setState({comment_text:e.target.value})}},{key:"send_comment_to_server",value:function(){var e=this,t={text:this.state.comment_text,object_id:this.props.parrent_object_data.object_id,collection_name:this.props.parrent_object_data.object_id_collection_name,root_comment_id:this.props.parrent_object_data.root_comment_id};k.a.post("/api/addContent/addComment",t,{headers:{"findel-auth-token":this.token}}).then(function(t){t.data.collection_name=t.data.object_id_collection_name,t.data.id=t.data._id,t.data.sub_comments=[];var a=e.state.comments_added;a.push(t.data),e.setState({server_message:"\u05d4\u05d5\u05db\u05e0\u05e1 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",comments_added:a})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={are_comments_hidden:!0,show_hide_instruction:"+\u05d4\u05e6\u05d2 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"},a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("text",{onClick:function(){return e.show_hide_comments_text_clicked()},style:{cursor:"pointer"}},this.state.show_hide_instruction+" ("+this.props.parrent_object_data.number_of_overall_comments+")")),r.a.createElement("div",{hidden:this.state.are_comments_hidden},r.a.createElement(Ze,{comments:this.props.comments}),r.a.createElement(et,{parrent_object_data:this.props.parrent_object_data})))}},{key:"show_hide_comments_text_clicked",value:function(){this.state.are_comments_hidden?this.setState({are_comments_hidden:!1,show_hide_instruction:"-\u05d4\u05e1\u05ea\u05e8 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"}):this.setState({are_comments_hidden:!0,show_hide_instruction:"+\u05d4\u05e6\u05d2 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"})}}]),t}(n.Component);tt.PropsTypes={comments:C.a.array.isRequired};var at=tt;function nt(e){var t={root:[]};return e.forEach(function(e){t[e._id]=[],e.sub_comments=t[e._id],e.id=e._id,"comments"!=e.object_id_collection_name&&t.root.push(e)}),e.forEach(function(e){"comments"==e.object_id_collection_name&&t[e.object_id].push(e)}),t.root.sort(function(e,t){return t.liked_weight-e.liked_weight}),e.forEach(function(e){e.sub_comments.sort(function(e,t){return t.liked_weight-e.liked_weight})}),t.root}var rt=new U.a,st=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.match.params.topic;return a.state={topics:[],topic:n,add_comment_vars:{object_id:"",object_id_collection_name:"",root_comment_id:null,parrent_comments_array:null,number_of_overall_comments:0},comments:[]},a.id=1,a.token=rt.get("findel-auth-token")||"",k.a.get("/api/present_data/connected_topics/?topic="+n,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){e.topics.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),e.topics.sort(function(e,t){return t.liked_weight-e.liked_weight}),e.topics.forEach(function(e){e.id=a.id,a.id++});var t=e.comments.length;e.comments=nt(e.comments),e.add_comment_vars={object_id:e.topic._id,object_id_collection_name:"topics",root_comment_id:null,parrent_comments_array:e.comments,number_of_overall_comments:t},a.setState({comments:e.comments,add_comment_vars:e.add_comment_vars,topics:e.topics})}).catch(function(e){console.log(e);a.setState({topics:[]})}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Topics"},r.a.createElement("div",{style:{backgroundColor:"#0587c3"}},r.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05ea\u05db\u05e0\u05d9\u05dd \u05e7\u05e9\u05d5\u05e8\u05d9\u05dd")),r.a.createElement("div",null,r.a.createElement("h3",{id:"topic_headLine"},this.state.topic),r.a.createElement(at,{comments:this.state.comments,parrent_object_data:this.state.add_comment_vars}),r.a.createElement(Ve,{topics:this.state.topics})))}}]),t}(n.Component);a(413),a(414);function it(e,t,a){var n=t+"_upArrowColor",r=t+"_downArrowColor",s=e.state[n],i=e.state[r],o=0;"up"==a?"green"!=s&&(o=1):"red"!=i&&(o=2);var c={edgeID:e.props.page_ref.edgeID,rank_type:t,rankCode:o};k.a.post("/api/userRanking/rank_page_topic_edge",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var s=a.data,i=new Date(s.edge_ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==s.edge_ranking_id&&0!=s.rankCode)return;if(i-e.last_ranking_timeStamp<0)return}e.last_ranking_id=s.edge_ranking_id,e.last_ranking_timeStamp=i;var o={};o["edge_"+t+"_weight"]=s.weight,0==s.rankCode?(o[n]="black",o[r]="black"):1==s.rankCode?(o[n]="green",o[r]="black"):(o[n]="black",o[r]="red"),o.rankCode=s.rankCode,e.setState(o)}).catch(function(t){e.setState({rank_error:t.response.data})})}var ot=new U.a,ct=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n="black",r="black",s="black",i="black",c="black",_="black";a.props.connected_topic_edge.usersRanking.forEach(function(e){"liked"==e.rank_type&&(1==e.rankCode?n="green":r="red"),"credibility"==e.rank_type&&(1==e.rankCode?s="green":i="red"),"educational"==e.rank_type&&(1==e.rankCode?c="green":_="red")});var d=null,h=!0;null!=a.props.connected_topic_edge.jaccard_similarity&&(d=a.props.connected_topic_edge.jaccard_similarity,h=!1);var p=null,m=!0;return null!=a.props.connected_topic_edge.num_of_links_in_page&&(p=a.props.connected_topic_edge.num_of_links_in_page,m=!1),a.state={liked_upArrowColor:n,liked_downArrowColor:r,credibility_upArrowColor:s,credibility_downArrowColor:i,educational_upArrowColor:c,educational_downArrowColor:_,rank_error:"",edge_liked_weight:a.props.connected_topic_edge.liked_weight,edge_credibility_weight:a.props.connected_topic_edge.credibility_weight,edge_educational_weight:a.props.connected_topic_edge.educational_weight,rankCode:a.props.connected_topic_edge.userRankCode,jaccard_similarity:d,is_jaccard_hidden:h,num_of_links_in_page:p,is_num_of_links_in_page_hidden:m},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=ot.get("findel-auth-token")||"",a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"connected_topic"},r.a.createElement("a",{className:"topic_link",target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.connected_topic_edge.topic.topicName},this.props.connected_topic_edge.topic.topicName),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.edge_liked_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}}),"\xa0 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05d4\u05d1\u05d5 \u05d0\u05ea \u05d4\u05d3\u05e3 \u05d1\u05d4\u05e7\u05e9\u05e8 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9"),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.credibility_upArrowColor,onClick:function(){return e.rank_click_up("credibility")}}),"(",this.state.edge_credibility_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.credibility_downArrowColor,onClick:function(){return e.rank_click_down("credibility")}}),"\xa0 \u05e6\u05d9\u05d5\u05df \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e3 \u05d0\u05de\u05d9\u05df"),r.a.createElement("br",null),r.a.createElement("text",null,r.a.createElement(L.a,{icon:g.b,color:this.state.educational_upArrowColor,onClick:function(){return e.rank_click_up("educational")}}),"(",this.state.edge_educational_weight,")",r.a.createElement(L.a,{icon:g.a,color:this.state.educational_downArrowColor,onClick:function(){return e.rank_click_down("educational")}}),"\xa0 \u05e6\u05d9\u05d5\u05df \u05de\u05ea\u05e9\u05ea\u05de\u05e9\u05d9\u05dd \u05e9\u05d0\u05de\u05e8\u05d5 \u05e9\u05d4\u05d3\u05e3 \u05de\u05db\u05d9\u05dc \u05ea\u05d5\u05db\u05df \u05d7\u05d9\u05e0\u05d5\u05db\u05d9"),r.a.createElement("br",null),r.a.createElement("text",{style:{color:"red"}},this.state.rank_error),r.a.createElement("br",null),r.a.createElement("span",{hidden:this.state.is_jaccard_hidden},r.a.createElement("text",null,"\u05d3\u05de\u05d9\u05d5\u05df \u05d1\u05d9\u05df \u05e2\u05de\u05d5\u05d3 \u05d5\u05d9\u05e7\u05d9\u05e4\u05d3\u05d9\u05d4 \u05dc\u05d3\u05e3: ",this.state.jaccard_similarity)),r.a.createElement("br",null),r.a.createElement("span",{hidden:this.state.is_num_of_links_in_page_hidden},r.a.createElement("text",null,"\u05de\u05e1\u05e4\u05e8 \u05dc\u05d9\u05e0\u05e7\u05d9\u05dd \u05d1\u05d5\u05d9\u05e7\u05d9\u05e4\u05d3\u05d9\u05d4 \u05d4\u05de\u05d5\u05e4\u05d9\u05e2\u05d9\u05dd \u05d1\u05d0\u05ea\u05e8: ",this.state.num_of_links_in_page)),r.a.createElement("br",null))}},{key:"rank_click_up",value:function(e){it(this,e,"up")}},{key:"rank_click_down",value:function(e){it(this,e,"down")}}]),t}(n.Component);ct.PropsTypes={topic:C.a.object.isRequired};var lt=ct,ut=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.connected_topics_edges.map(function(e){return r.a.createElement(lt,{key:e.id,connected_topic_edge:e})})}}]),t}(n.Component);ut.PropsTypes={topics:C.a.array.isRequired};var _t=ut,dt=new U.a,ht=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.match.params.pageURL;return a.state={pageID:"",topics:[],page:n,domain:{domainURL:""},page_topic_edges:[],add_comment_vars:{object_id:"",object_id_collection_name:"",root_comment_id:null,parrent_comments_array:null},comments:[]},a.id=1,a.token=dt.get("findel-auth-token")||"",k.a.get("/api/present_data/page_data/?pageURL="+n,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){e.page_topic_edges.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),e.page_topic_edges.sort(function(e,t){return t.liked_weight-e.liked_weight}),e.page_topic_edges.forEach(function(t){t.id=a.id,t.page={pageURL:e.pageURL},a.id++});var t=e.comments.length;e.comments=nt(e.comments),e.add_comment_vars={object_id:e.pageID,object_id_collection_name:"pages",root_comment_id:null,parrent_comments_array:e.comments,number_of_overall_comments:t},a.setState(e)}).catch(function(e){console.log(e)}),a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"page_page"},r.a.createElement("div",{className:"Page",style:{backgroundColor:"#0587c3"}},r.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e2\u05dc \u05d4\u05d0\u05ea\u05e8")),r.a.createElement("div",null,r.a.createElement("h3",{id:"page_headLine"},this.state.pageFormatedURL),r.a.createElement("text",null,this.state.pageSnap),r.a.createElement("br",null),r.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df \u05d0\u05ea\u05e8: "),r.a.createElement("br",null),r.a.createElement("text",null,"Domain: ",this.state.domain.domainURL),r.a.createElement("br",null),r.a.createElement(at,{comments:this.state.comments,parrent_object_data:this.state.add_comment_vars}),r.a.createElement(_t,{connected_topics_edges:this.state.page_topic_edges})))}}]),t}(n.Component),pt=a(33),mt=Object(pt.a)();mt.listen(function(e,t){console.log("The current URL is ".concat(e.pathname).concat(e.search).concat(e.hash)),console.log("The last navigation action was ".concat(t)),window.location=e.pathname+e.search});var gt=new U.a;p.b.add(m.a,g.c,g.d);var ft=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=gt.get("findelUserName")||"",r=gt.get("findelUserPosition")||"",s=!1,i={display:"none"},c={display:"inline"};if(""==n&&(s=!0,i={display:"inline"},c={display:"none"}),a.state={userName:n,hideLogoutBTN:s,displayLoggingComponents:i,displayUserDataComponents:c},""==n){var _=gt.get("findel-auth-token")||"";if(""!=_){var d={headers:{"findel-auth-token":_}};k.a.get("/api/users/me",d).then(function(e){n=e.data.userName,r=e.data.position;var t={display:"none"};c={display:"inline"},"student"!=r&&(t={display:"inline"}),a.setState({userName:n,hideLogoutBTN:!1,displayLoggingComponents:{display:"none"},displayRegisterComponents:t,displayUserDataComponents:c}),gt.set("findelUserName",n,{path:"/"}),gt.set("findelUserPosition",r,{path:"/"})}).catch(function(e){alert(e.data)})}}return a}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement("text",null,"\u05e9\u05dc\u05d5\u05dd ",this.state.userName),r.a.createElement("div",{className:"leftDiv"},r.a.createElement("button",{className:"emptyBTN",name:"logoutBTN",onClick:function(){return e.logout()},hidden:this.state.hideLogoutBTN},"\u05d4\u05ea\u05e0\u05ea\u05e7")),r.a.createElement("br",null),r.a.createElement("text",{className:"link_text",onClick:function(){return e.push_to_history_and_go("/")}},"\u05d7\u05e4\u05e9"),r.a.createElement("text",{className:"link_text",style:this.state.displayLoggingComponents,onClick:function(){return e.push_to_history_and_go("/Login_page")}}," - \u05d4\u05ea\u05d7\u05d1\u05e8"),r.a.createElement("text",{className:"link_text",style:this.state.displayRegisterComponents,onClick:function(){return e.push_to_history_and_go("/Register_page")}}," -  \u05e8\u05d9\u05e9\u05d5\u05dd "),r.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserSearchHistory_page")}}," - \u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9"),r.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserFavorites_page")}}," - \u05d3\u05e4\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd"),r.a.createElement("text",{className:"link_text",onClick:function(){return e.push_to_history_and_go("/Domains_page")}}," - \u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd"),r.a.createElement("hr",null),r.a.createElement(h.a,{exact:!0,path:"/",component:ae}),r.a.createElement(h.a,{path:"/Login_page",component:re}),r.a.createElement(h.a,{path:"/Register_page",component:ge}),r.a.createElement(h.a,{path:"/UserSearchHistory_page",component:Ee}),r.a.createElement(h.a,{path:"/UserFavorites_page",component:Be}),r.a.createElement(h.a,{path:"/Domains_page",component:Ie}),r.a.createElement(h.a,{path:"/Topics_page/:topic",component:st}),r.a.createElement(h.a,{path:"/Page_page/:pageURL",component:ht}))))}},{key:"push_to_history_and_go",value:function(e){mt.push(e),window.location=e}},{key:"logout",value:function(){gt.set("findel-auth-token","",{path:"/"}),gt.set("findelUserName","",{path:"/"}),window.location="/"}}]),t}(n.Component);i.a.render(r.a.createElement(ft,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.2645c703.chunk.js.map