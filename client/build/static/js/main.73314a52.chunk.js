(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(410)},204:function(e,t,a){},207:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},231:function(e,t){},244:function(e,t){},246:function(e,t){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(176),i=a.n(r),o=(a(49),a(2)),c=a(3),l=a(5),u=a(4),h=a(6),d=a(413),_=a(414),m=a(48),p=a(177),f=a(17),g=a(7),k=a.n(g),v=(a(204),a(8)),b=a.n(v),y=a(11),E=a(10),C=(a(207),a(1)),N=a.n(C),w=(a(116),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"aSiteSR"},n.a.createElement("p",null,this.props.aSite.formatedURL," ",n.a.createElement("i",{className:this.props.aSite.scrape})))}}]),t}(s.Component));w.PropsTypes={aSite:N.a.object.isRequired};var x=w,j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.sitesBeingSearched.map(function(e){return n.a.createElement(x,{key:e.id,aSite:e})})}}]),t}(s.Component);j.PropsTypes={sitesBeingSearched:N.a.array.isRequired};var S=j,O=(a(210),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("span",null,n.a.createElement("a",{className:"exContent",target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.aContent.page},this.props.aContent.page),n.a.createElement("text",{className:"ex_content_partition"},this.props.aContent.partition))}}]),t}(s.Component));O.PropsTypes={aContent:N.a.object.isRequired};var B=O,R=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.expandedContents.map(function(e){return n.a.createElement(B,{key:e.id,aContent:e})})}}]),t}(s.Component);R.PropsTypes={expandedContents:N.a.array.isRequired};var P=R,L=(a(211),a(34)),D=a(9),T=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"cancelRank",value:function(e){var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:0};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;1==e.state.rankCode?a--:a++,e.setState({upArrowColor:"black",downArrowColor:"black",rank_error:"",edgeWeight:a,rankCode:0})}).catch(function(t){e.setState({rank_error:t.response.data})})}},{key:"upClick",value:function(e){if("green"==e.state.upArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:1};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;2==e.state.rankCode&&a++,a++,e.setState({upArrowColor:"green",downArrowColor:"black",rank_error:"",edgeWeight:a,rankCode:1})}).catch(function(t){e.setState({rank_error:t.response.data})})}}},{key:"downClick",value:function(e){if("red"==e.state.downArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:2};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;1==e.state.rankCode&&a--,a--,e.setState({upArrowColor:"black",downArrowColor:"red",rank_error:"",edgeWeight:a,rankCode:2})}).catch(function(t){e.setState({rank_error:t.response.data})})}}}]),e}(),U=new D.a,I=new T,A=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).upClick=function(){I.upClick(Object(E.a)(Object(E.a)(a)))},a.downClick=function(){I.downClick(Object(E.a)(Object(E.a)(a)))};var s="black",n="black";return 1==a.props.aRefSite.userRankCode&&(s="green"),2==a.props.aRefSite.userRankCode&&(n="red"),a.state={upArrowColor:s,downArrowColor:n,rank_error:"",edgeWeight:a.props.aRefSite.edgeWeight,rankCode:a.props.aRefSite.userRankCode,domain_score:a.props.aRefSite.domain.score},a.token=U.get("findel-auth-token")||"",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"aSiteRef"},n.a.createElement("text",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.aRefSite.siteURL},this.props.aRefSite.formatedURL),n.a.createElement("br",null),n.a.createElement("text",null,this.props.aRefSite.siteSnap),n.a.createElement("br",null),"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ",n.a.createElement(L.a,{icon:f.b,color:this.state.upArrowColor,onClick:function(){return e.upClick()}})," (",this.state.edgeWeight,") ",n.a.createElement(L.a,{icon:f.a,color:this.state.downArrowColor,onClick:function(){return e.downClick()}})),n.a.createElement("br",null),n.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df \u05d3\u05d5\u05de\u05d9\u05d9\u05df: ",this.state.domain_score),n.a.createElement("br",null),n.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"cancelRank",value:function(){I.cancelRank(this)}}]),t}(s.Component);A.PropsTypes={aRefSite:N.a.object.isRequired};var F=A,K=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.refSites.map(function(e){return n.a.createElement(F,{key:e.id,aRefSite:e})})}}]),t}(s.Component);K.PropsTypes={refSites:N.a.array.isRequired};var H=K,M=(a(212),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"title"},n.a.createElement("text",null,n.a.createElement("u",null,n.a.createElement("b",null,this.props.theTitle))))}}]),t}(s.Component));M.PropsTypes={theTitle:N.a.string.isRequired};var q=M,W=(a(213),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"subject"},n.a.createElement("text",null,this.props.subject.name,": ",this.props.subject.description))}}]),t}(s.Component));W.PropsTypes={subject:N.a.object.isRequired};var Q=W,V=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.theSubjects.map(function(e){return n.a.createElement(Q,{key:e.id,subject:e})})}}]),t}(s.Component);V.PropsTypes={theSubjects:N.a.array.isRequired};var z=V,J=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.ambigousData.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(q,{key:e.id,theTitle:e.title}),n.a.createElement(z,{key:e.subID,theSubjects:e.subjects}))})}}]),t}(s.Component);J.PropsTypes={aData:N.a.array.isRequired};var X=J,G=(a(214),function(){function e(t,a,s){Object(o.a)(this,e);var n=t,r=a,i=[];i.push(1);for(var c=1;c<r;c++)i.push(65536*i[c-1]%n);this.R=65536,this.Q=t,this.numOfChars=a,this.RMarray=i,this.numOfSites=s,this.sitesHashes=[];for(var l=0;l<s;l++){var u=[];u[a-1]=null,this.sitesHashes.push(u)}this.texts=[],this.texts[s-1]=null,this.wikiLinksHashesToWordByLength=null,this.wordsMatriciesByLength=null}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,s=0;s<t;s++)a=(this.R*a+e.charCodeAt(s))%this.Q;return a}},{key:"hashWikiLinks",value:function(e){for(var t=this,a=[],s=[],n=0;n<this.numOfChars;n++){s.push([]);var r=[];r[this.Q-1]=void 0,a.push(r)}for(n=0;n<e.length;n++)if(null!=e[n].topicName&&e[n].topicName.length<this.numOfChars){var i=[];i[this.numOfSites-1]=null;var o=e[n].topicName;s[o.length-1].push({linkName:o,index_in_connected_topics_edges:e[n].index_in_connected_topics_edges,hash:-1,sitesHits:i})}var c=1;s.forEach(function(e){if(null!=e[0]){var s=c,n=0;e.forEach(function(e){e.hash=t.hash(e.linkName,s);var r=a[s-1];void 0==r[e.hash]?r[e.hash]=[{linkName:e.linkName,linkIndex:n}]:r[e.hash].find(function(t){return t.linkName=e.linkName})||r[e.hash].push({linkName:e.linkName,linkIndex:n});n++})}c++}),this.wikiLinksHashesToWordByLength=s,this.wordsMatriciesByLength=a}},{key:"creatHashTables",value:function(e,t){for(var a=1;a<=this.numOfChars;a++){var s=e.length-a+1,n=[],r=this.hash(e,a);n[0]=r;for(var i=1;i<s;i++)r=((r=(r+this.Q-this.RMarray[a-1]*e.charCodeAt(i-1)%this.Q)%this.Q)*this.R+e.charCodeAt(i-1+a))%this.Q,n[i]=r;this.sitesHashes[t][a-1]=n}this.texts[t]=e}},{key:"addHitsFromSite",value:function(e,t){for(var a,s=this,n=this.texts[t],r=this.sitesHashes[t],i=0,o=0;o<this.numOfChars;o++){var c=this.wordsMatriciesByLength[o],l=r[o],u=0;l.forEach(function(e){void 0!=c[e]&&(a=n.substring(u,u+o+1),c[l[u]].forEach(function(e){a==e.linkName&&(null==s.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]?(s.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]=1,i++):s.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]++)})),u++})}e.num_of_links_in_site=i}}]),e}()),Y=function(){function e(t,a,s){Object(o.a)(this,e);var n=t;this.RM=1;for(var r=1;r<a;r++)this.RM=65536*this.RM%n;this.R=65536,this.Q=t,this.numOfChars=a;var i=this.creatHashTable(s);this.create_sets_array(s,i)}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,s=0;s<t;s++)a=(this.R*a+e.charCodeAt(s))%this.Q;return a}},{key:"creatHashTable",value:function(e){var t=e.length-this.numOfChars+1,a=[],s=this.hash(e,this.numOfChars);a[0]=s;for(var n=1;n<t;n++)s=((s=(s+this.Q-this.RM*e.charCodeAt(n-1)%this.Q)%this.Q)*this.R+e.charCodeAt(n-1+this.numOfChars))%this.Q,a[n]=s;return a}},{key:"create_sets_array",value:function(e,t){var a=this,s=0,n=[];n[this.Q-1]=void 0,t.forEach(function(t){var r=e.substring(s,s+a.numOfChars);void 0==n[t]?(n[t]={},n[t][r]={primeSite:1,site_to_compare:0}):void 0==n[t][r]&&(n[t][r]={primeSite:1,site_to_compare:0}),s++}),this.hashed_set_array=n}},{key:"compute_site_similarity",value:function(e){var t=this,a=0;this.creatHashTable(e).forEach(function(s){var n=e.substring(a,a+t.numOfChars);void 0==t.hashed_set_array[s]?(t.hashed_set_array[s]={},t.hashed_set_array[s][n]={primeSite:0,site_to_compare:1}):void 0==t.hashed_set_array[s][n]?t.hashed_set_array[s][n]={primeSite:0,site_to_compare:1}:1!=t.hashed_set_array[s][n].site_to_compare&&(t.hashed_set_array[s][n].site_to_compare=1),a++});var s=0,n=0;return this.hashed_set_array.forEach(function(e){e&&Object.keys(e).forEach(function(t){1==e[t].primeSite&&1==e[t].site_to_compare?(s++,n++,e[t].site_to_compare=0):0==e[t].primeSite&&1==e[t].site_to_compare?(s++,e[t].site_to_compare=0):1==e[t].primeSite&&0==e[t].site_to_compare&&s++})}),n/s}}]),e}(),Z=a(178),$=a.n(Z),ee=function(){function e(){var t=this;Object(o.a)(this,e),this.request_sites_from_Server_to_use=function(){var e=Object(y.a)(b.a.mark(function e(a,s){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/topicsToSitesData/?search="+a,{headers:{"findel-auth-token":s.token}}).then(function(e){return e.data}).then(function(e){for(var a=[],n=[],r=0;r<e.length;r++)null==e[r].domain&&(e[r].domain={domainURL:"nullURL",score:0}),n.push({siteID:e[r].siteID,edgeID:e[r].edgeID,siteURL:e[r].siteURL,formatedURL:e[r].siteFormatedURL,siteSnap:e[r].siteSnap,domain:e[r].domain,userRankCode_for_edge:e[r].userRankCode,edgeWeight:e[r].edgeWeight,order_index_by_google:e[r].order_index_by_google});var i=t.shuffle_sites_from_google(n);for(r=0;r<i.length;r++)i[r].index=r;for(r=0;r<i.length&&r<15;r++)a.push({index:r,siteID:i[r].siteID,edgeID:i[r].edgeID,siteURL:i[r].siteURL,formatedURL:i[r].formatedURL,siteSnap:i[r].siteSnap,domain:i[r].domain,userRankCode_for_edge:i[r].userRankCode_for_edge,edgeWeight:i[r].edgeWeight,order_index_by_google:i[r].order_index_by_google});s.sites_from_server_to_use=a,s.full_sites_list_from_server=i}).catch(function(e){"Network Error"===e.message?s.setState({server_message:"\u05dc\u05d0 \u05de\u05e6\u05dc\u05d9\u05d7 \u05dc\u05d4\u05d2\u05d9\u05e2 \u05dc\u05e9\u05e8\u05ea"}):s.setState({server_message:e.response.data})});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.initSiteSearch=function(e){for(var t=[],a=0;a<e.sites_from_server_to_use.length;a++)t.push({id:e.id,siteURL:e.sites_from_server_to_use[a].siteURL,formatedURL:e.sites_from_server_to_use[a].formatedURL,scrape:"fa fa-spinner fa-spin"}),e.id++;e.setState({sitesBeingSearched:t})},this.finishedSiteFetch=function(e,t,a,s,n){return 200!=a&&(t=""),n.sites_and_texts[s]={site:e,siteText:t},void 0!=n.sites_and_texts[s]&&""!==n.sites_and_texts[s].siteText},this.hashAndSearchSites=function(){var e=Object(y.a)(b.a.mark(function e(a,s,n){var r,i,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$.a.load(s),!((i=r.text()).length>20)){e.next=13;break}return n.rabinKarp.creatHashTables(i,a.index),n.rabinKarp.addHitsFromSite(a,a.index),a.jaccard_similarity=n.jaccard_similarity.compute_site_similarity(i),a.was_site_searched=!0,o={edgeID:a.edgeID,jaccard_similarity:a.jaccard_similarity,num_of_links_in_site:a.num_of_links_in_site},e.next=10,k.a.post("/api/userInsertData/insertSiteTopicEdgeScores",o,{headers:{"findel-auth-token":t.token}}).then(function(e){console.log("edge successfuly added")}).catch(function(e){console.log("edge could not be added")});case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)}));return function(t,a,s){return e.apply(this,arguments)}}(),this.request_WebScraping_for_sites=function(){var e=Object(y.a)(b.a.mark(function e(a){var s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.sites_from_server_to_use.map(function(e){return k.a.get("/api/webScrape/?siteID="+e.siteID+"&edgeID="+e.edgeID+"&force_scrape=false",{}).then(function(s){if(1==s.data.is_edge_up_to_date)e.jaccard_similarity=s.data.jaccard_similarity,e.num_of_links_in_site=s.data.num_of_links_in_site,a.sitesTempState[e.index].scrape="fa fa-check-circle-o";else{var n=t.hashAndSearchSites(e,s.data.siteHTML,a);a.sitesTempState[e.index].scrape=n?"fa fa-check-circle-o":"fa fa-times-circle-o"}}).catch(function(){a.site.jaccard_similarity=0,a.site.num_of_links_in_site=0,a.sitesTempState[e.index].scrape="fa fa-times-circle-o"})}),e.next=3,Promise.all(s).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 3:a.siteSearchFinished=!0;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.rankSites=function(e){var a=e.sites_from_server_to_use;a.sort(function(e,t){return t.num_of_links_in_site-e.num_of_links_in_site}),a.sort(function(e,t){return t.jaccard_similarity-e.jaccard_similarity}),a=t.shuffle_sites_from_google(a);for(var s=e.state.refSites,n=0;n<a.length;n++)null!=a[n]&&(s.push({id:e.id,siteID:a[n].siteID,edgeID:a[n].edgeID,siteURL:a[n].siteURL,formatedURL:a[n].formatedURL,siteSnap:a[n].siteSnap,domain:a[n].domain,userRankCode:a[n].userRankCode_for_edge,edgeWeight:a[n].edgeWeight}),e.id++);var r=!1;s.length>=e.full_sites_list_from_server.length&&(r=!0),e.setState({refSites:s,sitesBeingSearched:[],is_more_sites_button_hidden:r}),e.site_displayed_so_far_index=s.length-1,e.topSites=a,e.ref_sites_for_histoty=s},this.display_expended_content=function(e){var t=e.connected_topics_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.linkHits-e.linkHits}),t.sort(function(e,t){if(t.topic1.topicName.length<3&&e.topic1.topicName.length>=3)return-1}),t.sort(function(e,t){return t.weight-e.weight});for(var a=[],s=0;s<t.length&&s<10;s++){a.push({id:e.id,page:t[s].topic1.topicName,partition:" | "}),e.id++}var n=!1;0==t.length&&(n=!0),e.setState({expandedContents:a,is_show_more_content_hidden:n,expandend_content_status:""}),e.expandedCon_to_history=a,e.save_to_history()}}return Object(c.a)(e,[{key:"Search_functions",value:function(){}},{key:"search_using_wikipedia",value:function(){var e=Object(y.a)(b.a.mark(function e(t,a){var s,n,r,i=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request_sites_from_Server_to_use(a.curSearch,a);case 2:if(null==a.sites_from_server_to_use){e.next=16;break}return e.next=5,this.initSiteSearch(a);case 5:for(s=[],n=0;n<a.connected_topics_edges.length;n++)a.connected_topics_edges[n].linkHits=0,s.push({topicName:a.connected_topics_edges[n].topic1.topicName,index_in_connected_topics_edges:n});a.rabinKarp=new G(3001,20,a.sites_from_server_to_use.length),a.rabinKarp.hashWikiLinks(s),a.jaccard_similarity=new Y(20399,10,t),a.sitesTempState=a.state.sitesBeingSearched,750,r=setInterval(function(){0==a.siteSearchFinished&&0==a.did_user_ended_seach?a.setState({sitesBeingSearched:a.sitesTempState}):(clearInterval(r),a.siteSearchFinished=!1,i.rankSites(a),i.search_expended_content(a),a.search_button_function_stop_search())},750),this.request_WebScraping_for_sites(a),e.next=17;break;case 16:a.search_button_function_stop_search();case 17:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"shuffle_sites_from_google",value:function(e){e.sort(function(e,t){return 0===t.order_index_by_google?1:0===e.order_index_by_google?-1:null==t.order_index_by_google&&null==e.order_index_by_google?0:null!=t.order_index_by_google&&null==e.order_index_by_google?1:null==t.order_index_by_google&&null!=e.order_index_by_google?-1:e.order_index_by_google-t.order_index_by_google}),e.sort(function(e,t){return t.domain.score-e.domain.score}),e.sort(function(e,t){return t.edgeWeight-e.edgeWeight});for(var t=[],a=0;a<e.length&&e[a].edgeWeight>1;)t.push(e[a]),a++;for(var s=[],n=-1,r="",i=[];a<e.length&&!(e[a].domain.score<1);)r==e[a].domain.domainURL?(s[n].sites.push(e[a]),a++):(n++,r=e[a].domain.domainURL,s.push({domainURL:r,sites:[e[a]],cur_site_index:0}),i.push(n),a++);for(;i.length>0;)for(var o=0;o<i.length;o++){var c=s[i[o]];t.push(c.sites[c.cur_site_index]),c.cur_site_index++,c.cur_site_index<c.sites.length&&(t.push(c.sites[c.cur_site_index]),c.cur_site_index++),c.cur_site_index>=c.sites.length&&(i.splice(o,1),o--)}for(;a<e.length;a++)t.push(e[a]);return t}},{key:"best_sites_results",value:function(){var e=Object(y.a)(b.a.mark(function e(t,a){var s,n,r,i,o=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=t.topSites,n=6,r=0,i=0;case 4:if(!(i<s.length&&r<n)){e.next=14;break}if(1==s[i].was_site_searched){e.next=10;break}return e.next=8,k.a.get("/api/webScrape/?siteID="+s[i].siteID+"&edgeID="+s[i].edgeID+"&force_scrape=true",{}).then(function(){var e=Object(y.a)(b.a.mark(function e(n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.hashAndSearchSites(s[i],n.data.siteHTML,t);case 2:return s[i].was_site_searched=!0,e.next=5,a.forEach(function(e){e.forEach(function(e){var a=e.sitesHits[s[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})});case 5:r++;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){console.log("site failed searched")});case 8:e.next=11;break;case 10:1==s[i].was_site_searched&&(a.forEach(function(e){e.forEach(function(e){var a=e.sitesHits[s[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})}),r++);case 11:i++,e.next=4;break;case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"search_expended_content",value:function(e){for(var t=this,a=e.connected_topics_edges,s=!1,n=0;n<a.length;n++)if(1==a[n].is_search_required){s=!0;break}if(s){var r=e.rabinKarp.wikiLinksHashesToWordByLength;this.best_sites_results(e,r).then(function(){t.display_expended_content(e);var s=[];a.forEach(function(e){e.is_search_required&&s.push({_id:e.edgeID,web_scrape_score:e.linkHits})});var n={edges:s};k.a.post("/api/userInsertData/insertTopicTopicEdgeScores",n).then(function(e){console.log(e.data)}).catch(function(e){void 0==e.response?console.log("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"):console.log(e.response.data)})}).catch(function(){console.log("Search content failed")})}else this.display_expended_content(e)}}]),e}(),te=new D.a,ae=new ee,se=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.search_button_function()},a.search_button_function=Object(y.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!1,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",is_more_sites_button_hidden:!0,is_show_more_content_hidden:!0,expandend_content_status:"fa fa-spinner fa-spin",server_message:""}),a.deep_search();case 3:case"end":return e.stop()}},e)})),a.search_button_function_stop_search=Object(y.a)(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"",expandend_content_status:""});case 2:case"end":return e.stop()}},e)})),a.deep_search=function(){a.setState({expandedContents:[],refSites:[],ambigousData:[]}),k.a.get("/api/topicsToTopicsData/?search="+a.curSearch,{headers:{"findel-auth-token":a.token}}).then(function(){var e=Object(y.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.data.wikiText||0!=a.state.is_simple_search_selected){e.next=5;break}a.connected_topics_edges=t.data.connected_topics_edges,ae.search_using_wikipedia(t.data.wikiText,Object(E.a)(Object(E.a)(a))),e.next=21;break;case 5:if(null==t.data.ambig){e.next=12;break}t.data.ambig.forEach(function(e){e.id=a.id,a.id++,e.subID=a.id,a.id++,e.subjects.forEach(function(e){e.id=a.id,a.id++})}),a.setState({ambigousData:t.data.ambig}),a.ambig_for_history=t.data.ambig,a.search_button_function_stop_search(),e.next=21;break;case 12:return a.connected_topics_edges=t.data.connected_topics_edges,e.next=15,ae.request_sites_from_Server_to_use(a.curSearch,Object(E.a)(Object(E.a)(a)));case 15:return e.next=17,ae.rankSites(Object(E.a)(Object(E.a)(a)));case 17:return e.next=19,ae.display_expended_content(Object(E.a)(Object(E.a)(a)));case 19:a.search_button_function_stop_search(),a.save_to_history();case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){null!=e.respnse?a.setState({server_message:e.respnse.data}):a.setState({server_message:"\u05d1\u05e2\u05d9\u05d4 \u05e2\u05dd \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}),a.search_button_function_stop_search()})},a.history=e.history;var s=new URLSearchParams(window.location.search).get("search");if(a.curSearch=s,a.sites_and_texts=[],a.sitesFinishedScrape=0,a.token=te.get("findel-auth-token")||"",a.sitesTempState=[],a.siteSearchFinished=!1,a.topSites=null,a.rabinKarp=null,a.wikiLinksHashesToWordByLength=[],a.wordsMatriciesByLength=[],a.id=1,void 0!=a.history.location.state){var n=a.history.location.state;void 0==n.ambigousData&&(n.ambigousData=[]),void 0==n.expandedContents&&(n.expandedContents=[]),void 0==n.refSites&&(n.refSites=[]),a.state={inputValue:n.inputValue,sitesBeingSearched:[],expandedContents:n.expandedContents,refSites:n.refSites,ambigousData:n.ambigousData,newID:n.newID,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_site_to_topic_input:n.add_site_to_topic_input,add_topic_to_topic_input:n.add_topic_to_topic_input,add_site_to_topic_description:n.add_site_to_topic_description,was_add_site_button_clicked:n.was_add_site_button_clicked,was_add_topic_button_clicked:n.was_add_topic_button_clicked,is_more_sites_button_hidden:n.is_more_sites_button_hidden,is_simple_search_selected:n.is_simple_search_selected,is_show_more_content_hidden:n.is_show_more_content_hidden,expandend_content_status:"",site_displayed_so_far_index:n.site_displayed_so_far_index,sites_from_server_to_use:n.sites_from_server_to_use,full_sites_list_from_server:n.full_sites_list_from_server}}else a.sites_from_server_to_use=[],a.full_sites_list_from_server=[],a.site_displayed_so_far_index=0,a.state={inputValue:s,sitesBeingSearched:[],expandedContents:[],refSites:[],ambigousData:[],newID:1,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_site_to_topic_input:"",add_topic_to_topic_input:"",add_site_to_topic_description:"",was_add_site_button_clicked:!1,was_add_topic_button_clicked:!1,is_more_sites_button_hidden:!0,is_simple_search_selected:!1,is_show_more_content_hidden:!0,expandend_content_status:""},null!=s&&a.search_button_function();return a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:"#F0F8FF",cursor:"pointer"};return n.a.createElement("div",{className:"SearchPage"},n.a.createElement("div",{style:{backgroundColor:"#0587c3"}},n.a.createElement("div",{className:"search_box_div"},n.a.createElement("img",{id:"findelTheme",src:"/publicComponents/findelTheme",height:"100",width:"400"}),n.a.createElement("div",null,n.a.createElement("input",{id:"search_text_box",type:"text",value:this.state.inputValue,onChange:function(t){return e.updateTXT(t)},onKeyPress:this.handleKeyPress}),n.a.createElement("button",{id:"searchBTN",name:"searchBTN",onClick:function(){return e.search_button_function()}},this.state.search_button_text," ",n.a.createElement("i",{className:this.state.search_button_iconClass})),n.a.createElement("br",null),n.a.createElement("input",{type:"radio",onClick:function(){return e.deep_search_radio_button_clicked()},checked:!this.state.is_simple_search_selected})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05de\u05d5\u05e7",n.a.createElement("input",{type:"radio",id:"simple_search_radio_button",onClick:function(){return e.simple_search_radio_button_clicked()},checked:this.state.is_simple_search_selected})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8"),n.a.createElement("div",{id:"exContents"},n.a.createElement("text",{color:"white"},this.state.server_message)),n.a.createElement("div",{id:"exContents"},n.a.createElement(P,{expandedContents:this.state.expandedContents}),n.a.createElement("text",null,n.a.createElement("i",{className:this.state.expandend_content_status})),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#F0F8FF"},href:"/TopicsPage/"+this.curSearch,hidden:this.state.is_show_more_content_hidden},"\u05e2\u05d5\u05d3..."))),n.a.createElement("div",{className:"add_content_and_sites_div",style:{backgroundColor:"#0587c3"}},n.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},n.a.createElement("text",{style:t,onClick:function(){return e.add_topic_button_clicked(!1)}},"-\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",value:this.state.add_topic_to_topic_input,onChange:function(t){return e.add_topic_to_topic_change_function(t)}}),n.a.createElement("button",{id:"add_topic_to_topic_button"},"+")),n.a.createElement("div",{className:"add_topic_to_topic_div",hidden:this.state.was_add_topic_button_clicked},n.a.createElement("text",{onClick:function(){return e.add_topic_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0...")),n.a.createElement("div",{className:"add_site_to_topic_div",hidden:!this.state.was_add_site_button_clicked},n.a.createElement("text",{onClick:function(){return e.add_site_button_clicked(!1)},style:t},"-\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),n.a.createElement("br",null),n.a.createElement("input",{type:"text",id:"add_site_to_topic_url_input",placeholder:".....//:https",value:this.state.add_site_to_topic_input,onChange:function(t){return e.add_site_to_topic_change_function(t)}}),n.a.createElement("br",null),n.a.createElement("textarea",{value:this.state.add_site_to_topic_description,placeholder:"\u05ea\u05d0\u05d5\u05e8 \u05d4\u05d0\u05ea\u05e8",onChange:function(t){return e.add_site_to_topic_change_description_function(t)}}),n.a.createElement("br",null),n.a.createElement("button",{id:"add_site_to_topic_button",onClick:function(){return e.add_site()}},"+")),n.a.createElement("div",{className:"add_site_to_topic_div",hidden:this.state.was_add_site_button_clicked},n.a.createElement("text",{onClick:function(){return e.add_site_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0...")))),n.a.createElement("div",{id:"refSites"},n.a.createElement(H,{refSites:this.state.refSites}),n.a.createElement("button",{onClick:function(){return e.more_sites_clicked()},hidden:this.state.is_more_sites_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd...")),n.a.createElement("div",{id:"sites"},n.a.createElement(S,{sitesBeingSearched:this.state.sitesBeingSearched})),n.a.createElement("div",{id:"ambigous"},n.a.createElement(X,{ambigousData:this.state.ambigousData})))}},{key:"updateTXT",value:function(e){this.setState({inputValue:e.target.value}),this.curSearch=e.target.value}},{key:"deep_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!1})}},{key:"simple_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!0})}},{key:"add_site_to_topic_change_function",value:function(e){this.setState({add_site_to_topic_input:e.target.value})}},{key:"add_site_to_topic_change_description_function",value:function(e){this.setState({add_site_to_topic_description:e.target.value})}},{key:"add_site_button_clicked",value:function(e){this.setState({was_add_site_button_clicked:e})}},{key:"add_site",value:function(){var e=this,t={topicName:this.state.inputValue,siteURL:this.state.add_site_to_topic_input,siteDescription:this.state.add_site_to_topic_description};k.a.post("/api/addContent/addSite",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"add_topic_to_topic_change_function",value:function(e){this.setState({add_topic_to_topic_input:e.target.value})}},{key:"add_topic_button_clicked",value:function(e){this.setState({was_add_topic_button_clicked:e})}},{key:"more_sites_clicked",value:function(){this.sites_from_server_to_use=[];for(var e=this.site_displayed_so_far_index+1;e<this.site_displayed_so_far_index+1+10&&e<this.full_sites_list_from_server.length;e++)this.sites_from_server_to_use.push(this.full_sites_list_from_server[e]);ae.rankSites(this)}},{key:"save_to_history",value:function(){this.history.push({pathname:"/",search:"?search="+this.state.inputValue,state:{inputValue:this.state.inputValue,sitesBeingSearched:this.state.sitesBeingSearched,expandedContents:this.expandedCon_to_history,refSites:this.ref_sites_for_histoty,ambigousData:this.ambig_for_history,newID:this.state.newID,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_site_to_topic_input:this.state.add_site_to_topic_input,add_topic_to_topic_input:this.state.add_topic_to_topic_input,add_site_to_topic_description:this.state.add_site_to_topic_description,was_add_site_button_clicked:this.state.was_add_site_button_clicked,was_add_topic_button_clicked:this.state.was_add_topic_button_clicked,is_more_sites_button_hidden:this.state.is_more_sites_button_hidden,is_simple_search_selected:this.state.is_simple_search_selected,is_show_more_content_hidden:this.state.is_show_more_content_hidden,expandend_content_status:"",site_displayed_so_far_index:this.site_displayed_so_far_index,sites_from_server_to_use:this.sites_from_server_to_use,full_sites_list_from_server:this.full_sites_list_from_server}})}}]),t}(s.Component),ne=new D.a,re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={userName:"",password:"",serverMessage:""},ne.set("findel-ServerMessage","",{path:"/"}),a.attampt=0,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"LoginPage"},n.a.createElement("h1",null," Login "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"})),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"})),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05ea\u05d7\u05d1\u05e8"))}},{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,a,s=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:this.state.userName,password:this.state.password},e.next=3,k.a.post("/api/auth",a).then(function(e){t=e.data,ne.set("findel-auth-token",t.token,{path:"/"}),s.history.goBack()}).catch(function(e){void 0==e.response?s.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):(s.attampt++,s.setState({serverMessage:e.response.data+" \u05e0\u05e1\u05d9\u05d5\u05df \u05de\u05e1\u05e4\u05e8: "+s.attampt}))});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ie=a(412),oe=(a(109),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"checkForms",value:function(){}},{key:"checkUserName",value:function(e,t){var a=t.state.successClass,s="";return e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==s&&(t.userNameBlured=!0),t.userNameBlured?t.setState({userName:e,userNameClass:a,userNameError:s}):t.setState({userName:e}),""==s}},{key:"checkFirstName",value:function(e,t){var a=t.state.successClass,s="";e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var n=0;n<e.length;n++){if(e.charAt(n)>="0"&&e.charAt(n)<="9"){a=t.state.errorClass,s="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==s&&(t.firstNameBlured=!0),t.firstNameBlured?t.setState({firstName:e,firstNameClass:a,firstNameError:s}):t.setState({firstName:e}),""==s}},{key:"checkLastName",value:function(e,t){var a=t.state.successClass,s="";e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var n=0;n<e.length;n++){if(e.charAt(n)>="0"&&e.charAt(n)<="9"){a=t.state.errorClass,s="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==s&&(t.lastNameBlured=!0),t.lastNameBlured?t.setState({lastName:e,lastNameClass:a,lastNameError:s}):t.setState({lastName:e}),""==s}},{key:"checkEmail",value:function(e,t){var a=t.state.successClass,s="";if(""==e)a="form-control",s="";else if(e.length<5)a=t.state.errorClass,s="\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4";else{for(var n=!1,r=0,i=0;i<e.length;i++)if(0==i){if(!(e.charAt(i)>"A"&&e.charAt(i)<"z"||e.charAt(i)>"0"&&e.charAt(i)<"9")){a=t.state.errorClass,s="\u05d0\u05d5\u05ea \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8";break}}else{if("@"==e.charAt(i)){if(e.length-i<3){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}if(0!=n){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}n=!0}if("."==e.charAt(i)&&n){if("@"==e.charAt(i-1)||"."==e.charAt(i-1)||i==e.length-1){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}r++}}(0==n||r>2||0==r)&&(a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4")}return""==s&&(t.emailBlured=!0),t.emailBlured?t.setState({email:e,emailClass:a,emailError:s}):t.setState({email:e}),""==s}},{key:"checkPassword",value:function(e,t){var a=t.state.successClass,s="";return e.length<=5&&(a=t.state.errorClass,s="\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==s&&(t.passwordBlured=!0),t.passwordBlured?t.setState({password:e,passwordClass:a,passwordError:s}):t.setState({password:e}),""==s}}]),e}()),ce=new D.a,le=new oe,ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,ce.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05d5\u05e8\u05d4 "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){le.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){le.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){le.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){le.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){le.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,a,s,n,r,i,o,c,l=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=le.checkEmail(this.state.email,this),a=le.checkFirstName(this.state.firstName,this),s=le.checkLastName(this.state.lastName,this),n=le.checkPassword(this.state.password,this),r=le.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=ce.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createTeacherAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),he=new D.a,de=new oe,_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,he.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05e0\u05d4\u05dc "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){de.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){de.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){de.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){de.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){de.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,a,s,n,r,i,o,c,l=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=de.checkEmail(this.state.email,this),a=de.checkFirstName(this.state.firstName,this),s=de.checkLastName(this.state.lastName,this),n=de.checkPassword(this.state.password,this),r=de.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=he.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createAdminAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),me=new D.a,pe=new oe,fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.userNameBlured=!1,a.firstNameBlured=!1,a.emailBlured=!1,a.lastNameBlured=!1,me.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05ea\u05dc\u05de\u05d9\u05d3 "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){pe.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){pe.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){pe.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){pe.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){pe.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(b.a.mark(function e(){var t,a,s,n,r,i,o,c=this;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=pe.checkEmail(this.state.email,this),a=pe.checkFirstName(this.state.firstName,this),s=pe.checkLastName(this.state.lastName,this),n=pe.checkPassword(this.state.password,this),r=pe.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=15;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),e.next=15,k.a.post("/api/users/createStudentAccount",o).then(function(e){i=e.data,""!=(me.get("findel-auth-token")||"")?c.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}):(me.set("findel-auth-token",i.token,{path:"/"}),c.history.goBack())}).catch(function(e){void 0==e.response?c.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):c.setState({serverMessage:e.response.data})});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"register"},n.a.createElement(d.a,null,n.a.createElement("div",null,n.a.createElement(ie.a,{to:"/registerPage",style:this.state.displayLoggingComponents},"\u05ea\u05dc\u05de\u05d9\u05d3"),n.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),n.a.createElement(ie.a,{to:"/teacherRegister",style:this.state.displayLoggingComponents},"\u05de\u05d5\u05e8\u05d4"),n.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),n.a.createElement(ie.a,{to:"/adminRegister",style:this.state.displayLoggingComponents},"\u05de\u05e0\u05d4\u05dc"),n.a.createElement("hr",null),n.a.createElement(_.a,{exact:!0,path:"/",component:fe}),n.a.createElement(_.a,{path:"/teacherRegister",component:ue}),n.a.createElement(_.a,{path:"/adminRegister",component:_e}),n.a.createElement(_.a,{path:"/registerPage",component:fe}))))}}]),t}(s.Component),ke=(a(405),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"search"},n.a.createElement("text",null," \u05e0\u05d5\u05e9\u05d0: ",this.props.aSearch.topic,n.a.createElement("br",null),"\u05ea\u05d0\u05e8\u05d9\u05da: ",this.props.aSearch.searchDate,n.a.createElement("br",null),n.a.createElement("br",null)))}}]),t}(s.Component));ke.PropsTypes={aSearch:N.a.object.isRequired};var ve=ke,be=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.searches.map(function(e){return n.a.createElement(ve,{key:e.id,aSearch:e})})}}]),t}(s.Component);be.PropsTypes={searches:N.a.array.isRequired};var ye=be,Ee=new D.a,Ce=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={SearchHistory:[]};var s=Ee.get("findel-auth-token")||"";return k.a.get("/api/userData/searchHistory",{headers:{"findel-auth-token":s}}).then(function(e){return e.data}).then(function(e){a.setHistory(e)}).catch(function(e){console.log(e);a.setHistory([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setHistory",value:function(e){this.setState({SearchHistory:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9")),n.a.createElement("div",null,n.a.createElement(ye,{searches:this.state.SearchHistory})))}}]),t}(s.Component),Ne=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"fav_site"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.fav_site.siteURL},this.props.fav_site.formatedURL))}}]),t}(s.Component);Ne.PropsTypes={fav_site:N.a.object.isRequired};var we=Ne,xe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topic.sites.map(function(e){return n.a.createElement(we,{key:e.id,fav_site:e})})}}]),t}(s.Component);xe.PropsTypes={topic:N.a.array.isRequired};var je=xe,Se=(a(406),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.favorites.map(function(e){return n.a.createElement("div",{className:"favorites_div"},n.a.createElement("text",null,e.topicName,": ",n.a.createElement("br",null)),n.a.createElement(je,{key:e.id,topic:e}))})}}]),t}(s.Component));Se.PropsTypes={favorites:N.a.array.isRequired};var Oe=Se,Be=new D.a,Re=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={favorites:[]};var s=Be.get("findel-auth-token")||"";return k.a.get("/api/userData/favorites",{headers:{"findel-auth-token":s}}).then(function(e){return e.data}).then(function(e){var t=1;e.forEach(function(e){e.id=t,t++,e.sites.forEach(function(e){e.id=t,t++})}),e=e.reverse(),a.setFavorites(e)}).catch(function(e){console.log(e);a.setFavorites([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setFavorites",value:function(e){this.setState({favorites:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd")),n.a.createElement("div",null,n.a.createElement(Oe,{favorites:this.state.favorites})))}}]),t}(s.Component),Pe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"site_component_div"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.site.siteURL},this.props.site.siteFormatedURL),n.a.createElement("br",null))}}]),t}(s.Component);Pe.PropsTypes={site:N.a.object.isRequired};var Le=Pe,De=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domain.sites.map(function(e){return n.a.createElement(Le,{key:e.id,site:e})})}}]),t}(s.Component);De.PropsTypes={domain:N.a.array.isRequired};var Te=De,Ue=(a(407),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains.map(function(e){return n.a.createElement("div",{className:"domains_div"},n.a.createElement("text",null,e.domainURL,": ",n.a.createElement("br",null)),n.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df: ",e.score," ",n.a.createElement("br",null)),n.a.createElement(Te,{key:e.id,domain:e}),n.a.createElement("button",{onClick:e.request_sites_of_domain_function,hidden:e.is_more_sites_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd..."))})}}]),t}(s.Component));Ue.PropsTypes={domains:N.a.array.isRequired};var Ie=Ue,Ae=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).request_sites_of_domain=function(e){k.a.get("/api/present_data/domain_sites/?id="+e).then(function(e){return e.data}).then(function(e){e.sites.forEach(function(e){e.id=a.id,a.id++});for(var t=a.state.domains,s=0;s<t.length;s++)if(t[s]._id==e._id){t[s].sites=e.sites,t[s].is_more_sites_button_hidden=!0;break}a.setDomains(t)}).catch(function(e){console.log(e);a.setDomains([])})};return a.state={domains:[]},a.id=1,k.a.get("/api/present_data/domains").then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.score-e.score}),e.forEach(function(e){e.id=a.id,e.sites=[],e.request_sites_of_domain_function=function(){return a.request_sites_of_domain(e._id)},e.is_more_sites_button_hidden=!1,a.id++}),a.setDomains(e)}).catch(function(e){console.log(e);a.setDomains([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setDomains",value:function(e){this.setState({domains:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"Domains",style:{backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd")),n.a.createElement("div",null,n.a.createElement(Ie,{domains:this.state.domains})))}}]),t}(s.Component),Fe=(a(408),a(409),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"cancelRank",value:function(e){var t={edgeID:e.props.topic.edgeID,rankCode:0};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;1==e.state.rankCode?a--:a++,e.setState({upArrowColor:"black",downArrowColor:"black",rank_error:"",edge_weight:a,rankCode:0})}).catch(function(t){e.setState({rank_error:t.response.data})})}},{key:"upClick",value:function(e){if("green"==e.state.upArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.topic.edgeID,rankCode:1};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;2==e.state.rankCode&&a++,a++,e.setState({upArrowColor:"green",downArrowColor:"black",rank_error:"",edge_weight:a,rankCode:1})}).catch(function(t){e.setState({rank_error:t.response.data})})}}},{key:"downClick",value:function(e){if("red"==e.state.downArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.topic.edgeID,rankCode:2};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;1==e.state.rankCode&&a--,a--,e.setState({upArrowColor:"black",downArrowColor:"red",rank_error:"",edge_weight:a,rankCode:2})}).catch(function(t){e.setState({rank_error:t.response.data})})}}}]),e}()),Ke=new D.a,He=new Fe,Me=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).upClick=function(){He.upClick(Object(E.a)(Object(E.a)(a)))},a.downClick=function(){He.downClick(Object(E.a)(Object(E.a)(a)))};var s="black",n="black";return 1==a.props.topic.userRankCode&&(s="green"),2==a.props.topic.userRankCode&&(n="red"),a.state={upArrowColor:s,downArrowColor:n,rank_error:"",edge_weight:a.props.topic.edge_weight,rankCode:a.props.topic.userRankCode},a.token=Ke.get("findel-auth-token")||"",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"topic"},n.a.createElement("text",{style:{marginRight:"10px"}},this.props.topic.connected_topic_name,n.a.createElement("br",null)),n.a.createElement("text",{style:{marginRight:"10px"}},"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ",n.a.createElement(L.a,{icon:f.b,color:this.state.upArrowColor,onClick:function(){return e.upClick()}})," (",this.state.edge_weight,") ",n.a.createElement(L.a,{icon:f.a,color:this.state.downArrowColor,onClick:function(){return e.downClick()}}),n.a.createElement("br",null)),n.a.createElement("text",{style:{marginRight:"10px"}},"\u05e6\u05d9\u05d5\u05df \u05de\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd: ",this.props.topic.web_scrape_score,n.a.createElement("br",null)),n.a.createElement("text",{style:{marginRight:"10px"}},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d0\u05d7\u05e8\u05d5\u05df: ",this.props.topic.last_web_scrape,n.a.createElement("br",null)),n.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"cancelRank",value:function(){He.cancelRank(this)}}]),t}(s.Component);Me.PropsTypes={topic:N.a.object.isRequired};var qe=Me,We=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topics.map(function(e){return n.a.createElement(qe,{key:e.id,topic:e})})}}]),t}(s.Component);We.PropsTypes={topics:N.a.array.isRequired};var Qe=We,Ve=new D.a,ze=function(e){function t(e){var a;Object(o.a)(this,t);var s=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.match.params.topic;return a.state={topics:[],topic:s},a.id=1,a.token=Ve.get("findel-auth-token")||"",k.a.get("/api/present_data/connected_topics/?topic="+s,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),e.sort(function(e,t){return t.edge_weight-e.edge_weight}),e.forEach(function(e){e.id=a.id,a.id++}),a.setTopics(e)}).catch(function(e){console.log(e);a.setTopics([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setTopics",value:function(e){this.setState({topics:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"Topics",style:{backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05ea\u05db\u05e0\u05d9\u05dd \u05e7\u05e9\u05d5\u05e8\u05d9\u05dd")),n.a.createElement("div",null,n.a.createElement("h3",{id:"topic_headLine"},this.state.topic),n.a.createElement(Qe,{topics:this.state.topics})))}}]),t}(s.Component),Je=a(33),Xe=Object(Je.a)();Xe.listen(function(e,t){console.log("The current URL is ".concat(e.pathname).concat(e.search).concat(e.hash)),console.log("The last navigation action was ".concat(t)),window.location=e.pathname+e.search});var Ge=new D.a;m.b.add(p.a,f.c,f.d);var Ye=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var s=Ge.get("findelUserName")||"",n=Ge.get("findelUserPosition")||"",r=!1,i={display:"none"},c={display:"inline"};if(""==s&&(r=!0,i={display:"inline"},c={display:"none"}),a.state={userName:s,hideLogoutBTN:r,displayLoggingComponents:i,displayUserDataComponents:c},""==s){var h=Ge.get("findel-auth-token")||"";if(""!=h){var d={headers:{"findel-auth-token":h}};k.a.get("/api/users/me",d).then(function(e){s=e.data.userName,n=e.data.position;var t={display:"none"};c={display:"inline"},"student"!=n&&(t={display:"inline"}),a.setState({userName:s,hideLogoutBTN:!1,displayLoggingComponents:{display:"none"},displayRegisterComponents:t,displayUserDataComponents:c}),Ge.set("findelUserName",s,{path:"/"}),Ge.set("findelUserPosition",n,{path:"/"})}).catch(function(e){alert(e.data)})}}return a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement(d.a,null,n.a.createElement("div",null,n.a.createElement("text",null,"\u05e9\u05dc\u05d5\u05dd ",this.state.userName),n.a.createElement("div",{className:"leftDiv"},n.a.createElement("button",{className:"emptyBTN",name:"logoutBTN",onClick:function(){return e.logout()},hidden:this.state.hideLogoutBTN},"\u05d4\u05ea\u05e0\u05ea\u05e7")),n.a.createElement("br",null),n.a.createElement("text",{text:!0,className:"link_text",onClick:function(){return e.push_to_history_and_go("/")}},"\u05d7\u05e4\u05e9"),n.a.createElement("text",{className:"link_text",style:this.state.displayLoggingComponents,onClick:function(){return e.push_to_history_and_go("/Login")}}," - \u05d4\u05ea\u05d7\u05d1\u05e8"),n.a.createElement("text",{className:"link_text",style:this.state.displayRegisterComponents,onClick:function(){return e.push_to_history_and_go("/Register")}}," -  \u05e8\u05d9\u05e9\u05d5\u05dd "),n.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserSearchHistory")}}," - \u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9"),n.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserFavorites")}}," - \u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd"),n.a.createElement("text",{className:"link_text",onClick:function(){return e.push_to_history_and_go("/DomainsPage")}}," - \u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd"),n.a.createElement("hr",null),n.a.createElement(_.a,{exact:!0,path:"/",component:se}),n.a.createElement(_.a,{path:"/Login",component:re}),n.a.createElement(_.a,{path:"/Register",component:ge}),n.a.createElement(_.a,{path:"/UserSearchHistory",component:Ce}),n.a.createElement(_.a,{path:"/UserFavorites",component:Re}),n.a.createElement(_.a,{path:"/DomainsPage",component:Ae}),n.a.createElement(_.a,{path:"/TopicsPage/:topic",component:ze}))))}},{key:"push_to_history_and_go",value:function(e){Xe.push(e),window.location=e}},{key:"logout",value:function(){Ge.set("findel-auth-token","",{path:"/"}),Ge.set("findelUserName","",{path:"/"}),window.location="/"}}]),t}(s.Component);i.a.render(n.a.createElement(Ye,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.73314a52.chunk.js.map