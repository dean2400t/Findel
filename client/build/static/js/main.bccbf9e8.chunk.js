(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(75)},60:function(e,t,a){},63:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(32),i=a.n(r),o=(a(20),a(2)),l=a(3),c=a(6),u=a(4),h=a(5),d=a(78),m=a(77),p=a(79),f=a(19),v=a(33),_=a(13),g=a(8),k=a.n(g),b=(a(60),a(7)),y=a.n(b),N=a(10),E=a(18),C=(a(63),a(1)),S=a.n(C),w=(a(66),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"aSiteSR"},n.a.createElement("p",null,this.props.aSite.formatedURL," ",n.a.createElement("i",{className:this.props.aSite.scrape})))}}]),t}(s.Component));w.PropsTypes={aSite:S.a.object.isRequired};var j=w,O=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.sitesBeingSearched.map(function(e){return n.a.createElement(j,{key:e.id,aSite:e})})}}]),t}(s.Component);O.PropsTypes={sitesBeingSearched:S.a.array.isRequired};var x=O,B=(a(67),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("text",{className:"exContent",style:{color:"#F0F8FF"},onClick:function(){return e.props.aContent.clicked(e.props.aContent.page)}},this.props.aContent.page,this.props.aContent.partition)}}]),t}(s.Component));B.PropsTypes={aContent:S.a.object.isRequired};var R=B,P=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.expandedContents.map(function(e){return n.a.createElement(R,{key:e.id,aContent:e})})}}]),t}(s.Component);P.PropsTypes={expandedContents:S.a.array.isRequired};var L=P,T=(a(68),a(25)),U=a(9),F=new U.a,K=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).upClick=function(){if("green"==a.state.upArrowColor)a.cancelRank();else{var e={topic:a.props.aRefSite.topic,siteURL:a.props.aRefSite.url,rankCode:1};""==a.token?a.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",e,{headers:{"findel-auth-token":a.token}}).then(function(e){var t=a.state.edgeWeight;2==a.state.rankCode&&t++,t++,a.setState({upArrowColor:"green",downArrowColor:"black",rank_error:"",edgeWeight:t,rankCode:1})}).catch(function(e){a.setState({rank_error:e.response.data})})}},a.downClick=function(){if("red"==a.state.downArrowColor)a.cancelRank();else{var e={topic:a.props.aRefSite.topic,siteURL:a.props.aRefSite.url,rankCode:2};""==a.token?a.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",e,{headers:{"findel-auth-token":a.token}}).then(function(e){var t=a.state.edgeWeight;1==a.state.rankCode&&t--,t--,a.setState({upArrowColor:"black",downArrowColor:"red",rank_error:"",edgeWeight:t,rankCode:2})}).catch(function(e){a.setState({rank_error:e.response.data})})}};var s="black",n="black";return 1==a.props.aRefSite.userRankCode&&(s="green"),2==a.props.aRefSite.userRankCode&&(n="red"),a.state={upArrowColor:s,downArrowColor:n,rank_error:"",edgeWeight:a.props.aRefSite.edgeWeight,rankCode:a.props.aRefSite.userRankCode},a.token=F.get("findel-auth-token")||"",a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"aSiteRef"},n.a.createElement("text",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.aRefSite.url},this.props.aRefSite.formatedURL),n.a.createElement("br",null),n.a.createElement("text",null,this.props.aRefSite.siteSnap),n.a.createElement("br",null),"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ",n.a.createElement(T.a,{icon:_.b,color:this.state.upArrowColor,onClick:function(){return e.upClick()}})," (",this.state.edgeWeight,") ",n.a.createElement(T.a,{icon:_.a,color:this.state.downArrowColor,onClick:function(){return e.downClick()}})," \xa0\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0\xa0 \u05d3\u05d9\u05e8\u05d5\u05d2 \u05d0\u05dc\u05d2\u05d5\u05e8\u05d9\u05ea\u05dd: (",this.props.aRefSite.hits,")"),n.a.createElement("br",null),n.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"cancelRank",value:function(){var e=this,t={topic:this.props.aRefSite.topic,siteURL:this.props.aRefSite.url,rankCode:0};""==this.token?this.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):k.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":this.token}}).then(function(t){var a=e.state.edgeWeight;1==e.state.rankCode?a--:a++,e.setState({upArrowColor:"black",downArrowColor:"black",rank_error:"",edgeWeight:a,rankCode:0})}).catch(function(t){e.setState({rank_error:t.response.data})})}}]),t}(s.Component);K.PropsTypes={aRefSite:S.a.object.isRequired};var A=K,H=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.refSites.map(function(e){return n.a.createElement(A,{key:e.id,aRefSite:e})})}}]),t}(s.Component);H.PropsTypes={refSites:S.a.array.isRequired};var W=H,M=(a(69),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"title"},n.a.createElement("text",null,n.a.createElement("u",null,n.a.createElement("b",null,this.props.theTitle))))}}]),t}(s.Component));M.PropsTypes={theTitle:S.a.string.isRequired};var D=M,q=(a(70),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"subject"},n.a.createElement("text",null,this.props.subject.name,": ",this.props.subject.description))}}]),t}(s.Component));q.PropsTypes={subject:S.a.object.isRequired};var I=q,Q=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.theSubjects.map(function(e){return n.a.createElement(I,{key:e.id,subject:e})})}}]),t}(s.Component);Q.PropsTypes={theSubjects:S.a.array.isRequired};var z=Q,V=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.ambigousData.map(function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(D,{key:e.id,theTitle:e.title}),n.a.createElement(z,{key:e.subID,theSubjects:e.subjects}))})}}]),t}(s.Component);V.PropsTypes={aData:S.a.array.isRequired};var J=V,X=(a(71),function(){function e(t,a,s){Object(o.a)(this,e);var n=t,r=a,i=[];i.push(1);for(var l=1;l<r;l++)i.push(65536*i[l-1]%n);this.R=65536,this.Q=t,this.numOfChars=a,this.RMarray=i,this.numOfSites=s,this.sitesHashes=[];for(var c=0;c<s;c++){var u=[];u[a-1]=null,this.sitesHashes.push(u)}this.texts=[],this.texts[s-1]=null,this.wikiLinksHashesToWordByLength=null,this.wordsMatriciesByLength=null}return Object(l.a)(e,[{key:"hash",value:function(e,t){for(var a=0,s=0;s<t;s++)a=(this.R*a+e.charCodeAt(s))%this.Q;return a}},{key:"hashWikiLinks",value:function(e){for(var t=this,a=[],s=[],n=0;n<this.numOfChars;n++){s.push([]);var r=[];r[this.Q-1]=void 0,a.push(r)}for(n=0;n<e.length;n++)if(null!=e[n].page&&e[n].page.length<this.numOfChars){var i=[];i[this.numOfSites-1]=null;var o=e[n].page;s[o.length-1].push({linkName:o,hash:-1,sitesHits:i})}var l=1;s.forEach(function(e){if(null!=e[0]){var s=l,n=0;e.forEach(function(e){e.hash=t.hash(e.linkName,s);var r=a[s-1];void 0==r[e.hash]?r[e.hash]=[{linkName:e.linkName,linkIndex:n}]:r[e.hash].find(function(t){return t.linkName=e.linkName})||r[e.hash].push({linkName:e.linkName,linkIndex:n});n++})}l++}),this.wikiLinksHashesToWordByLength=s,this.wordsMatriciesByLength=a}},{key:"creatHashTables",value:function(e,t){for(var a=1;a<=this.numOfChars;a++){var s=e.length-a+1,n=[],r=this.hash(e,a);n[0]=r;for(var i=1;i<s;i++)r=((r=(r+this.Q-this.RMarray[a-1]*e.charCodeAt(i-1)%this.Q)%this.Q)*this.R+e.charCodeAt(i-1+a))%this.Q,n[i]=r;this.sitesHashes[t][a-1]=n}this.texts[t]=e}},{key:"addHitsFromSite",value:function(e){for(var t,a=this,s=this.texts[e],n=this.sitesHashes[e],r=0;r<this.numOfChars;r++){var i=this.wordsMatriciesByLength[r],o=n[r],l=0;o.forEach(function(n){void 0!=i[n]&&(t=s.substring(l,l+r+1),i[o[l]].forEach(function(s){t==s.linkName&&(null==a.wikiLinksHashesToWordByLength[r][s.linkIndex].sitesHits[e]?a.wikiLinksHashesToWordByLength[r][s.linkIndex].sitesHits[e]=1:a.wikiLinksHashesToWordByLength[r][s.linkIndex].sitesHits[e]++)})),l++})}}}]),e}()),G=function(){function e(){var t=this;Object(o.a)(this,e),this.request_links_and_sites_from_Server=function(){var e=Object(N.a)(y.a.mark(function e(t,a){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/topicsToSitesData/?search="+t,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){var t=[],s=0;e.forEach(function(e){t.push({index:s,url:e.siteURL,formatedURL:e.siteFormatedURL,siteSnap:e.siteSnap,userRankCode:e.userRankCode,edgeWeight:e.edgeWeight}),s++}),a.sites_from_server=t}).catch(function(e){"Network Error"===e.message?a.setState({server_message:"\u05dc\u05d0 \u05de\u05e6\u05dc\u05d9\u05d7 \u05dc\u05d4\u05d2\u05d9\u05e2 \u05dc\u05e9\u05e8\u05ea"}):a.setState({server_message:e.response.data})});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.initSiteSearch=function(e){for(var t=[],a=0;a<e.sites_from_server.length;a++)t.push({id:e.id,url:e.sites_from_server[a].url,formatedURL:e.sites_from_server[a].formatedURL,scrape:"fa fa-spinner fa-spin"}),e.id++;e.setState({sitesBeingSearched:t})},this.finishedSiteFetch=function(e,t,a,s,n){return 200!=a&&(t=""),n.texts[s]={url:e,siteText:t},void 0!=n.texts[s]&&""!==n.texts[s].siteText},this.hashAndSearchSites=function(e,t){return t.texts[e].siteText.length>20&&(t.rabinKarp.creatHashTables(t.texts[e].siteText,e),t.rabinKarp.addHitsFromSite(e),!0)},this.request_WebScraping_for_sites=function(){var e=Object(N.a)(y.a.mark(function e(a){var s;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.sites_from_server.map(function(e){return k.a.get("/api/webScrape/?urlToScrape="+e.url,{}).then(function(s){if(t.finishedSiteFetch(e.url,s.data,s.status,e.index,a)){var n=t.hashAndSearchSites(e.index,a);a.sitesTempState[e.index].scrape=n?"fa fa-check-circle-o":"fa fa-times-circle-o"}else a.sitesTempState[e.index].scrape="fa fa-times-circle-o"}).catch(function(){a.texts.push({url:e.url,siteText:""}),a.sitesTempState[e.index].scrape="fa fa-times-circle-o",a.sitesFinishedScrape++})}),e.next=3,Promise.all(s).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 3:a.siteSearchFinished=!0;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.rankSites=function(e){for(var t=e.rabinKarp.wikiLinksHashesToWordByLength,a=[],s=0;s<e.sites_from_server.length;s++)a.push({url:e.sites_from_server[s].url,formatedURL:e.sites_from_server[s].formatedURL,siteSnap:e.sites_from_server[s].siteSnap,userRankCode:e.sites_from_server[s].userRankCode,edgeWeight:e.sites_from_server[s].edgeWeight,numOfHits:0,numOfContent:0,score:0});t.forEach(function(e){e.forEach(function(e){if(e.linkName.length>2)for(var t=0;t<e.sitesHits.length;t++)null!=e.sitesHits[t]&&(a[t].numOfHits+=e.sitesHits[t],a[t].numOfContent++)})}),e.setState({sitesBeingSearched:[]}),a.sort(function(e,t){return t.numOfHits-e.numOfHits}),a.sort(function(e,t){return t.edgeWeight-e.edgeWeight}),a.sort(function(e,t){return t.userRankCode==e.userRankCode?0:1==t.userRankCode&&1!=e.userRankCode?1:1!=t.userRankCode&&1==e.userRankCode?-1:2==t.userRankCode&&0==e.userRankCode?-1:void 0});for(var n=[],r=0;r<a.length;r++)n.push({id:e.id,url:a[r].url,formatedURL:a[r].formatedURL,siteSnap:a[r].siteSnap,userRankCode:a[r].userRankCode,edgeWeight:a[r].edgeWeight,topic:e.curSearch,hits:a[r].numOfHits}),e.id++;e.setState({refSites:n}),e.topSites=a},this.expandedContent=function(e){var t=e.rabinKarp.wikiLinksHashesToWordByLength,a=e.topSites,s=[],n=0;t.forEach(function(e){e.forEach(function(e){if(e.linkName.length>2){e.score=0,s.push(e);for(var t=0;t<a.length&&t<5;t++)null!=e.sitesHits[t]&&(s[n].score+=e.sitesHits[t]);n++}})}),s.sort(function(e,t){return t.score-e.score});for(var r=[],i=0;i<s.length&&i<10;i++){var o=" | ";i+1==s.length&&i+1==10&&(o=""),r.push({id:e.id,page:s[i].linkName,partition:o,clicked:e.expandedContentClicked.bind(e)}),e.id++}e.setState({expandedContents:r})}}return Object(l.a)(e,[{key:"Search_functions",value:function(){}},{key:"search_using_wikipedia_links",value:function(){var e=Object(N.a)(y.a.mark(function e(t,a){var s,n=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request_links_and_sites_from_Server(a.curSearch,a);case 2:return e.next=4,this.initSiteSearch(a);case 4:a.rabinKarp=new X(3001,20,a.sites_from_server.length),a.rabinKarp.hashWikiLinks(t),a.sitesTempState=a.state.sitesBeingSearched,750,s=setInterval(function(){0==a.siteSearchFinished&&0==a.did_user_ended_seach?a.setState({sitesBeingSearched:a.sitesTempState}):(clearInterval(s),a.siteSearchFinished=!1,n.rankSites(a),n.expandedContent(a),a.search_button_function_stop_search())},750),this.request_WebScraping_for_sites(a);case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),Y=new U.a,Z=new G,$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).search_button_function_deep_search=Object(N.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!1,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},simple_search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",server_message:""}),a.deep_search();case 3:case"end":return e.stop()}},e)})),a.simple_search_button_function=Object(N.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},simple_search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",server_message:""}),a.simple_search();case 3:case"end":return e.stop()}},e)})),a.search_button_function_stop_search=Object(N.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function_deep_search()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:""});case 2:case"end":return e.stop()}},e)})),a.deep_search=Object(N.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({expandedContents:[],refSites:[],ambigousData:[]}),k.a.get("/api/topicsToTopicsData/?search="+a.curSearch,{}).then(function(e){null!=e.data.links?(a.texts=[],Z.search_using_wikipedia_links(e.data.links,Object(E.a)(Object(E.a)(a)))):null!=e.data.ambig?(e.data.ambig.forEach(function(e){e.id=a.id,a.id++,e.subID=a.id,a.id++,e.subjects.forEach(function(e){e.id=a.id,a.id++})}),a.setState({ambigousData:e.data.ambig}),a.search_button_function_stop_search()):a.simple_search()}).catch(function(e){null!=e.respnse?a.setState({server_message:e.respnse.data}):a.setState({server_message:"\u05d1\u05e2\u05d9\u05d4 \u05e2\u05dd \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}),a.search_button_function_stop_search()});case 2:case"end":return e.stop()}},e)})),a.state={inputValue:"",sitesBeingSearched:[],expandedContents:[],refSites:[],ambigousData:[],newID:1,search_button_function:function(){return a.search_button_function_deep_search()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8",search_button_iconClass:"",server_message:"",add_site_to_topic_input:"",add_topic_to_topic_input:"",was_add_site_button_clicked:!1,was_add_topic_button_clicked:!1},a.texts=[],a.sitesFinishedScrape=0,a.sites_from_server=[],a.token=Y.get("findel-auth-token")||"",a.sitesTempState=[],a.siteSearchFinished=!1,a.topSites=null,a.curSearch=null,a.rabinKarp=null,a.wikiLinksHashesToWordByLength=[],a.wordsMatriciesByLength=[],a.id=1,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={color:"#F0F8FF"};return n.a.createElement("div",{className:"SearchPage"},n.a.createElement("div",{className:"search_box_div",style:{height:"200px",backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"Findel"),n.a.createElement("div",null,n.a.createElement("input",{id:"search_text_box",type:"text",value:this.state.inputValue,onChange:function(t){return e.updateTXT(t)}}),n.a.createElement("button",{id:"searchBTN",name:"searchBTN",onClick:this.state.search_button_function},this.state.search_button_text," ",n.a.createElement("i",{className:this.state.search_button_iconClass})),n.a.createElement("button",{hidden:"true",id:"simple_search_BTN",name:"simple_search_BTN",onClick:this.state.simple_search_button_function},this.state.simple_search_button_text," ",n.a.createElement("i",{className:this.state.search_button_iconClass}))),n.a.createElement("div",{id:"exContents"},n.a.createElement("text",{color:"white"},this.state.server_message)),n.a.createElement("div",{id:"exContents"},n.a.createElement(L,{expandedContents:this.state.expandedContents}))),n.a.createElement("div",{className:"add_content_and_sites_div",style:{backgroundColor:"#0587c3"}},n.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},n.a.createElement("text",{style:t},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),n.a.createElement("input",{type:"text",value:this.state.add_topic_to_topic_input,onChange:function(t){return e.add_topic_to_topic_change_function(t)}}),n.a.createElement("button",{id:"add_topic_to_topic_button"},"+")),n.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},n.a.createElement("button",{onClick:function(){return e.add_topic_button_clicked()}},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0...")),n.a.createElement("div",{className:"add_site_to_topic_div",hidden:!this.state.was_add_site_button_clicked},n.a.createElement("text",{style:t},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),n.a.createElement("input",{type:"text",value:this.state.add_site_to_topic_input,onChange:function(t){return e.add_site_to_topic_change_function(t)}}),n.a.createElement("button",{id:"add_site_to_topic_button",onClick:function(){return e.add_site()}},"+")),n.a.createElement("div",{className:"add_site_to_topic_div",hidden:this.state.was_add_site_button_clicked},n.a.createElement("button",{onClick:function(){return e.add_site_button_clicked()}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0..."))),n.a.createElement("div",{id:"sites"},n.a.createElement(x,{sitesBeingSearched:this.state.sitesBeingSearched})),n.a.createElement("div",{id:"refSites"},n.a.createElement(W,{refSites:this.state.refSites})),n.a.createElement("div",{id:"ambigous"},n.a.createElement(J,{ambigousData:this.state.ambigousData})))}},{key:"updateTXT",value:function(e){this.setState({inputValue:e.target.value}),this.curSearch=e.target.value}},{key:"add_site_to_topic_change_function",value:function(e){this.setState({add_site_to_topic_input:e.target.value})}},{key:"add_site_button_clicked",value:function(){this.setState({was_add_site_button_clicked:!0})}},{key:"add_site",value:function(){var e=this,t={topicName:this.curSearch,siteURL:this.state.add_site_to_topic_input};k.a.post("/api/addContent/addSite",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"add_topic_to_topic_change_function",value:function(e){this.setState({add_topic_to_topic_input:e.target.value})}},{key:"add_topic_button_clicked",value:function(){this.setState({was_add_topic_button_clicked:!0})}},{key:"expandedContentClicked",value:function(e){this.setState({inputValue:e}),this.curSearch=e,this.siteSearchFinished=!1,this.search_button_function_deep_search()}},{key:"simple_search",value:function(){var e=Object(N.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.request_links_and_sites_from_Server(this.curSearch,this);case 2:for(t=[],a=0;a<this.sites_from_server.length;a++)t.push({id:this.id,url:this.sites_from_server[a].url,formatedURL:this.sites_from_server[a].formatedURL,siteSnap:this.sites_from_server[a].siteSnap,userRankCode:this.sites_from_server[a].userRankCode,edgeWeight:this.sites_from_server[a].edgeWeight,topic:this.curSearch,hits:0}),this.id++;this.setState({refSites:t}),this.search_button_function_stop_search();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ee=new U.a,te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={userName:"",password:"",serverMessage:""},ee.set("findel-ServerMessage","",{path:"/"}),a.attampt=0,a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"LoginPage"},n.a.createElement("h1",null," Login "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"})),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"})),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05ea\u05d7\u05d1\u05e8"))}},{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(N.a)(y.a.mark(function e(){var t,a,s=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:this.state.userName,password:this.state.password},e.next=3,k.a.post("/api/auth",a).then(function(e){t=e.data,ee.set("findel-auth-token",t.token,{path:"/"}),window.location="/"}).catch(function(e){void 0==e.response?s.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):(s.attampt++,s.setState({serverMessage:e.response.data+" \u05e0\u05e1\u05d9\u05d5\u05df \u05de\u05e1\u05e4\u05e8: "+s.attampt}))});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ae=(a(24),function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"checkForms",value:function(){}},{key:"checkUserName",value:function(e,t){var a=t.state.successClass,s="";return e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==s&&(t.userNameBlured=!0),t.userNameBlured?t.setState({userName:e,userNameClass:a,userNameError:s}):t.setState({userName:e}),""==s}},{key:"checkFirstName",value:function(e,t){var a=t.state.successClass,s="";e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var n=0;n<e.length;n++){if(e.charAt(n)>="0"&&e.charAt(n)<="9"){a=t.state.errorClass,s="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==s&&(t.firstNameBlured=!0),t.firstNameBlured?t.setState({firstName:e,firstNameClass:a,firstNameError:s}):t.setState({firstName:e}),""==s}},{key:"checkLastName",value:function(e,t){var a=t.state.successClass,s="";e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var n=0;n<e.length;n++){if(e.charAt(n)>="0"&&e.charAt(n)<="9"){a=t.state.errorClass,s="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,s="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==s&&(t.lastNameBlured=!0),t.lastNameBlured?t.setState({lastName:e,lastNameClass:a,lastNameError:s}):t.setState({lastName:e}),""==s}},{key:"checkEmail",value:function(e,t){var a=t.state.successClass,s="";if(""==e)a="form-control",s="";else if(e.length<5)a=t.state.errorClass,s="\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4";else{for(var n=!1,r=0,i=0;i<e.length;i++)if(0==i){if(!(e.charAt(i)>"A"&&e.charAt(i)<"z"||e.charAt(i)>"0"&&e.charAt(i)<"9")){a=t.state.errorClass,s="\u05d0\u05d5\u05ea \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8";break}}else{if("@"==e.charAt(i)){if(e.length-i<3){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}if(0!=n){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}n=!0}if("."==e.charAt(i)&&n){if("@"==e.charAt(i-1)||"."==e.charAt(i-1)||i==e.length-1){a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}r++}}(0==n||r>2||0==r)&&(a=t.state.errorClass,s="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4")}return""==s&&(t.emailBlured=!0),t.emailBlured?t.setState({email:e,emailClass:a,emailError:s}):t.setState({email:e}),""==s}},{key:"checkPassword",value:function(e,t){var a=t.state.successClass,s="";return e.length<=5&&(a=t.state.errorClass,s="\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==s&&(t.passwordBlured=!0),t.passwordBlured?t.setState({password:e,passwordClass:a,passwordError:s}):t.setState({password:e}),""==s}}]),e}()),se=new U.a,ne=new ae,re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,se.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05d5\u05e8\u05d4 "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){ne.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){ne.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){ne.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){ne.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){ne.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(N.a)(y.a.mark(function e(){var t,a,s,n,r,i,o,l,c=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=ne.checkEmail(this.state.email,this),a=ne.checkFirstName(this.state.firstName,this),s=ne.checkLastName(this.state.lastName,this),n=ne.checkPassword(this.state.password,this),r=ne.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),l=se.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createTeacherAccount",o,{headers:{"findel-auth-token":l}}).then(function(e){i=e.data,c.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?c.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):c.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ie=new U.a,oe=new ae,le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,ie.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05e0\u05d4\u05dc "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){oe.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){oe.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){oe.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){oe.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){oe.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(N.a)(y.a.mark(function e(){var t,a,s,n,r,i,o,l,c=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=oe.checkEmail(this.state.email,this),a=oe.checkFirstName(this.state.firstName,this),s=oe.checkLastName(this.state.lastName,this),n=oe.checkPassword(this.state.password,this),r=oe.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),l=ie.get("findel-auth-token")||"",e.next=16,k.a.post("/api/users/createAdminAccount",o,{headers:{"findel-auth-token":l}}).then(function(e){i=e.data,c.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?c.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):c.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),ce=new U.a,ue=new ae,he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.userNameBlured=!1,a.firstNameBlured=!1,a.emailBlured=!1,a.lastNameBlured=!1,ce.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return n.a.createElement("div",{className:"RegisterPage"},n.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05ea\u05dc\u05de\u05d9\u05d3 "),n.a.createElement("text",null,this.state.serverMessage),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),n.a.createElement("text",{style:t},this.state.userNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),n.a.createElement("text",{style:t},this.state.passwordError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),n.a.createElement("text",{style:t},this.state.emailError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),n.a.createElement("text",{style:t},this.state.firstNameError)),n.a.createElement("br",null),n.a.createElement("label",null,n.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),n.a.createElement("text",{style:t},this.state.lastNameError)),n.a.createElement("br",null),n.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){ue.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){ue.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){ue.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){ue.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){ue.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(N.a)(y.a.mark(function e(){var t,a,s,n,r,i,o,l=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=ue.checkEmail(this.state.email,this),a=ue.checkFirstName(this.state.firstName,this),s=ue.checkLastName(this.state.lastName,this),n=ue.checkPassword(this.state.password,this),r=ue.checkUserName(this.state.userName,this),!(t&&a&&s&&n&&r)){e.next=15;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),e.next=15,k.a.post("/api/users/createStudentAccount",o).then(function(e){i=e.data,""!=(ce.get("findel-auth-token")||"")?l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}):(ce.set("findel-auth-token",i.token,{path:"/"}),window.location="/")}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(s.Component),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"register"},n.a.createElement(d.a,null,n.a.createElement("div",null,n.a.createElement(m.a,{to:"/registerPage",style:this.state.displayLoggingComponents},"\u05ea\u05dc\u05de\u05d9\u05d3"),n.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),n.a.createElement(m.a,{to:"/teacherRegister",style:this.state.displayLoggingComponents},"\u05de\u05d5\u05e8\u05d4"),n.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),n.a.createElement(m.a,{to:"/adminRegister",style:this.state.displayLoggingComponents},"\u05de\u05e0\u05d4\u05dc"),n.a.createElement("hr",null),n.a.createElement(p.a,{exact:!0,path:"/",component:he}),n.a.createElement(p.a,{path:"/teacherRegister",component:re}),n.a.createElement(p.a,{path:"/adminRegister",component:le}),n.a.createElement(p.a,{path:"/registerPage",component:he}))))}}]),t}(s.Component),me=(a(73),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"search"},n.a.createElement("text",null," \u05e0\u05d5\u05e9\u05d0: ",this.props.aSearch.topic,n.a.createElement("br",null),"\u05ea\u05d0\u05e8\u05d9\u05da: ",this.props.aSearch.searchDate,n.a.createElement("br",null),n.a.createElement("br",null)))}}]),t}(s.Component));me.PropsTypes={aSearch:S.a.object.isRequired};var pe=me,fe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.searches.map(function(e){return n.a.createElement(pe,{key:e.id,aSearch:e})})}}]),t}(s.Component);fe.PropsTypes={searches:S.a.array.isRequired};var ve=fe,_e=new U.a,ge=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={SearchHistory:[]};var s=_e.get("findel-auth-token")||"";return k.a.get("/api/userData/searchHistory",{headers:{"findel-auth-token":s}}).then(function(e){return e.data}).then(function(e){a.setHistory(e)}).catch(function(e){console.log(e);a.setHistory([])}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setHistory",value:function(e){this.setState({SearchHistory:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App",style:{height:"100px",backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9")),n.a.createElement("div",null,n.a.createElement(ve,{searches:this.state.SearchHistory})))}}]),t}(s.Component),ke=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"fav_site"},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.fav_site.siteURL},this.props.fav_site.formatedURL))}}]),t}(s.Component);ke.PropsTypes={fav_site:S.a.object.isRequired};var be=ke,ye=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.topic.sites.map(function(e){return n.a.createElement(be,{key:e.id,fav_site:e})})}}]),t}(s.Component);ye.PropsTypes={topic:S.a.array.isRequired};var Ne=ye,Ee=(a(74),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.favorites.map(function(e){return n.a.createElement("div",{className:"favorites_div"},n.a.createElement("text",null,e.topicName,": ",n.a.createElement("br",null)),n.a.createElement(Ne,{key:e.id,topic:e}))})}}]),t}(s.Component));Ee.PropsTypes={favorites:S.a.array.isRequired};var Ce=Ee,Se=new U.a,we=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={favorites:[]};var s=Se.get("findel-auth-token")||"";return k.a.get("/api/userData/favorites",{headers:{"findel-auth-token":s}}).then(function(e){return e.data}).then(function(e){var t=1;e.forEach(function(e){e.id=t,t++,e.sites.forEach(function(e){e.id=t,t++})}),a.setFavorites(e)}).catch(function(e){console.log(e);a.setFavorites([])}),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"setFavorites",value:function(e){this.setState({favorites:e})}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"App",style:{height:"100px",backgroundColor:"#0587c3"}},n.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd")),n.a.createElement("div",null,n.a.createElement(Ce,{favorites:this.state.favorites})))}}]),t}(s.Component),je=new U.a;f.b.add(v.a,_.c,_.d);var Oe=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));var s=je.get("findelUserName")||"",n=je.get("findelUserPosition")||"",r=!1,i={display:"none"},l={display:"inline"};if(""==s&&(r=!0,i={display:"inline"},l={display:"none"}),a.state={userName:s,hideLogoutBTN:r,displayLoggingComponents:i,displayUserDataComponents:l},""==s){var h=je.get("findel-auth-token")||"";if(""!=h){var d={headers:{"findel-auth-token":h}};k.a.get("/api/users/me",d).then(function(e){s=e.data.userName,n=e.data.position;var t={display:"none"};l={display:"inline"},"student"!=n&&(t={display:"inline"}),a.setState({userName:s,hideLogoutBTN:!1,displayLoggingComponents:{display:"none"},displayRegisterComponents:t,displayUserDataComponents:l}),je.set("findelUserName",s,{path:"/"}),je.set("findelUserPosition",n,{path:"/"})}).catch(function(e){alert(e.data)})}}return a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement(d.a,null,n.a.createElement("div",null,n.a.createElement("text",null,"\u05e9\u05dc\u05d5\u05dd ",this.state.userName),n.a.createElement("div",{className:"leftDiv"},n.a.createElement("button",{className:"emptyBTN",name:"logoutBTN",onClick:function(){return e.logout()},hidden:this.state.hideLogoutBTN},"\u05d4\u05ea\u05e0\u05ea\u05e7")),n.a.createElement("br",null),n.a.createElement(m.a,{to:"/"},"\u05d7\u05e4\u05e9"),n.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),n.a.createElement(m.a,{to:"/Login",style:this.state.displayLoggingComponents},"\u05d4\u05ea\u05d7\u05d1\u05e8"),n.a.createElement("text",{style:this.state.displayRegisterComponents}," - "),n.a.createElement(m.a,{to:"/Register",style:this.state.displayRegisterComponents},"\u05e8\u05d9\u05e9\u05d5\u05dd"),n.a.createElement("text",{style:this.state.displayUserDataComponents}," - "),n.a.createElement(m.a,{to:"/UserSearchHistory",style:this.state.displayUserDataComponents},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9"),n.a.createElement("text",{style:this.state.displayUserDataComponents}," - "),n.a.createElement(m.a,{to:"/UserFavorites",style:this.state.displayUserDataComponents},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd"),n.a.createElement("hr",null),n.a.createElement(p.a,{exact:!0,path:"/",component:$}),n.a.createElement(p.a,{path:"/Login",component:te}),n.a.createElement(p.a,{path:"/Register",component:de}),n.a.createElement(p.a,{path:"/UserSearchHistory",component:ge}),n.a.createElement(p.a,{path:"/UserFavorites",component:we}))))}},{key:"logout",value:function(){je.set("findel-auth-token","",{path:"/"}),je.set("findelUserName","",{path:"/"}),window.location="/"}}]),t}(s.Component);i.a.render(n.a.createElement(Oe,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.bccbf9e8.chunk.js.map