{"version":3,"sources":["components/SearchPageComponents/pages_in_search/Page_in_search.jsx","components/SearchPageComponents/pages_in_search/Pages_in_search.jsx","components/SearchPageComponents/expandedContents/Acontent.jsx","components/SearchPageComponents/expandedContents/ExpandedContents.jsx","components/common_functions/make_bar_style.js","components/SearchPageComponents/ref_to_pages/rank_function.js","components/Comments_components/comments_functions.js","components/Comments_components/Comment.jsx","components/Comments_components/Comments_Array_mapper.jsx","components/Comments_components/add_comment.jsx","components/Comments_components/Comments.jsx","components/Comments_components/Comments_loader.jsx","components/Comments_components/arrange_comments.js","components/round_function.js","components/SearchPageComponents/ref_to_pages/Page_ref.jsx","components/SearchPageComponents/ref_to_pages/Pages_ref_mapper.jsx","components/SearchPageComponents/ref_to_pages/Pages_ref.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousTitle.jsx","components/SearchPageComponents/AmbigousContent/AAAmbigousSubject.jsx","components/SearchPageComponents/AmbigousContent/AAmbigousSubjects.jsx","components/SearchPageComponents/AmbigousContent/Ambigous.jsx","components/SearchPageComponents/search_functions/request_topic_and_connected_topics_from_server.js","components/SearchPageComponents/search_functions/sort_page_topic_edges.js","components/SearchPageComponents/search_functions/request_pages_from_server.js","components/SearchPageComponents/search_functions/display_pages_scrape_process.js","components/SearchPageComponents/search_functions/Rabin_Karp_search.js","components/SearchPageComponents/search_functions/Jaccard_similarity.js","components/SearchPageComponents/search_functions/hash_and_search_page.js","components/SearchPageComponents/search_functions/web_scrape_pages.js","components/SearchPageComponents/search_functions/rank_pages.js","components/SearchPageComponents/search_functions/search_for_expended_content.js","components/SearchPageComponents/search_functions/display_expanded_content.js","components/SearchPageComponents/search_functions/update_topic_topic_edges_results.js","components/SearchPageComponents/search_functions/main_search_function.js","components/SearchPageComponents/SearchPage.jsx","components/LoginPage.jsx","components/RegistrationComponents/checkForms.js","components/RegistrationComponents/register.jsx","components/user_search_history_components/Search.jsx","components/user_search_history_components/Searches.jsx","components/user_search_history_components/User_Search_History_Page.jsx","components/user_favorites_components/Page.jsx","components/user_favorites_components/Pages.jsx","components/user_favorites_components/Favorites.jsx","components/user_favorites_components/User_favorites_page.jsx","components/Domains_components/Page_component.jsx","components/Domains_components/Domain_component.jsx","components/Domains_components/Domains_component.jsx","components/Domains_components/List_for_googleAPI_component.jsx","components/Domains_components/DomainsPage.jsx","components/Topic_components/topic_topic_edge_rank_function.js","components/Topic_components/Topic_topic_edge_component.jsx","components/Topic_components/Topic_topic_edges_component.jsx","components/Topic_components/topic_page.jsx","components/Page_components/page_topic_edge_rank_function.js","components/Page_components/connected_topic_edge_component.jsx","components/Page_components/connected_topics_edges_component.jsx","components/Page_components/page_rank_function.js","components/Page_components/Page_page.jsx","App.js","index.js"],"names":["Page_in_search","react_default","a","createElement","className","this","props","page_in_search","pageURL","scrape","Component","PropsTypes","object","isRequired","Pages_in_search","pages_in_search","map","SearchPageComponents_pages_in_search_Page_in_search","key","id","array","Acontent","target","rel","href","aContent","page","partition","ExpandedContents","expandedContents","SearchPageComponents_expandedContents_Acontent","make_bar_style","positive","negative","now","rank_function","this_of_page_ref","rank_type","up_or_down","string_for_upArrow_color","string_for_downArrow_color","upArrow","state","downArrow","rank_code","opts","edgeID","page_ref","_id","api_path","pageID","axios","post","headers","findel-auth-token","token","then","result","res_data","data","recived_time","Date","ranking_date","last_ranking_timeStamp","ranking_id","string_for_domain_rank_type_positive_points","string_for_rank_type_negative_points","string_for_domain_rank_type_negative_points","json_for_state_change","positive_points","domain_positive_points","negative_points","domain_negative_points","bar_style","domain_bar_style","setState","catch","error","response","rank_error","message","Comments_functions","Object","classCallCheck","this_of_comment","string_for_comment_upArrow_color","string_for_comment_downArrow_color","commentID","comment","last_ranking_id","string_for_comment_rank_type_negative_points","cookies","Cookies","comments_functions","Comment","_this","possibleConstructorReturn","getPrototypeOf","call","liked_upArrow","liked_downArrow","rankings","forEach","ranking","user_name_color","user","position","show_comment_time","time_made","liked_upArrowColor","liked_downArrowColor","liked_positive_points","liked_negative_points","add_comment_text","is_add_comment_hidden","add_comment_vars","object_id","object_collection_name","root_comment_id","root_comment","get","_this2","user_name_style","color","style","border-right-color","border-right-style","padding","react_fontawesome_index_es","icon","faArrowAltCircleDown","onClick","rank_click_down","faArrowAltCircleUp","rank_click_up","userName","hidden","dist_default","format","text","add_commnet_text_clicked","cursor","Comments_components_add_comment","parrent_object_data","Comments_components_Comments_Array_mapper","comments","sub_comments","ranking_function","Comments_Array_mapper","components_Comments_components_Comment","Add_comment","comment_text","comments_added","value","rows","cols","placeholder","onChange","evt","comment_text_change","send_comment_to_server","server_message","_this3","collection_name","push","undefined","Comments","are_comments_hidden","show_hide_instruction","show_hide_comments_text_clicked","Comments_loader","are_comments_loaded","load_comments_text_clicked","data_for_comments","number_of_comments","Comments_components_Comments","parrent_comments_array","comments_array","sort","comment1","comment2","liked÷π_positive_points","sub_comment1","sub_comment2","arrange_comments","console","log","round","num","Math","pow","toFixed","Page_ref","credibility_upArrow","credibility_downArrow","educational_upArrow","educational_downArrow","liked_bar_style","credibility_bar_style","credibility_positive_points","credibility_negative_points","educational_bar_style","educational_positive_points","educational_negative_points","domain_liked_bar_style","domain","domain_credibility_bar_style","domain_educational_bar_style","credibility_upArrowColor","credibility_downArrowColor","educational_upArrowColor","educational_downArrowColor","userrank_code","domain_liked_positive_points","domain_credibility_positive_points","domain_educational_positive_points","domain_liked_negative_points","domain_credibility_negative_points","domain_educational_negative_points","pageSnap","align","ProgressBar","variant","faHeart","faSearch","faBook","faGlobe","Comments_components_Comments_loader","encodeURIComponent","Pages_refs_mapper","pages_ref","SearchPageComponents_ref_to_pages_Page_ref","pages_refs","Pages_refs","length","text-align","Pages_ref_mapper","AAmbigousTitle","theTitle","string","AAAmbigousSubject","subject","name","description","AAmbigousSubjects","theSubjects","aData","SearchPageComponents_AmbigousContent_AAAmbigousSubject","Ambigous","ambigousData","Fragment","SearchPageComponents_AmbigousContent_AAmbigousTitle","title","AmbigousContent_AAmbigousSubjects","subID","subjects","request_topic_and_connected_topics_from_server","_x","_request_topic_and_connected_topics_from_server","apply","arguments","_callee2","this_of_searchPage","regenerator_default","wrap","_context2","prev","next","topic","curSearch","_ref","asyncToGenerator","mark","_callee","_context","ambig","category","ambig_for_history","search_button_function_stop_search","connected_topics_edges","topic_topic_edges","wikiText","stop","_x2","respnse","sort_page_topic_edges","full_page_topic_edges_array","temp","page_topic_edge1","page_topic_edge2","order_index_by_google","index","request_pages_from_server","_request_pages_from_server","search","page_topic_edges","sorted_page_topic_edges","page_topic_edges_use","page_displayed_so_far_index","page_topic_edges_from_server_to_use","full_page_topic_edges_list_from_server","display_pages_scrape_process","pageToSearchArray","rabinKarpSearch","primeQ","numOfPatternsLength","num_of_pages","Q","numOfChars","RMarray","i","R","pages_hashes","arr","texts","wikiLinks_hashes_to_word_by_length","words_matricies_by_length","pattern","patLength","h","j","charCodeAt","wikiLinks","topicName","pages_hits","linkName","index_in_connected_topics_edges","hash","curLength","linksInLength","linkLength","linkIndex","link","wordsMatriciesInLenght","find","element","pageIndex","curNumOfChars","hashTableLength","hashedTable","txtHash","stringFromText","pageText","page_hashes","num_of_links_in_page","hashed_link_martix","page_hash","textIndex","substring","Jaccard_similarity","prime_page_text","RM","prime_page_hash","creatHashTable","create_sets_array","hashed_set_array","hashed","sub_string","primePage","page_to_compare","union","intersection","set_array","keys","set","hash_and_search_page","_x3","_hash_and_search_page","page_topic_edge","html","$","cheerio","load","rabinKarp","creatHashTables","add_hits_from_page","jaccard_similarity","compute_page_similarity","was_page_searched","abrupt","web_scrape_pages","_web_scrape_pages","promiseArray","page_to_topic_edge","is_edge_up_to_date","pagesTempState","pageHTML","Promise","all","results","pageSearchFinished","rank_page_topic_edges","top_page_topic_edges","edge_index","is_more_pages_button_hidden","search_for_expended_content","_search_for_expended_content","is_seach_needed","rk_results","is_search_required","best_pages_results","_callee3","num_of_top_page_topic_edges_to_use","num_of_top_page_topic_edges_used","_context3","words_in_length","word","num_of_hits","linkHits","_x4","display_expended_content","edge1","edge2","web_scrape_score","expandedCon","content","is_show_more_content_hidden","expandend_content_status","is_topic_loaded","expandedCon_to_history","save_to_history","update_topic_topic_edges_results","_update_topic_topic_edges_results","edges_to_update","connected_topic_edge","edges","main_search_function","_main_search_function","do_deep_search","links","refreshSearchStatus","rank_pages","Rabin_Karp_search","hashWikiLinks","setInterval","did_user_ended_seach","clearInterval","SearchPage","handleKeyPress","event","search_button_function","search_button_text","simple_search_button_text","search_button_iconClass","deep_search","simple_search_button_function","is_simple_search_selected","assertThisInitialized","history","my_search","URLSearchParams","window","location","pages_and_texts","pagesFinishedScrape","top_pages","wikiLinksHashesToWordByLength","wordsMatriciesByLength","search_text_box","is_deep_search_needed","newID","add_page_to_topic_input","add_topic_to_topic_input","add_page_to_topic_description","was_add_page_button_clicked","was_add_topic_button_clicked","search_box_textStyle","backgroundColor","src","type","updateTXT","onKeyPress","deep_search_radio_button_clicked","checked","simple_search_radio_button_clicked","expandedContents_ExpandedContents","add_topic_button_clicked","add_topic_to_topic_change_function","connect_topic","add_page_button_clicked","add_page_to_topic_change_function","add_page_to_topic_change_description_function","add_page","textAlign","Pages_ref","more_pages_clicked","pages_in_search_Pages_in_search","AmbigousContent_Ambigous","hidden_value","pageDescription","_this4","current_topicName","new_topicName","pathname","LoginPage","handleSubmit","password","serverMessage","path","attampt","handleUserNameChange","handlePasswordChange","dataFromServer","goBack","checkForms","formsThis","userNameClass","successClass","userNameError","errorClass","userNameBlured","firstName","firstNameClass","firstNameError","chI","charAt","firstNameBlured","lastName","lastNameClass","lastNameError","lastNameBlured","email","emailClass","emailError","foundShtrude","numOfDots","chIndex","emailBlured","passClass","passError","passwordBlured","passwordClass","passwordError","CheckForms","RegisterPage","redText","position_to_register","defaultChecked","onBlur","handleUserNameBlur","handlePasswordBlur","handleEmailChange","handleEmailBlur","handleFirstNameChange","handleFirstNameBlur","handleLastNameChange","handleLastNameBlur","pos","position_to_register_val","checkUserName","checkFirstName","checkLastName","checkEmail","checkPassword","isEmailOK","isFirstNameOK","isLastNameOK","isPasswordOK","isUserNameOK","Search","searchDate","Searches","searches","components_user_search_history_components_Search","UserSearchHistory","searchHistory","reverse","setHistory","fontSize","user_search_history_components_Searches","Pages","pages","Page","Favorites","favorites","favorite","user_favorites_components_Pages","UserFavorites","setFavorites","components_user_favorites_components_Favorites","Page_component","Domain_component","Domains_components_Page_component","Domains_component","domains","domainURL","Domains_components_Domain_component","request_pages_of_domain_function","List_for_googleAPI_component","domains_list","DomainsPage","request_pages_of_domain","domain_id","not_educational_or_credibal_domains","all_positive_domains","domain_a","domain_b","Domains_components_Domains_component","components_Domains_components_List_for_googleAPI_component","topic_topic_edge_rank_function","this_of_topic","string_for_edge_upArrow_color","string_for_edge_downArrow_color","topic_topic_edge","string_for_edge_rank_type_negative_points","Topic_component","edge_liked_positive_points","edge_liked_negative_points","marginRight","last_web_scrape","Topics_topic_edges_component","Topic_components_Topic_topic_edge_component","Topics_page","match","params","topic_a","topic_b","Topic_topic_edges_component","page_topic_edge_rank_function","this_of_edge","Connected_topic_edge_component","is_jaccard_hidden","is_num_of_links_in_page_hidden","Connected_topics_edges_component","Page_components_connected_topic_edge_component","topics","page_rank_function","Page_page","encoded_pageURL","decodeURI","page_loading","edge_a","edge_b","edge","faCircle","connected_topics_edges_component","createBrowserHistory","listen","action","concat","library","add","fab","faCheckSquare","faCoffee","App","userPosition","hideLogoutBTN","displayLoggingComponents","display","displayUserDataComponents","displayRegisterComponent","displayRegisterComponents","alert","BrowserRouter","logout","push_to_history_and_go","Route","exact","component","Topic_page","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.410c8a32.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './Page_in_search.css';\r\n//import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport PropsTypes from 'prop-types';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nclass Page_in_search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"page_in_seach\">\r\n          <p>{this.props.page_in_search.pageURL} <i className={this.props.page_in_search.scrape}></i></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPage_in_search.PropsTypes={\r\n  page_in_search: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_in_search;","import React, { Component } from 'react';\r\nimport Page_in_search from './Page_in_search';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages_in_search extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages_in_search.map((page_in_search)=>(\r\n            <Page_in_search key={page_in_search.id} page_in_search={page_in_search} />\r\n          ));\r\n    }\r\n}\r\nPages_in_search.PropsTypes={\r\n    pages_in_search: PropsTypes.array.isRequired\r\n} \r\n  export default Pages_in_search;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './Acontent.css';\r\nclass Acontent extends Component {\r\n  render() {\r\n    return (\r\n      <span>\r\n        <a className=\"exContent\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.aContent.page}>{this.props.aContent.page}</a><text className=\"ex_content_partition\">{this.props.aContent.partition}</text> \r\n      </span>\r\n    );\r\n  }\r\n}\r\nAcontent.PropsTypes={\r\n    aContent: PropsTypes.object.isRequired\r\n}   \r\nexport default Acontent;","import React, { Component } from 'react';\r\nimport Acontent from './Acontent';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass ExpandedContents extends Component {\r\n    render() {\r\n        \r\n        return this.props.expandedContents.map((aContent)=>(\r\n            <Acontent key={aContent.id} aContent={aContent} />\r\n          ));\r\n    }\r\n}\r\nExpandedContents.PropsTypes={\r\n    expandedContents: PropsTypes.array.isRequired\r\n} \r\n  export default ExpandedContents;","export default function make_bar_style(positive, negative)\r\n{\r\n  if (positive == 0 && negative ==0)\r\n      return [0, 'warning'];\r\n  var now = (positive/(positive+negative))*100;\r\n  if (now < 10)\r\n    return [10, 'danger'];\r\n  if (now < 40)\r\n    return [now, 'danger'];\r\n  if (now < 60)\r\n    return [now, 'warning'];\r\n  return [now, 'success'];\r\n}\r\n","import axios from 'axios';\r\nimport make_bar_style from '../../common_functions/make_bar_style';\r\n\r\nexport default function rank_function(this_of_page_ref, rank_type, up_or_down)\r\n{\r\n    var string_for_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_page_ref.state[string_for_upArrow_color];\r\n    var downArrow = this_of_page_ref.state[string_for_downArrow_color];\r\n\r\n    var rank_code = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rank_code = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rank_code = 2;\r\n\r\n    if (rank_type == 'liked')\r\n    {\r\n        var edgeID=this_of_page_ref.props.page_ref._id;\r\n        var opts={\r\n            edgeID: edgeID,\r\n            rank_type: rank_type,\r\n            rank_code: rank_code\r\n        };\r\n        var api_path= \"/api/page_topic_edges/rank_page_topic_edge\";\r\n    }\r\n    else\r\n    {\r\n        var pageID=this_of_page_ref.props.page_ref.page._id\r\n        var opts={\r\n        pageID: pageID,\r\n        rank_type: rank_type,\r\n        rank_code: rank_code\r\n        }\r\n        var api_path= \"/api/pages/rank_page\";\r\n    }\r\n\r\n    axios.post(api_path, opts, {\r\n        headers: {'findel-auth-token': this_of_page_ref.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.ranking_date);\r\n            if (this_of_page_ref.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rank_code is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_page_ref['last_ranking_id_'+rank_type] == res_data.ranking_id)\r\n                            if (res_data.rank_code != 0)\r\n                                return;\r\n                    \r\n                    if (recived_time - this_of_page_ref['last_ranking_timeStamp_'+rank_type] < 0)\r\n                        return;\r\n                }\r\n            this_of_page_ref['last_ranking_id_'+rank_type] = res_data.ranking_id;\r\n            this_of_page_ref['last_ranking_timeStamp_'+rank_type] = recived_time;\r\n\r\n            var string_for_rank_type_positive_points = rank_type + \"_positive_points\";\r\n            var string_for_domain_rank_type_positive_points = \"domain_\" + rank_type + \"_positive_points\";\r\n            var string_for_rank_type_negative_points = rank_type + \"_negative_points\";\r\n            var string_for_domain_rank_type_negative_points = \"domain_\" + rank_type + \"_negative_points\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_rank_type_positive_points] = res_data.positive_points;\r\n            json_for_state_change[string_for_domain_rank_type_positive_points] = res_data.domain_positive_points;\r\n            json_for_state_change[string_for_rank_type_negative_points] = res_data.negative_points;\r\n            json_for_state_change[string_for_domain_rank_type_negative_points] = res_data.domain_negative_points;\r\n            if (res_data.rank_code == 0)\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rank_code == 1)\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rank_code'] = res_data.rank_code;\r\n\r\n            var bar_style=make_bar_style(\r\n                res_data.positive_points,\r\n                res_data.negative_points\r\n              )\r\n            var domain_bar_style=make_bar_style(\r\n            res_data.domain_positive_points,\r\n            res_data.domain_negative_points\r\n            )\r\n            json_for_state_change[rank_type + '_bar_style']=bar_style;\r\n            json_for_state_change['domain_' + rank_type + '_bar_style']=domain_bar_style;\r\n            this_of_page_ref.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            if (error.response != null)\r\n                this_of_page_ref.setState({rank_error: error.response.data});\r\n            else\r\n                this_of_page_ref.setState({rank_error: error.message});\r\n        });\r\n}","import axios from 'axios';\r\n\r\nclass Comments_functions {\r\n    constructor() {\r\n    }\r\n\r\n    ranking_function(this_of_comment, rank_type, up_or_down)\r\n    {\r\n        var string_for_comment_upArrow_color = rank_type + \"_upArrowColor\";\r\n        var string_for_comment_downArrow_color = rank_type + \"_downArrowColor\";\r\n        var upArrow = this_of_comment.state[string_for_comment_upArrow_color];\r\n        var downArrow = this_of_comment.state[string_for_comment_downArrow_color];\r\n\r\n        var rank_code = 0;\r\n        if (up_or_down == \"up\")\r\n        {\r\n            if (upArrow != 'green')\r\n                rank_code = 1;\r\n        }\r\n        else\r\n            if (downArrow != 'red')\r\n                rank_code = 2;\r\n\r\n        var opts={\r\n            commentID: this_of_comment.props.comment._id,\r\n            rank_type: rank_type,\r\n            rank_code: rank_code\r\n        };\r\n        axios.post(\"/api/comments/rank_comment\", opts, {\r\n            headers: {'findel-auth-token': this_of_comment.token}\r\n        })\r\n            .then((result) => {\r\n                var res_data = result.data;\r\n                var recived_time = new Date(res_data.ranking_date);\r\n                if (this_of_comment.last_ranking_timeStamp != null)\r\n                    {\r\n                        /*\r\n                         if ids are the same then a deletion was made, so if rank_code is not 0 then\r\n                         the deletion was received earlier\r\n                        */\r\n                         if (this_of_comment.last_ranking_id == res_data.ranking_id)\r\n                            if (res_data.rank_code != 0)\r\n                                return;\r\n                        \r\n                        if (recived_time - this_of_comment.last_ranking_timeStamp < 0)\r\n                            return;\r\n                    }\r\n                this_of_comment.last_ranking_id = res_data.ranking_id;\r\n                this_of_comment.last_ranking_timeStamp = recived_time;\r\n\r\n                var string_for_comment_rank_type_positive_points = rank_type + \"_positive_points\";\r\n                var string_for_comment_rank_type_negative_points = rank_type + \"_negative_points\";\r\n\r\n                var json_for_state_change = {};\r\n                json_for_state_change[string_for_comment_rank_type_positive_points] = res_data.positive_points;\r\n                json_for_state_change[string_for_comment_rank_type_negative_points] = res_data.negative_points;\r\n                if (res_data.rank_code == 0)\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'black';\r\n                }\r\n                else if (res_data.rank_code == 1)\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'green';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'black';\r\n                }\r\n                else\r\n                {\r\n                    json_for_state_change[string_for_comment_upArrow_color] = 'black';\r\n                    json_for_state_change[string_for_comment_downArrow_color] = 'red';\r\n                }\r\n                json_for_state_change['rank_code'] = res_data.rank_code;\r\n\r\n                this_of_comment.setState(json_for_state_change);\r\n            }).catch((error) => {\r\n                this_of_comment.setState({rank_error: error.response.data});\r\n            });\r\n    }\r\n}\r\n\r\nexport default Comments_functions;","import React, { Component } from 'react';\r\nimport './Comment.css';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport Cookies from 'universal-cookie';\r\nimport Comments_functions from './comments_functions';\r\nimport Add_comment from './add_comment';\r\nimport Comments_Array_mapper from './Comments_Array_mapper'; \r\nimport Moment from 'react-moment';\r\n\r\nconst cookies = new Cookies();\r\nconst comments_functions=new Comments_functions();\r\n\r\nclass Comment extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    if (this.props.comment.rankings)\r\n      this.props.comment.rankings.forEach(ranking => {\r\n          if (ranking.rank_type == \"liked\")\r\n          {\r\n            if (ranking.rank_code == 1)\r\n              liked_upArrow = 'green'\r\n            else if(ranking.rank_code == 2)\r\n              liked_downArrow = 'red'\r\n          }\r\n        });\r\n    var user_name_color = \"#0587c3\";\r\n    if (this.props.comment.user.position == \"Teacher\")\r\n      user_name_color = \"green\";\r\n    else if (this.props.comment.user.position == \"Admin\")\r\n      user_name_color = \"brown\";\r\n\r\n    var show_comment_time=false;\r\n    if (this.props.comment.time_made == null)\r\n      show_comment_time=true;\r\n    this.state = {\r\n        liked_upArrowColor: liked_upArrow,\r\n        liked_downArrowColor: liked_downArrow,\r\n        comment: this.props.comment,\r\n        rank_error: \"\",\r\n        liked_positive_points: this.props.comment.liked_positive_points,\r\n        liked_negative_points: this.props.comment.liked_negative_points,\r\n        add_comment_text: \"◊î◊í◊ë+\",\r\n        is_add_comment_hidden: true,\r\n        add_comment_vars: {\r\n          object_id: this.props.comment._id,\r\n          object_collection_name: 'comments',\r\n          root_comment_id: this.props.comment.root_comment\r\n          },\r\n        user_name_color: user_name_color,\r\n        show_comment_time: show_comment_time\r\n      }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n      var add_comment_text_style={cursor: 'pointer'};\r\n      var comment_style={\r\n        \"border-right-color\": \"#0587c3\",\r\n        \"border-right-style\": \"double\",\r\n        \"padding\": \"5px\"\r\n      }\r\n      var user_name_style={\r\n        \"color\": this.state.user_name_color\r\n      }\r\n      var redText={color: \"red\"};\r\n      return (\r\n        <div className=\"Comment\" style={comment_style}>\r\n            <text>\r\n              ({this.state.liked_negative_points}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n              ({this.state.liked_positive_points}) \r\n            </text>\r\n            <text style={user_name_style}>&nbsp;&nbsp;{this.state.comment.user.userName}</text>\r\n            <span hidden={this.state.show_comment_time}><br/><text style={user_name_style}>\r\n              ◊î◊í◊ô◊ë ◊ë: \r\n              <Moment format=\"DD/MM/YYYY HH:mm\">\r\n                {this.props.comment.time_made}\r\n              </Moment>\r\n              </text></span>\r\n            <br/><text>{this.state.comment.text}</text>\r\n            <br/><text style={redText}>{this.state.rank_error}</text>\r\n            <text onClick= {() => this.add_commnet_text_clicked()} style={add_comment_text_style}>{this.state.add_comment_text}</text>\r\n            <div hidden={this.state.is_add_comment_hidden}>\r\n            <Add_comment parrent_object_data={this.state.add_comment_vars}/>\r\n          </div>\r\n            <Comments_Array_mapper key={this.state.comment.id} comments={this.state.comment.sub_comments}/>\r\n        </div>\r\n      );\r\n    }\r\n    add_commnet_text_clicked()\r\n    {\r\n      if (this.state.is_add_comment_hidden)\r\n        this.setState({\r\n          is_add_comment_hidden: false,\r\n          add_comment_text: \"◊î◊í◊ë-\"\r\n        });\r\n      else\r\n        this.setState({\r\n          is_add_comment_hidden: true,\r\n          add_comment_text: \"◊î◊í◊ë+\"\r\n        });\r\n    }\r\n    rank_click_up(rank_type)\r\n    {\r\n      comments_functions.ranking_function(this, rank_type, \"up\")\r\n    }\r\n    rank_click_down(rank_type)\r\n    {\r\n      comments_functions.ranking_function(this, rank_type, \"down\")\r\n    }\r\n}\r\nComment.PropsTypes={\r\n  comment: PropsTypes.object.isRequired\r\n}  \r\nexport default Comment;","import React, { Component } from 'react';\r\nimport Comment from './Comment';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Comments_Array_mapper extends Component {\r\n    render() {\r\n        \r\n        return this.props.comments.map((comment)=>(\r\n            <Comment key={comment.id} comment={comment} />\r\n          ));\r\n    }\r\n}\r\nComments_Array_mapper.PropsTypes={\r\n    comments: PropsTypes.array.isRequired\r\n} \r\n  export default Comments_Array_mapper;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './add_comment.css';\r\nimport Cookies from 'universal-cookie';\r\nimport Comments_Array_mapper from './Comments_Array_mapper';\r\nconst cookies = new Cookies();\r\n\r\nclass Add_comment extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        this.state ={\r\n            comment_text: '',\r\n            comments_added: []\r\n        }\r\n      }\r\n    render() {\r\n        return (\r\n            <div className=\"Add_comment\">\r\n                <Comments_Array_mapper comments={this.state.comments_added}/>\r\n                <textarea value={this.state.comment_text}\r\n                id='comment_textArea'\r\n                rows={6}\r\n                cols={50}\r\n                placeholder=\"◊®◊©◊ï◊ù ◊©◊ê◊ú◊î/◊™◊©◊ï◊ë◊î/◊™◊í◊ï◊ë◊î ◊õ◊ê◊ü...\" \r\n                onChange={evt => this.comment_text_change(evt)}/><br/>\r\n                <button onClick={() => this.send_comment_to_server()}>◊î◊õ◊†◊° ◊™◊í◊ï◊ë◊î</button>\r\n                <br/>\r\n                <text>{this.state.server_message}</text>\r\n            </div>\r\n        );\r\n    }\r\n    comment_text_change(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                comment_text: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    send_comment_to_server()\r\n    {\r\n        var opts={\r\n            text: this.state.comment_text,\r\n            object_id: this.props.parrent_object_data.object_id,\r\n            object_collection_name: this.props.parrent_object_data.object_collection_name,\r\n            root_comment_id: this.props.parrent_object_data.root_comment_id\r\n          };\r\n        axios.post('/api/comments/add_comment', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                response.data.collection_name=response.data.object_collection_name;\r\n                response.data.id=response.data._id;\r\n                response.data.sub_comments=[];\r\n                var comments_added= this.state.comments_added;\r\n                comments_added.push(response.data);\r\n                this.setState({\r\n                    server_message: \"◊î◊ï◊õ◊†◊° ◊ë◊î◊¶◊ú◊ó◊î\",\r\n                    comments_added: comments_added\r\n                });\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n}\r\n\r\n  export default Add_comment;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Add_comment from './add_comment';\r\nimport Comments_Array_mapper from './Comments_Array_mapper'; \r\n\r\nclass Comments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      are_comments_hidden: false,\r\n      show_hide_instruction: \"-◊î◊¶◊í ◊™◊í◊ï◊ë◊ï◊™\"\r\n    }\r\n  }\r\n  render() {\r\n      var show_hide_comments_text_style={cursor: 'pointer'};\r\n      return (\r\n        <div>\r\n          <div>\r\n              <text onClick= {() => this.show_hide_comments_text_clicked()} style={show_hide_comments_text_style}>\r\n              {this.state.show_hide_instruction}\r\n              </text>\r\n          </div>\r\n          <div hidden={this.state.are_comments_hidden}>\r\n              <Comments_Array_mapper comments={this.props.comments}/>\r\n              <br/>\r\n              <text>◊ê◊ï◊°◊£ ◊™◊í◊ï◊ë◊î ◊®◊ê◊©◊ô◊™ ◊ó◊ì◊©◊î</text>\r\n              <Add_comment parrent_object_data={this.props.parrent_object_data}/>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    show_hide_comments_text_clicked()\r\n    {\r\n      if (this.state.are_comments_hidden)\r\n        this.setState({\r\n          are_comments_hidden: false,\r\n          show_hide_instruction: \"-◊î◊°◊™◊® ◊™◊í◊ï◊ë◊ï◊™\"\r\n        });\r\n      else\r\n        this.setState({\r\n          are_comments_hidden: true,\r\n          show_hide_instruction: \"+◊î◊¶◊í ◊™◊í◊ï◊ë◊ï◊™\"\r\n        });\r\n    }\r\n}\r\nComments.PropsTypes={\r\n  comments: PropsTypes.array.isRequired\r\n}  \r\nexport default Comments;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport PropsTypes from 'prop-types';\r\nimport Comments from './Comments'; \r\nimport arrange_comments from './arrange_comments';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Comments_loader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      are_comments_loaded: false,\r\n      comments: []\r\n    }\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n      var load_comments_text_style={cursor: 'pointer'};\r\n      return (\r\n        <div>\r\n          <div hidden={this.state.are_comments_loaded}>\r\n              <text onClick= {() => this.load_comments_text_clicked()} style={load_comments_text_style}>\r\n                ◊™◊í◊ï◊ë◊ï◊™+ ({this.props.data_for_comments.number_of_comments})\r\n              </text>\r\n          </div>\r\n          <div hidden={!this.state.are_comments_loaded}>\r\n              <Comments comments={this.state.comments} parrent_object_data={{\r\n                  object_id: this.props.data_for_comments.object_id,\r\n                  object_collection_name: this.props.data_for_comments.object_collection_name,\r\n                  root_comment_id: null,\r\n                  parrent_comments_array: null\r\n                  }\r\n                }/>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    load_comments_text_clicked()\r\n    {\r\n        var opts={\r\n          object_id: this.props.data_for_comments.object_id,\r\n          object_collection_name: this.props.data_for_comments.object_collection_name\r\n        }\r\n        axios.get(\"/api/comments/retrieve_comments/?object_id=\"+opts.object_id+\"&object_collection_name=\"+opts.object_collection_name, {\r\n            headers: {'findel-auth-token': this.token}\r\n        })\r\n            .then((result) => {\r\n                return result.data;\r\n            })\r\n            .then((comments) =>\r\n            {\r\n                comments = arrange_comments(comments);\r\n                this.setState({\r\n                    comments: comments,\r\n                    are_comments_loaded: true\r\n                })\r\n                    \r\n            })\r\n            .catch((error) => {\r\n                console.log(error.message);\r\n            });\r\n    }\r\n}\r\nComments.PropsTypes={\r\n  comments: PropsTypes.array.isRequired\r\n}  \r\nexport default Comments_loader;","export default function arrange_comments(comments_array){\r\n    var comments = {};\r\n    comments[\"root\"]=[];\r\n    comments_array.forEach(comment => {\r\n        comments[comment._id] = [];\r\n        comment.sub_comments = comments[comment._id];\r\n        comment.id = comment._id;\r\n        if (comment.object_collection_name!=\"comments\")\r\n            comments[\"root\"].push(comment);\r\n    });\r\n\r\n    comments_array.forEach(comment => {\r\n        if (comment.object_collection_name==\"comments\")\r\n            comments[comment.object_id].push(comment);\r\n    });\r\n\r\n    comments[\"root\"].sort((comment1, comment2)=>{\r\n        return comment2.liked÷π_positive_points - comment1.liked÷π_positive_points;\r\n    });\r\n    comments_array.forEach(comment => {\r\n        comment.sub_comments.sort((sub_comment1, sub_comment2)=>{\r\n            return sub_comment2.liked÷π_positive_points - sub_comment1.liked÷π_positive_points;\r\n        });\r\n    });\r\n    return comments[\"root\"];\r\n}","export default function round(num)\r\n{\r\n  var until_place= 1;\r\n  var x= Math.round(num * Math.pow(10, until_place)) / Math.pow(10, until_place).toFixed(until_place)\r\n  return x;\r\n} ","import React, { Component } from 'react';\r\nimport './Page_ref.css';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport {faHeart} from '@fortawesome/free-regular-svg-icons';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\nimport {faBook} from '@fortawesome/free-solid-svg-icons';\r\nimport {faGlobe} from '@fortawesome/free-solid-svg-icons';\r\nimport Cookies from 'universal-cookie';\r\nimport rank_function from './rank_function';\r\nimport {ProgressBar} from 'react-bootstrap';\r\nimport make_bar_style from '../../common_functions/make_bar_style';\r\nimport Comments_loader from '../../Comments_components/Comments_loader';\r\nimport round from '../../round_function';\r\nconst cookies = new Cookies();\r\n\r\nclass Page_ref extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var credibility_upArrow='black';\r\n    var credibility_downArrow='black';\r\n    var educational_upArrow='black';\r\n    var educational_downArrow='black';\r\n\r\n    if (this.props.page_ref.rankings !== undefined)\r\n      this.props.page_ref.rankings.forEach(ranking => {\r\n          if (ranking.rank_type == \"liked\")\r\n          {\r\n            if (ranking.rank_code == 1)\r\n              liked_upArrow = 'green'\r\n            else\r\n              liked_downArrow = 'red'\r\n          }\r\n        });\r\n\r\n    if (this.props.page_ref.page.rankings !== undefined)\r\n      this.props.page_ref.page.rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"credibility\")\r\n            {\r\n              if (ranking.rank_code == 1)\r\n                credibility_upArrow = 'green'\r\n              else\r\n                credibility_downArrow = 'red'\r\n            }\r\n\r\n            if (ranking.rank_type == \"educational\")\r\n            {\r\n              if (ranking.rank_code == 1)\r\n                educational_upArrow = 'green'\r\n              else\r\n                educational_downArrow = 'red'\r\n            }\r\n          });\r\n\r\n    var liked_bar_style=make_bar_style(\r\n      this.props.page_ref.liked_positive_points,\r\n      this.props.page_ref.liked_negative_points,\r\n      )\r\n    var credibility_bar_style=make_bar_style(\r\n      this.props.page_ref.page.credibility_positive_points,\r\n      this.props.page_ref.page.credibility_negative_points,\r\n      )\r\n    var educational_bar_style=make_bar_style(\r\n      this.props.page_ref.page.educational_positive_points,\r\n      this.props.page_ref.page.educational_negative_points,\r\n      )\r\n    var domain_liked_bar_style=make_bar_style(\r\n      this.props.page_ref.page.domain.liked_positive_points,\r\n      this.props.page_ref.page.domain.liked_negative_points,\r\n      )\r\n    var domain_credibility_bar_style=make_bar_style(\r\n      this.props.page_ref.page.domain.credibility_positive_points,\r\n      this.props.page_ref.page.domain.credibility_negative_points,\r\n      )\r\n    var domain_educational_bar_style=make_bar_style(\r\n      this.props.page_ref.page.domain.educational_positive_points,\r\n      this.props.page_ref.page.domain.educational_negative_points,\r\n      )\r\n\r\n    this.state = {\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      credibility_upArrowColor: credibility_upArrow,\r\n      credibility_downArrowColor: credibility_downArrow,\r\n      educational_upArrowColor: educational_upArrow,\r\n      educational_downArrowColor: educational_downArrow,\r\n      rank_error: \"\",\r\n      liked_positive_points: this.props.page_ref.liked_positive_points,\r\n      credibility_positive_points: this.props.page_ref.page.credibility_positive_points,\r\n      educational_positive_points: this.props.page_ref.page.educational_positive_points,\r\n      liked_negative_points: this.props.page_ref.liked_negative_points,\r\n      credibility_negative_points: this.props.page_ref.page.credibility_negative_points,\r\n      educational_negative_points: this.props.page_ref.page.educational_negative_points,\r\n      rank_code: this.props.page_ref.userrank_code,\r\n      domain_liked_positive_points: this.props.page_ref.page.domain.liked_positive_points,\r\n      domain_credibility_positive_points: this.props.page_ref.page.domain.credibility_positive_points,\r\n      domain_educational_positive_points: this.props.page_ref.page.domain.educational_positive_points,\r\n      domain_liked_negative_points: this.props.page_ref.page.domain.liked_negative_points,\r\n      domain_credibility_negative_points: this.props.page_ref.page.domain.credibility_negative_points,\r\n      domain_educational_negative_points: this.props.page_ref.page.domain.educational_negative_points,\r\n      liked_bar_style: liked_bar_style,\r\n      credibility_bar_style: credibility_bar_style,\r\n      educational_bar_style: educational_bar_style,\r\n      domain_liked_bar_style: domain_liked_bar_style,\r\n      domain_credibility_bar_style: domain_credibility_bar_style,\r\n      domain_educational_bar_style: domain_educational_bar_style,\r\n      data_for_comments:{\r\n        object_id: this.props.page_ref.page._id,\r\n        object_collection_name: 'pages',\r\n        number_of_comments: this.props.page_ref.page.number_of_comments\r\n    }\r\n    }\r\n    this['last_ranking_timeStamp_liked'] = null;\r\n    this['last_ranking_id_liked'] = null;\r\n    this['last_ranking_timeStamp_credibility'] = null;\r\n    this['last_ranking_id_credibility'] = null;\r\n    this['last_ranking_timeStamp_educational'] = null;\r\n    this['last_ranking_id_educational'] = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    var more_on_page_textStyle={color: '#0587c3'};\r\n    return (\r\n          <div className=\"a_page_ref\">\r\n            <text><a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page_ref.page.pageURL}>{this.props.page_ref.page.pageURL}</a></text>\r\n            <br/><text>{this.props.page_ref.page.pageSnap}</text>\r\n            <table>\r\n            <tr>\r\n              <td align='left'>\r\n                ({round(this.state.liked_negative_points)}) \r\n                <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              </td>\r\n              <td className='progress_bar_td'>\r\n                <ProgressBar\r\n                variant={this.state.liked_bar_style[1]}\r\n                now={this.state.liked_bar_style[0]} />\r\n              </td>\r\n              <td align='right'>\r\n                <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/>\r\n                ({round(this.state.liked_positive_points)})\r\n                <FontAwesomeIcon icon={faHeart}/>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td align='left'>\r\n              ({round(this.state.credibility_negative_points)}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.credibility_downArrowColor} onClick={() => this.rank_click_down(\"credibility\")}/>\r\n              </td>\r\n              <td>\r\n              <ProgressBar\r\n                variant={this.state.credibility_bar_style[1]}\r\n                now={this.state.credibility_bar_style[0]} />\r\n              </td>\r\n              \r\n              <td align='right'>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.credibility_upArrowColor} onClick={() => this.rank_click_up(\"credibility\")}/> \r\n              ({round(this.state.credibility_positive_points)}) \r\n              <FontAwesomeIcon icon={faSearch}/>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td align='left'>\r\n              ({round(this.state.educational_negative_points)}) \r\n              <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n              </td>\r\n              <td>\r\n              <ProgressBar\r\n                variant={this.state.educational_bar_style[1]}\r\n                now={this.state.educational_bar_style[0]} />\r\n              </td>\r\n              \r\n              <td align='right'>\r\n              <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n              ({round(this.state.educational_positive_points)})\r\n              <FontAwesomeIcon icon={faBook}/>\r\n              </td>\r\n            </tr>\r\n            </table>\r\n\r\n            <table>\r\n              <tr>\r\n              <td align='left'>({round(this.state.domain_liked_negative_points)})</td>\r\n              <td className='progress_bar_domain_td'>\r\n              <ProgressBar\r\n                variant={this.state.domain_liked_bar_style[1]}\r\n                now={this.state.domain_liked_bar_style[0]} />\r\n              </td>\r\n              <td align='right'>\r\n                ({round(this.state.domain_liked_positive_points)})\r\n                <FontAwesomeIcon icon={faGlobe}/>\r\n                <small><FontAwesomeIcon icon={faHeart}/></small>\r\n              </td>\r\n              </tr>\r\n            \r\n            <tr>\r\n              <td align='left'>({round(this.state.domain_credibility_negative_points)})</td>\r\n              <td>\r\n              <ProgressBar\r\n                variant={this.state.domain_credibility_bar_style[1]}\r\n                now={this.state.domain_credibility_bar_style[0]} />\r\n              </td>\r\n              <td align='right'>\r\n                ({round(this.state.domain_credibility_positive_points)})\r\n                <FontAwesomeIcon icon={faGlobe}/>\r\n                <small><FontAwesomeIcon icon={faSearch}/></small>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td align='left'>({round(this.state.domain_educational_negative_points)})</td>\r\n              <td>\r\n              <ProgressBar\r\n                variant={this.state.domain_educational_bar_style[1]}\r\n                now={this.state.domain_educational_bar_style[0]} />\r\n              </td>\r\n              <td align='right'>\r\n                ({round(this.state.domain_educational_positive_points)})\r\n                <FontAwesomeIcon icon={faGlobe}/>\r\n                <small><FontAwesomeIcon icon={faBook}/></small>\r\n              </td>\r\n            </tr>\r\n            </table>\r\n            <text style={redText}>{this.state.rank_error}</text>\r\n            <Comments_loader data_for_comments={this.state.data_for_comments}/>\r\n            <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_on_page_textStyle} href={\"/Page_page/\"+encodeURIComponent(this.props.page_ref.page.pageURL)}>◊¢◊ï◊ì ◊¢◊ú ◊î◊ì◊£...</a>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    rank_function(this, rank_type, \"up\");\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    rank_function(this, rank_type, \"down\");\r\n  }\r\n}\r\nPage_ref.PropsTypes={\r\n    page_ref: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_ref;","import React, { Component } from 'react';\r\nimport Page_ref from './Page_ref';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages_refs_mapper extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages_ref.map((page_ref)=>(\r\n            <Page_ref key={page_ref.id} page_ref={page_ref} />\r\n          ));\r\n    }\r\n}\r\nPages_refs_mapper.PropsTypes={\r\n    pages_refs: PropsTypes.array.isRequired\r\n} \r\n  export default Pages_refs_mapper;","import React, { Component } from 'react';\r\nimport Pages_ref_mapper from './Pages_ref_mapper';\r\nimport PropsTypes from 'prop-types';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faHeart} from '@fortawesome/free-regular-svg-icons';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\nimport {faBook} from '@fortawesome/free-solid-svg-icons';\r\nimport {faGlobe} from '@fortawesome/free-solid-svg-icons';\r\nclass Pages_refs extends Component {\r\n    render() {\r\n        if (this.props.pages_ref.length > 0)\r\n            return(\r\n                <div>\r\n                <div style={{\"text-align\": \"right\"}}>\r\n                    <span className=\"field-tip\">\r\n                        <FontAwesomeIcon icon={faHeart}/>*\r\n                        <span className=\"tip-content\">\r\n                            ◊†◊ô◊ß◊ï◊ì ◊ú◊î◊ê◊ù ◊ê◊î◊ë◊™◊ù ◊ê◊™ ◊™◊ï◊õ◊ü ◊î◊ì◊£ (◊ô◊ô◊©◊û◊® ◊ë◊î◊ß◊©◊® ◊ú◊ó◊ô◊§◊ï◊©)\r\n                        </span>\r\n                    </span>&nbsp;\r\n                    <span className=\"field-tip\">\r\n                        <FontAwesomeIcon icon={faSearch}/>*\r\n                        <span className=\"tip-content\">\r\n                        ◊ê◊û◊ô◊†◊ï◊™ ◊î◊™◊ï◊õ◊ü ◊ë◊ì◊£:\r\n                        <br/>\r\n                        ‚Ä¢\t◊¢◊ì ◊õ◊û◊î ◊î◊©◊§◊î ◊ï◊ê◊ï◊¶◊® ◊î◊û◊ô◊ú◊ô◊ù ◊ë◊®◊û◊î ◊í◊ë◊ï◊î◊î ◊ï◊û◊ß◊¶◊ï◊¢◊ô◊™?\r\n                        <br/>\r\n                        <br/>\r\n                        ‚Ä¢\t◊õ◊û◊î ◊§◊®◊°◊ï◊û◊ï◊™ ◊ß◊ô◊ô◊û◊ï◊™ ◊ë◊ì◊£? ◊ë◊ê◊™◊®◊ô◊ù ◊î◊û◊®◊ï◊ï◊ô◊ó◊ô◊ù ◊õ◊°◊£ ◊û◊§◊®◊°◊ï◊ù ◊ß◊ô◊ô◊ù ◊°◊ô◊õ◊ï◊ô ◊í◊ë◊ï◊î◊î ◊ô◊ï◊™◊®, ◊©◊ú ◊í◊ï◊®◊û◊ô◊ù ◊ó◊ô◊¶◊ï◊†◊ô◊ô◊ù, ◊ú◊û◊û◊ü ◊õ◊™◊ë◊ï◊™ ◊ï/◊ê◊ï ◊ú◊î◊©◊§◊ô◊¢ ◊¢◊ú ◊™◊ï◊õ◊ü ◊î◊ê◊™◊®.\r\n                        <br/>\r\n                        <br/>\r\n                        ‚Ä¢\t◊û◊ô ◊õ◊™◊ë ◊ê◊™ ◊î◊ì◊£? ◊î◊ê◊ù ◊ô◊© ◊ú◊ï ◊û◊†◊ô◊¢◊î ◊û◊°◊ï◊ô◊ù ◊©◊ô◊õ◊ï◊ú ◊ú◊î◊©◊§◊ô◊¢ ◊¢◊ú ◊©◊ô◊ß◊ï◊ú ◊ì◊¢◊™◊ï?\r\n                        ◊û◊î◊ï ◊û◊ß◊ï◊® ◊î◊ô◊ì◊¢ ◊©◊ú◊ï?\r\n                        <br/>\r\n                        <br/>\r\n                        <br/>\r\n                        ◊ú◊ê◊ó◊® ◊©◊©◊ê◊ú◊™◊ù ◊©◊ê◊ú◊ï◊™ ◊ê◊ú◊ï: ◊ê◊ù ◊ê◊™◊ù ◊ë◊®◊ï◊©◊ù ◊©◊î◊ì◊£ ◊ê◊û◊ô◊ü, ◊°◊û◊†◊ï ◊ê◊ï◊™◊ï ◊õ◊õ◊ñ◊î. ◊ê◊ù ◊†◊™◊ß◊ú◊™◊ù ◊ë◊ê◊ó◊ì ◊ê◊ï ◊û◊°◊§◊® ◊ì◊ë◊®◊ô◊ù ◊ú◊ê ◊™◊ß◊ô◊†◊ô◊ù, ◊°◊û◊†◊ï ◊ê◊ï◊™◊ï ◊õ◊ú◊ê ◊ê◊û◊ô◊ü. ◊ê◊ù ◊ê◊ô◊†◊õ◊ù ◊ë◊ò◊ï◊ó◊ô◊ù, ◊î◊©◊ê◊ô◊®◊ï ◊ê◊ï◊™◊ï ◊ë◊û◊¶◊ë ◊î◊ß◊ô◊ô◊ù.\r\n                        </span>\r\n                    </span>&nbsp;\r\n                    <span className=\"field-tip\">\r\n                        <FontAwesomeIcon icon={faBook}/>*\r\n                        <span className=\"tip-content\">\r\n                            ◊†◊ô◊ß◊ï◊ì ◊ú◊î◊ê◊ù ◊î◊ì◊£ ◊û◊õ◊ô◊ú ◊™◊ï◊õ◊ü ◊ú◊ô◊û◊ï◊ì◊ô\r\n                        </span>\r\n                    </span>&nbsp;\r\n                    <span className=\"field-tip\">\r\n                        <FontAwesomeIcon icon={faGlobe}/>*\r\n                        <span className=\"tip-content\">\r\n                            ◊†◊ô◊ß◊ï◊ì ◊û◊¶◊ò◊ë◊® ◊û◊õ◊ú◊ú ◊î◊ì◊§◊ô◊ù ◊ë◊ê◊™◊®\r\n                        </span>\r\n                    </span>\r\n                </div>\r\n                <div>\r\n                    <Pages_ref_mapper pages_ref={this.props.pages_ref}/>\r\n                </div>\r\n                </div>\r\n            );\r\n        else\r\n            return(\r\n                <div>\r\n                    <Pages_ref_mapper pages_ref={this.props.pages_ref}/>\r\n                </div>\r\n            );\r\n    }\r\n}\r\nPages_refs.PropsTypes={\r\n    pages_refs: PropsTypes.array.isRequired\r\n} \r\n  export default Pages_refs;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAmbigousTitle.css';\r\nclass AAmbigousTitle extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"title\">\r\n      <text><u><b>{this.props.theTitle}</b></u></text>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nAAmbigousTitle.PropsTypes={\r\n    theTitle: PropsTypes.string.isRequired\r\n}   \r\nexport default AAmbigousTitle;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport './AAAmbigousSubject.css';\r\nclass AAAmbigousSubject extends Component {\r\n  render() {\r\n    return (\r\n    <div className=\"subject\">\r\n      <text>\r\n      <a target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.subject.name}>\r\n      {this.props.subject.name}</a>: \r\n      {this.props.subject.description}</text>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nAAAmbigousSubject.PropsTypes={\r\n    subject: PropsTypes.object.isRequired\r\n}   \r\nexport default AAAmbigousSubject;","import React, { Component } from 'react';\r\nimport AmbigousSubject from './AAAmbigousSubject';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass AAmbigousSubjects extends Component {\r\n    render() {\r\n        \r\n        return this.props.theSubjects.map((aData)=>(\r\n                <AmbigousSubject key={aData.id} subject={aData}/>\r\n          ));\r\n          \r\n    }\r\n}\r\nAAmbigousSubjects.PropsTypes={\r\n  theSubjects: PropsTypes.array.isRequired\r\n} \r\n  export default AAmbigousSubjects;","import React, { Component } from 'react';\r\nimport AambigousTitle from './AAmbigousTitle';\r\nimport AmbigousSubjects from './AAmbigousSubjects';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Ambigous extends Component {\r\n    render() {\r\n        \r\n        return this.props.ambigousData.map((aData)=>(\r\n            <React.Fragment>\r\n                <AambigousTitle key={aData.id} theTitle={aData.title} />\r\n                <AmbigousSubjects key={aData.subID} theSubjects={aData.subjects}/>\r\n            </React.Fragment>\r\n          ));\r\n          \r\n    }\r\n}\r\nAmbigous.PropsTypes={\r\n    aData: PropsTypes.array.isRequired\r\n} \r\n  export default Ambigous;","import axios from 'axios';\r\n\r\nexport default async function request_topic_and_connected_topics_from_server(this_of_searchPage)\r\n{\r\n    this_of_searchPage.topic=null;\r\n    await axios.get(\"/api/topic_topic_edges/search_for_connected_topics_in_db_and_wikipedia/?search=\"+this_of_searchPage.curSearch,{\r\n        headers: {'findel-auth-token': this_of_searchPage.token}\r\n    })\r\n    .then(async(result) => {\r\n        if (result.data.ambig!=null)\r\n        {\r\n            result.data.ambig.forEach(category => {\r\n                category.id=this_of_searchPage.id;\r\n                this_of_searchPage.id++;\r\n                category.subID=this_of_searchPage.id;\r\n                this_of_searchPage.id++;\r\n                category[\"subjects\"].forEach(subject => {\r\n                    subject.id=this_of_searchPage.id;\r\n                    this_of_searchPage.id++;\r\n                });\r\n            });\r\n            this_of_searchPage.setState({\r\n                ambigousData: result.data.ambig\r\n            });\r\n            this_of_searchPage.ambig_for_history=result.data.ambig;\r\n            this_of_searchPage.search_button_function_stop_search();\r\n        }\r\n        else \r\n        {\r\n            this_of_searchPage.topic = result.data;\r\n            this_of_searchPage.connected_topics_edges= result.data.topic_topic_edges;\r\n            if (result.data.wikiText!=null)\r\n                this_of_searchPage.wikiText= result.data.wikiText;\r\n        }\r\n    }).catch( (error) => {\r\n        if (error.respnse!=null)\r\n            this_of_searchPage.setState({\r\n                server_message: error.respnse.data\r\n            });\r\n        else\r\n            this_of_searchPage.setState({\r\n                server_message: error.message\r\n            });\r\n        this_of_searchPage.search_button_function_stop_search();\r\n    });\r\n}","export default function sort_page_topic_edges(full_page_topic_edges_array)\r\n{\r\n    full_page_topic_edges_array.sort(function(page_topic_edge1, page_topic_edge2){\r\n        if (page_topic_edge2.order_index_by_google===0) return 1;\r\n        if (page_topic_edge1.order_index_by_google===0) return -1;\r\n        if (page_topic_edge2.order_index_by_google==null && page_topic_edge1.order_index_by_google==null) return 0;\r\n        if (page_topic_edge2.order_index_by_google!=null && page_topic_edge1.order_index_by_google==null) return 1;\r\n        if (page_topic_edge2.order_index_by_google==null && page_topic_edge1.order_index_by_google!=null) return -1;\r\n        return page_topic_edge1.order_index_by_google-page_topic_edge2.order_index_by_google;\r\n    });\r\n    full_page_topic_edges_array.sort(function(page_topic_edge1, page_topic_edge2){\r\n        if (page_topic_edge2.page.domain.liked_positive_points < 1 && page_topic_edge1.page.domain.liked_positive_points>=1)\r\n            return -1;\r\n        else if (page_topic_edge2.page.domain.liked_positive_points >= 1 && page_topic_edge1.page.domain.liked_positive_points < 1)\r\n            return 1;\r\n        else if (page_topic_edge2.page.domain.liked_positive_points < 1 && page_topic_edge1.page.domain.liked_positive_points < 1)\r\n            return page_topic_edge2.page.domain.liked_positive_points-page_topic_edge1.page.domain.liked_positive_points;\r\n        else\r\n        return 0;\r\n    });\r\n    full_page_topic_edges_array.sort(function(page_topic_edge1, page_topic_edge2){\r\n        return page_topic_edge2.page.educational_positive_points - page_topic_edge1.page.educational_positive_points\r\n    });\r\n    full_page_topic_edges_array.sort(function(page_topic_edge1, page_topic_edge2){\r\n        return page_topic_edge2.page.credibility_positive_points - page_topic_edge1.page.credibility_positive_points\r\n    });\r\n    full_page_topic_edges_array.sort(function(page_topic_edge1, page_topic_edge2){\r\n        return page_topic_edge2.liked_positive_points - page_topic_edge1.liked_positive_points\r\n    });\r\n    var temp;\r\n    for (var index=0; index<full_page_topic_edges_array[index]-1; index+=2)\r\n        if (full_page_topic_edges_array[index].page.domain.liked_positive_points < full_page_topic_edges_array[index+1].page.domain.liked_positive_points)\r\n        {\r\n            temp=full_page_topic_edges_array[index];\r\n            full_page_topic_edges_array[index]=full_page_topic_edges_array[index+1];\r\n            full_page_topic_edges_array[index+1]=temp;\r\n        }\r\n    return full_page_topic_edges_array;\r\n}","import axios from 'axios';\r\nimport sort_page_topic_edges from './sort_page_topic_edges';\r\n\r\nexport default async function request_pages_from_server(search, this_of_searchPage)\r\n{\r\n    await axios.get(\"/api/page_topic_edges/update_and_retrieve_topic_to_pages_edges_using_google/?search=\"+search,{\r\n        headers: {'findel-auth-token': this_of_searchPage.token}\r\n    })\r\n        .then((result) => {\r\n            return result.data;\r\n        }).then((page_topic_edges) => {\r\n            var full_page_topic_edges_list_from_server=page_topic_edges;\r\n            \r\n            var sorted_page_topic_edges = sort_page_topic_edges(full_page_topic_edges_list_from_server);\r\n            \r\n            for (var index=0; index<sorted_page_topic_edges.length; index++)\r\n                sorted_page_topic_edges[index].index=index;\r\n            \r\n            var page_topic_edges_use=[];\r\n            this_of_searchPage.page_displayed_so_far_index=0;\r\n            var num_of_initial_page_topic_edges=9;\r\n            for (var index=0; index<sorted_page_topic_edges.length && index<num_of_initial_page_topic_edges; index++)\r\n                {\r\n                    page_topic_edges_use.push(sorted_page_topic_edges[index]);\r\n                    this_of_searchPage.page_displayed_so_far_index++;\r\n                }\r\n            \r\n            this_of_searchPage.page_topic_edges_from_server_to_use=page_topic_edges_use;\r\n            this_of_searchPage.full_page_topic_edges_list_from_server=sorted_page_topic_edges;\r\n        }).catch((error) => {\r\n            if (error.message===\"Network Error\")\r\n                this_of_searchPage.setState({\r\n                    server_message: \"◊ú◊ê ◊û◊¶◊ú◊ô◊ó ◊ú◊î◊í◊ô◊¢ ◊ú◊©◊®◊™\"\r\n                });\r\n            else if (error.response == null)\r\n                this_of_searchPage.setState({\r\n                    server_message: error.message\r\n                });\r\n            else\r\n                this_of_searchPage.setState({\r\n                    server_message: error.response.data\r\n                });\r\n        });\r\n}\r\n\r\n","export default function display_pages_scrape_process(this_of_searchPage)\r\n{\r\n    var pageToSearchArray=[];\r\n    var stats=\"fa fa-spinner fa-spin\";\r\n    for (var index=0; index<this_of_searchPage.page_topic_edges_from_server_to_use.length; index++)\r\n        {\r\n            pageToSearchArray.push({id: this_of_searchPage.id, \r\n                pageURL: this_of_searchPage.page_topic_edges_from_server_to_use[index].page.pageURL, \r\n                scrape: stats});\r\n            this_of_searchPage.id++;\r\n        }\r\n    this_of_searchPage.setState({\r\n        pages_in_search: pageToSearchArray\r\n    });\r\n    \r\n}","class rabinKarpSearch {\r\n\tR;\r\n\tQ;\r\n\tnumOfChars;\r\n\tRMarray;\r\n\tconstructor(primeQ, numOfPatternsLength, num_of_pages) {\r\n\t  //var R = 65536;\r\n\t  var R= 10176;\r\n\t  var Q = primeQ;\r\n\t  var numOfChars = numOfPatternsLength;\r\n\t  var RMarray=[];\r\n\t  RMarray.push(1);\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n\t\t  RMarray.push((R * RMarray[i-1]) % Q);\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n\t  this.numOfChars=numOfPatternsLength;\r\n\t  this.RMarray=RMarray;\t\r\n\t  this.num_of_pages=num_of_pages;\r\n\t  \r\n\t  this.pages_hashes=[];\r\n\t  for (var index=0; index<num_of_pages; index++)\r\n\t  {\r\n\t\t  var arr=[];\r\n\t\t  arr[numOfPatternsLength-1]=null;\r\n\t\t  this.pages_hashes.push(arr);\r\n\t  }\r\n\r\n\t  this.texts=[];\r\n\t  this.texts[num_of_pages-1]=null;\r\n\r\n\t  this.wikiLinks_hashes_to_word_by_length=null;\r\n\t  this.words_matricies_by_length=null;\r\n\t  }\r\n\t  \r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\thashWikiLinks(wikiLinks){\r\n\tvar words_matricies_by_length=[];\r\n\tvar wikiLinks_hashes_to_word_by_length=[];\r\n\tfor (var index=0; index<this.numOfChars; index++)\r\n\t{\r\n\t\twikiLinks_hashes_to_word_by_length.push([]);\r\n\t\tvar arr=[];\r\n\t\tarr[this.Q-1]=undefined;\r\n\t\twords_matricies_by_length.push(arr);\r\n\t}\r\n\r\n\t\r\n\tfor (index=0; index<wikiLinks.length; index++)\r\n\t\tif (wikiLinks[index].topicName!=null)\r\n\t\t\tif (wikiLinks[index].topicName.length<this.numOfChars)\r\n\t\t\t{\r\n\t\t\t\tvar pages_hits=[];\r\n\t\t\t\tpages_hits[this.num_of_pages-1]=null;\r\n\t\t\t\tvar page=wikiLinks[index].topicName;\r\n\t\t\t\tvar patLength=page.length-1;\r\n\t\t\t\twikiLinks_hashes_to_word_by_length[patLength].push({linkName: page, \r\n\t\t\t\t\tindex_in_connected_topics_edges: wikiLinks[index].index_in_connected_topics_edges, \r\n\t\t\t\t\thash: -1, \r\n\t\t\t\t\tpages_hits: pages_hits});\r\n\t\t\t}\r\n\tvar curLength=1;\r\n\t\twikiLinks_hashes_to_word_by_length.forEach(linksInLength => {\r\n\t\tif (linksInLength[0]!=null)\r\n\t\t{\r\n\t\t\tvar linkLength=curLength;\r\n\t\t\tvar linkIndex=0;\r\n\t\t\tlinksInLength.forEach(link => {\r\n\t\t\t\tlink.hash=this.hash(link.linkName, linkLength);\r\n\t\t\t\tvar wordsMatriciesInLenght=words_matricies_by_length[linkLength-1];\r\n\t\t\t\tif (wordsMatriciesInLenght[link.hash]==undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\twordsMatriciesInLenght[link.hash]=[{\r\n\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar findIfLinkAlreadyInHashInMatrix=wordsMatriciesInLenght[link.hash].find(element=>{\r\n\t\t\t\t\t\treturn element.linkName=link.linkName;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (!findIfLinkAlreadyInHashInMatrix)\r\n\t\t\t\t\t\twordsMatriciesInLenght[link.hash].push({\r\n\t\t\t\t\t\t\tlinkName: link.linkName,\r\n\t\t\t\t\t\t\tlinkIndex: linkIndex\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlinkIndex++;\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t\tcurLength++;\r\n\t});\r\n\tthis.wikiLinks_hashes_to_word_by_length=wikiLinks_hashes_to_word_by_length;\r\n\tthis.words_matricies_by_length=words_matricies_by_length;\r\n\t}\r\n\r\n\tcreatHashTables(text, pageIndex) {\r\n\t\tfor (var curNumOfChars=1; curNumOfChars<=this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashTableLength=text.length-curNumOfChars+1;\r\n\t\t\tvar hashedTable=[];\r\n\t\t\tvar txtHash = this.hash(text, curNumOfChars);\r\n\t\t\thashedTable[0]=txtHash;\r\n\t\t\tfor (var index = 1; index < hashTableLength; index++) {\r\n\t\t\t\ttxtHash = (txtHash + this.Q - this.RMarray[curNumOfChars-1]*text.charCodeAt(index-1)% this.Q) % this.Q;\r\n\t\t\t\ttxtHash = (txtHash*this.R + text.charCodeAt(index-1+curNumOfChars)) % this.Q;\r\n\t\t\t\thashedTable[index]=txtHash;\r\n\t\t\t\t}\r\n\t\t\tthis.pages_hashes[pageIndex][curNumOfChars-1]=hashedTable;\r\n\t\t}\r\n\t\tthis.texts[pageIndex]=text;\r\n\t}\r\n\r\n\tadd_hits_from_page(page, pageIndex)\r\n\t{\r\n\t\tvar pageText=this.texts[pageIndex];\r\n\t\tvar page_hashes=this.pages_hashes[pageIndex]\r\n\t\tvar stringFromText;\r\n\t\tvar num_of_links_in_page=0;\r\n\t\t//pageHit[pageIndex]={\"pageHits\": 0, \"pageOriginalIndex\": pageIndex};\r\n\t\tfor (var curNumOfChars=0; curNumOfChars<this.numOfChars; curNumOfChars++)\r\n\t\t{\r\n\t\t\tvar hashed_link_martix=this.words_matricies_by_length[curNumOfChars];\r\n\t\t\tvar page_hash=page_hashes[curNumOfChars];\r\n\t\t\tvar textIndex=0;\r\n\t\t\tpage_hash.forEach(hash => {\r\n\t\t\t\tif (hashed_link_martix[hash]!=undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\tstringFromText=pageText.substring(textIndex,textIndex+curNumOfChars+1);\r\n\t\t\t\t\thashed_link_martix[page_hash[textIndex]].forEach(element => {\r\n\t\t\t\t\t\tif (stringFromText==element.linkName)\r\n\t\t\t\t\t\t\tif (this.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]==null)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tthis.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]=1;\r\n\t\t\t\t\t\t\t\tnum_of_links_in_page++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tthis.wikiLinks_hashes_to_word_by_length[curNumOfChars][element.linkIndex].pages_hits[pageIndex]++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\ttextIndex++;\r\n\t\t\t});\r\n\t\t}\r\n\t\tpage.num_of_links_in_page=num_of_links_in_page;\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\nexport default rabinKarpSearch;","class Jaccard_similarity {\r\n\tR;\r\n\tQ;\r\n    numOfChars;\r\n    RM;\r\n\tconstructor(primeQ, numOfChars, prime_page_text) {\r\n\t  var R = 65536;\r\n\t  var Q = primeQ;\r\n      this.RM = 1;\r\n\t  for (var i = 1; i < numOfChars; i++)\r\n      this.RM = (R * this.RM) % Q;\r\n\t  this.R=R;\r\n\t  this.Q=primeQ;\r\n      this.numOfChars=numOfChars;\r\n      var prime_page_hash=this.creatHashTable(prime_page_text);\r\n      this.create_sets_array(prime_page_text, prime_page_hash);\r\n    }\r\n\thash(pattern, patLength) {\r\n\t\tvar h = 0;\r\n\t\tfor (var j = 0; j < patLength; j++)\r\n\t\t\th = (this.R * h + pattern.charCodeAt(j)) % this.Q;\r\n\t\treturn h;\r\n\t}\r\n\r\n\tcreatHashTable(pageText) {\r\n        var hashTableLength=pageText.length-this.numOfChars+1;\r\n        var hashedTable=[];\r\n        var txtHash = this.hash(pageText, this.numOfChars);\r\n        hashedTable[0]=txtHash;\r\n        for (var index = 1; index < hashTableLength; index++) {\r\n            txtHash = (txtHash + this.Q - this.RM*pageText.charCodeAt(index-1)% this.Q) % this.Q;\r\n            txtHash = (txtHash*this.R + pageText.charCodeAt(index-1+this.numOfChars)) % this.Q;\r\n            hashedTable[index]=txtHash;\r\n            }\r\n        return hashedTable;\r\n    }\r\n    \r\n    create_sets_array(prime_page_text, prime_page_hash)\r\n    {\r\n        var index=0;\r\n        var hashed_set_array = [];\r\n        hashed_set_array[this.Q-1]=undefined;\r\n        prime_page_hash.forEach(hashed => {\r\n            var sub_string = prime_page_text.substring(index, index+this.numOfChars);\r\n            if (hashed_set_array[hashed]==undefined)\r\n            {\r\n                hashed_set_array[hashed]={};\r\n                hashed_set_array[hashed][sub_string] = {primePage: 1, page_to_compare: 0};\r\n            }\r\n            else if (hashed_set_array[hashed][sub_string] == undefined)\r\n                hashed_set_array[hashed][sub_string] = {primePage: 1, page_to_compare: 0};\r\n            index++;\r\n        });\r\n        this.hashed_set_array = hashed_set_array;\r\n    }\r\n\r\n\tcompute_page_similarity(pageText)\r\n\t{\r\n        var index=0;\r\n        var pageHash=this.creatHashTable(pageText);\r\n        pageHash.forEach(hashed => {\r\n            var sub_string = pageText.substring(index, index+this.numOfChars); \r\n            if (this.hashed_set_array[hashed]==undefined)\r\n            {\r\n                this.hashed_set_array[hashed]={};\r\n                this.hashed_set_array[hashed][sub_string] = {primePage: 0, page_to_compare: 1};\r\n            }\r\n            else if(this.hashed_set_array[hashed][sub_string]==undefined)\r\n                this.hashed_set_array[hashed][sub_string] = {primePage: 0, page_to_compare: 1};\r\n            else if (this.hashed_set_array[hashed][sub_string].page_to_compare!=1)\r\n                this.hashed_set_array[hashed][sub_string].page_to_compare=1;\r\n            index++;\r\n        });\r\n\r\n        var union=0;\r\n        var intersection=0;\r\n        this.hashed_set_array.forEach(set_array => {\r\n            if (set_array)\r\n                Object.keys(set_array).forEach(set => {\r\n                    if (set_array[set].primePage==1 && set_array[set].page_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        intersection++;\r\n                        set_array[set].page_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primePage==0 && set_array[set].page_to_compare==1)\r\n                    {\r\n                        union++;\r\n                        set_array[set].page_to_compare=0;\r\n                    }\r\n                    else if (set_array[set].primePage==1 && set_array[set].page_to_compare==0)\r\n                        union++;\r\n                });\r\n        });\r\n        var jaccard_similarity= intersection/union;\r\n        return jaccard_similarity;\r\n\t}\r\n\r\n}\r\n\r\nexport default Jaccard_similarity;","import axios from 'axios';\r\nimport cheerio from 'cheerio';\r\n\r\nexport default async function hash_and_search_page(page_topic_edge, html, this_of_searchPage)\r\n{\r\n    var $ = cheerio.load(html);\r\n    var text= $.text();\r\n    if (text.length>20)\r\n    {\r\n        this_of_searchPage.rabinKarp.creatHashTables(text, page_topic_edge.index);\r\n        this_of_searchPage.rabinKarp.add_hits_from_page(page_topic_edge, page_topic_edge.index);\r\n        page_topic_edge.jaccard_similarity = this_of_searchPage.jaccard_similarity.compute_page_similarity(text);\r\n        page_topic_edge.was_page_searched=true;\r\n        var opts={\r\n            edgeID: page_topic_edge._id,\r\n            jaccard_similarity: page_topic_edge.jaccard_similarity,\r\n            num_of_links_in_page: page_topic_edge.num_of_links_in_page\r\n          };\r\n        await axios.post('/api/page_topic_edges/insert_page_topic_edge_scores', opts, {\r\n        headers: {'findel-auth-token': this_of_searchPage.token}}\r\n            ).then(response => {\r\n                console.log(\"edge successfuly added\");\r\n            }).catch(error=> {\r\n                console.log(\"edge could not be added\");\r\n        });\r\n        return true;\r\n    }\r\n    else\r\n        return false;\r\n}","import axios from 'axios';\r\n\r\nimport hash_and_search_page from './hash_and_search_page';\r\n\r\nexport default async function web_scrape_pages(this_of_searchPage){\r\n    var promiseArray = this_of_searchPage.page_topic_edges_from_server_to_use.map(page_to_topic_edge=>{\r\n        return axios.get(\"/api/page_topic_edges/web_scrape/?pageID=\"+page_to_topic_edge.page._id + \"&edgeID=\" + page_to_topic_edge._id + \"&force_scrape=false\",{\r\n        })\r\n        .then((result) => {\r\n            if (result.data.is_edge_up_to_date == true)\r\n            {\r\n                page_to_topic_edge.jaccard_similarity= result.data.jaccard_similarity;\r\n                page_to_topic_edge.num_of_links_in_page= result.data.num_of_links_in_page;\r\n                this_of_searchPage.pagesTempState[page_to_topic_edge.index].scrape=\"fa fa-check-circle-o\";\r\n            }\r\n            else\r\n            {\r\n                hash_and_search_page(page_to_topic_edge, result.data.pageHTML, this_of_searchPage).then(()=>\r\n                {\r\n                    this_of_searchPage.pagesTempState[page_to_topic_edge.index].scrape=\"fa fa-check-circle-o\";\r\n                }).catch(()=>\r\n                {\r\n                    this_of_searchPage.pagesTempState[page_to_topic_edge.index].scrape= \"fa fa-times-circle-o\";\r\n                });\r\n            }\r\n        }).catch( (error) => {\r\n            this_of_searchPage.page.jaccard_similarity=0;\r\n            this_of_searchPage.page.num_of_links_in_page=0;\r\n            this_of_searchPage.pagesTempState[page_to_topic_edge.index].scrape= \"fa fa-times-circle-o\";\r\n            console.log(error.message);\r\n        });\r\n      });\r\n    await Promise.all(promiseArray).then(results => {\r\n    console.log(results)\r\n    }).catch(function(error) {\r\n        console.log(error);\r\n    });\r\n    this_of_searchPage.pageSearchFinished=true;\r\n}","import sort_page_topic_edges from './sort_page_topic_edges';\r\n\r\nexport default function rank_page_topic_edges(this_of_searchPage)\r\n{   \r\n    var top_page_topic_edges = this_of_searchPage.page_topic_edges_from_server_to_use;\r\n    top_page_topic_edges.sort(function(page_topic_edge1, page_topic_edge2){return page_topic_edge2.num_of_links_in_page - page_topic_edge1.num_of_links_in_page});\r\n    top_page_topic_edges.sort(function(page_topic_edge1, page_topic_edge2){return page_topic_edge2.jaccard_similarity - page_topic_edge1.jaccard_similarity});\r\n    top_page_topic_edges=sort_page_topic_edges(top_page_topic_edges);\r\n    var pages_ref=[];\r\n    \r\n    for (var edge_index=0; edge_index<top_page_topic_edges.length; edge_index++)\r\n        if (top_page_topic_edges[edge_index]!=null)\r\n            pages_ref.push(top_page_topic_edges[edge_index]);\r\n    \r\n    var is_more_pages_button_hidden=false;\r\n    if (pages_ref.length>=this_of_searchPage.full_page_topic_edges_list_from_server.length)\r\n        is_more_pages_button_hidden=true;\r\n    this_of_searchPage.setState({\r\n        pages_ref: pages_ref,\r\n        pages_in_search: [],\r\n        is_more_pages_button_hidden:is_more_pages_button_hidden\r\n    });\r\n    this_of_searchPage.page_displayed_so_far_index=pages_ref.length-1;\r\n    this_of_searchPage.top_page_topic_edges=top_page_topic_edges;\r\n}","import axios from 'axios';\r\nimport hash_and_search_page from './hash_and_search_page';\r\n\r\nexport default async function search_for_expended_content(this_of_searchPage)\r\n{\r\n    var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n    var is_seach_needed=false;\r\n    for (var index=0; index< connected_topics_edges.length; index++)\r\n        if (connected_topics_edges[index].is_search_required!=false)\r\n            {\r\n                is_seach_needed=true;\r\n                break;\r\n            }\r\n    if (is_seach_needed)\r\n    {\r\n        var rk_results = this_of_searchPage.rabinKarp.wikiLinks_hashes_to_word_by_length;\r\n        best_pages_results(this_of_searchPage, rk_results)\r\n        .then(()=>{\r\n            console.log(\"Search content success\");\r\n        })\r\n        .catch(() => {console.log(\"Search content failed\");});\r\n    }\r\n}\r\n\r\nasync function best_pages_results(this_of_searchPage, rk_results)\r\n{\r\n    var top_page_topic_edges=this_of_searchPage.top_page_topic_edges;\r\n    var num_of_top_page_topic_edges_to_use=6;\r\n    var num_of_top_page_topic_edges_used=0;\r\n    for (var index=0; index<top_page_topic_edges.length && num_of_top_page_topic_edges_used<num_of_top_page_topic_edges_to_use; index++)\r\n        if (top_page_topic_edges[index].was_page_searched!=true)\r\n        {\r\n            await axios.get(\"/api/page_topic_edges/web_scrape/?pageID=\"+top_page_topic_edges[index].page._id + \"&edgeID=\" + top_page_topic_edges[index]._id + \"&force_scrape=true\",{\r\n            })\r\n            .then(async (result) => {\r\n                await hash_and_search_page(top_page_topic_edges[index], result.data.pageHTML, this_of_searchPage); \r\n                top_page_topic_edges[index].was_page_searched=true;\r\n                await rk_results.forEach(words_in_length => {\r\n                    words_in_length.forEach(word => {\r\n                        var num_of_hits=word.pages_hits[top_page_topic_edges[index].index];\r\n                        if (num_of_hits != undefined)\r\n                            this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                    });\r\n                });\r\n                num_of_top_page_topic_edges_used++;\r\n            }).catch( (error) => {\r\n                console.log(\"page failed searched\");\r\n            });\r\n        }\r\n        else if (top_page_topic_edges[index].was_page_searched==true)\r\n        {\r\n            rk_results.forEach(words_in_length => {\r\n                words_in_length.forEach(word => {\r\n                    var num_of_hits=word.pages_hits[top_page_topic_edges[index].index];\r\n                    if (num_of_hits != undefined)\r\n                        this_of_searchPage.connected_topics_edges[word.index_in_connected_topics_edges].linkHits += num_of_hits;\r\n                });\r\n            });\r\n            num_of_top_page_topic_edges_used++;\r\n        }\r\n}","export default function display_expended_content(this_of_searchPage)\r\n{\r\n    var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n    connected_topics_edges.sort(function(edge1, edge2){return edge2.web_scrape_score - edge1.web_scrape_score});\r\n    connected_topics_edges.sort(function(edge1, edge2){return edge2.linkHits - edge1.linkHits});\r\n    connected_topics_edges.sort(function(edge1, edge2){if (edge2.topic.topicName.length<3 && edge1.topic.topicName.length>=3) return -1;});\r\n    connected_topics_edges.sort(function(edge1, edge2){return edge2.liked_positive_points - edge1.liked_positive_points});\r\n    \r\n    var expandedCon=[];\r\n    for (var content=0; content<connected_topics_edges.length && content<10; content++)\r\n    {\r\n        var partition=\" | \";\r\n        expandedCon.push({id: this_of_searchPage.id, \r\n            page: connected_topics_edges[content].topic.topicName, \r\n            partition: partition\r\n            });\r\n        this_of_searchPage.id++;\r\n    }\r\n    this_of_searchPage.setState({\r\n        expandedContents: expandedCon,\r\n        is_show_more_content_hidden: false,\r\n        expandend_content_status: \"\",\r\n        is_topic_loaded: true,\r\n        data_for_comments: {\r\n            object_id: this_of_searchPage.topic._id,\r\n            object_collection_name: 'topics',\r\n            number_of_comments: this_of_searchPage.topic.number_of_comments\r\n          }\r\n    });\r\n    this_of_searchPage.expandedCon_to_history=expandedCon;\r\n    this_of_searchPage.save_to_history();\r\n}","import axios from 'axios';\r\n\r\nexport default async function update_topic_topic_edges_results(this_of_searchPage)\r\n{\r\n    var connected_topics_edges=this_of_searchPage.connected_topics_edges;\r\n    var edges_to_update=[];\r\n    connected_topics_edges.forEach(connected_topic_edge => {\r\n        if (connected_topic_edge.is_search_required)\r\n            edges_to_update.push({\r\n                _id: connected_topic_edge._id,\r\n                web_scrape_score: connected_topic_edge.linkHits\r\n            })\r\n    });\r\n    if (edges_to_update.length>0)\r\n    {\r\n        var opts={\r\n            edges: edges_to_update\r\n        };\r\n        axios.post('/api/topic_topic_edges/insert_topic_topic_edges_scores', opts\r\n            ).then(response => {\r\n                console.log(response.data);\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                console.log(\"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\");\r\n                else\r\n                console.log(error.response.data);\r\n        });\r\n    }\r\n}","\r\n//imported according to the search proccess flow\r\nimport request_topic_and_connected_topics_from_server from './request_topic_and_connected_topics_from_server';\r\nimport request_pages_from_server from './request_pages_from_server';\r\nimport display_pages_scrape_process from './display_pages_scrape_process';\r\nimport Rabin_Karp_search from \"./Rabin_Karp_search\";\r\nimport Jaccard_similarity from './Jaccard_similarity';\r\nimport web_scrape_pages from './web_scrape_pages';\r\nimport rank_pages from './rank_pages';\r\nimport search_for_expended_content from './search_for_expended_content';\r\nimport display_expended_content from './display_expanded_content';\r\nimport update_topic_topic_edges_results from './update_topic_topic_edges_results';\r\n\r\nexport default async function main_search_function(this_of_searchPage, do_deep_search)\r\n{\r\n\r\n    if (do_deep_search != true)\r\n        do_deep_search= false;\r\n    \r\n    await request_topic_and_connected_topics_from_server(this_of_searchPage)\r\n    \r\n    if (this_of_searchPage.topic != null)\r\n    {\r\n        await request_pages_from_server(this_of_searchPage.curSearch, this_of_searchPage);\r\n        \r\n        if (this_of_searchPage.connected_topics_edges == null)\r\n            do_deep_search= false;\r\n        else if(this_of_searchPage.connected_topics_edges.length==0)\r\n            do_deep_search= false;\r\n\r\n        if (do_deep_search == false)\r\n        {\r\n            rank_pages(this_of_searchPage);\r\n            display_expended_content(this_of_searchPage);\r\n            this_of_searchPage.search_button_function_stop_search();\r\n        }\r\n        else if (this_of_searchPage.page_topic_edges_from_server_to_use!=null)\r\n        {\r\n            display_pages_scrape_process(this_of_searchPage);\r\n            \r\n            //build rabin karp hash tables and Jaccrad similarity shingles table for wikipedia page\r\n            var links=[];\r\n            for (var index=0; index<this_of_searchPage.connected_topics_edges.length; index++)\r\n            {\r\n                this_of_searchPage.connected_topics_edges[index].linkHits=0;\r\n                links.push({topicName: this_of_searchPage.connected_topics_edges[index].topic.topicName, index_in_connected_topics_edges:index});\r\n            }\r\n            this_of_searchPage.rabinKarp= new Rabin_Karp_search(3001, 20, this_of_searchPage.page_topic_edges_from_server_to_use.length);\r\n            this_of_searchPage.rabinKarp.hashWikiLinks(links);\r\n            this_of_searchPage.jaccard_similarity=new Jaccard_similarity(20399, 10, this_of_searchPage.wikiText)\r\n            this_of_searchPage.pagesTempState=this_of_searchPage.state.pages_in_search;\r\n            \r\n            \r\n\r\n            var timeToRefresh=750;\r\n            //function to show status of pages search and check if user requested to stop\r\n            let refreshSearchStatus=setInterval(\r\n            () => {\r\n                if (this_of_searchPage.pageSearchFinished==false && this_of_searchPage.did_user_ended_seach==false)\r\n                    this_of_searchPage.setState({pages_in_search: this_of_searchPage.pagesTempState});\r\n                else\r\n                {\r\n                    clearInterval(refreshSearchStatus);\r\n                    this_of_searchPage.pageSearchFinished=false;\r\n                    rank_pages(this_of_searchPage);\r\n                    search_for_expended_content(this_of_searchPage);\r\n                    display_expended_content(this_of_searchPage);\r\n                    update_topic_topic_edges_results(this_of_searchPage);\r\n                    this_of_searchPage.search_button_function_stop_search();\r\n                }\r\n            }\r\n            ,timeToRefresh\r\n            );\r\n            //start scraping asynchronously\r\n            web_scrape_pages(this_of_searchPage);\r\n        }\r\n        else\r\n            this_of_searchPage.search_button_function_stop_search();\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Pages_in_search from './pages_in_search/Pages_in_search';\r\nimport ExpandedContent from './expandedContents/ExpandedContents';\r\nimport Pages_ref from './ref_to_pages/Pages_ref';\r\nimport Ambigous from './AmbigousContent/Ambigous';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './SearchPage.css';\r\nimport Cookies from 'universal-cookie';\r\nimport main_search_function from './search_functions/main_search_function';\r\nimport rank_pages from './search_functions/rank_pages';\r\nimport axios from 'axios';\r\nimport Comments_loader from '../Comments_components/Comments_loader';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass SearchPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.history=props.history;\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const my_search = urlParams.get('search');\r\n        this.curSearch=my_search;\r\n\r\n        this.pages_and_texts=[];\r\n        this.pagesFinishedScrape=0;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        this.pagesTempState=[];\r\n        this.pageSearchFinished=false;\r\n        this.top_pages=null;\r\n\r\n        this.rabinKarp=null;\r\n        this.wikiLinksHashesToWordByLength=[];\r\n        this.wordsMatriciesByLength=[];\r\n        this.id=1;\r\n        \r\n        var search_text_box ='';\r\n        var is_deep_search_needed= false;\r\n        if (this.history.location.state!=undefined)\r\n        {\r\n            var history=this.history.location.state;\r\n            if (history.search_text_box!=null)\r\n                search_text_box= history.search_text_box\r\n        }\r\n        else if (my_search != null)\r\n        {\r\n            search_text_box=my_search;\r\n            is_deep_search_needed= true;\r\n        }\r\n        \r\n        this.page_topic_edges_from_server_to_use=[];\r\n        this.full_page_topic_edges_list_from_server=[];\r\n        this.page_displayed_so_far_index=0;\r\n        this.state = {\r\n        search_text_box: search_text_box,\r\n        pages_in_search:[],\r\n        expandedContents: [],\r\n        pages_ref: [],\r\n        ambigousData: [],\r\n        newID: 1,\r\n        search_button_text: \"◊ó◊§◊© ◊™◊õ◊†◊ô◊ù\",\r\n        search_button_iconClass: \"\",\r\n        server_message:\"\",\r\n        add_page_to_topic_input:\"\",\r\n        add_topic_to_topic_input:\"\",\r\n        add_page_to_topic_description: \"\",\r\n        was_add_page_button_clicked:false,\r\n        was_add_topic_button_clicked: false,\r\n        is_more_pages_button_hidden: true,\r\n        is_simple_search_selected: false,\r\n        is_show_more_content_hidden: true,\r\n        expandend_content_status: \"\",\r\n        is_topic_loaded: false,\r\n        data_for_comments: {\r\n            object_id: \"\",\r\n            object_collection_name: '',\r\n            number_of_comments: 0\r\n          }\r\n        };\r\n        \r\n        if (search_text_box != '')\r\n            main_search_function(this, is_deep_search_needed);\r\n      }\r\n    render() {\r\n        var search_box_textStyle={color: '#F0F8FF', cursor: 'pointer'};\r\n        var more_content_textStyle={color: '#F0F8FF'};\r\n      return (\r\n        \r\n        <div className=\"SearchPage\">\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n                <div className=\"search_box_div\">\r\n                    <img id=\"findelTheme\" src=\"/publicComponents/findelTheme\"/>\r\n                    <div>\r\n                        <input className=\"text_input\" id=\"search_text_box\" type=\"text\" value={this.state.search_text_box} onChange={evt => this.updateTXT(evt)} onKeyPress={this.handleKeyPress}></input>\r\n                        <button id=\"searchBTN\" name=\"searchBTN\" onClick={() => this.search_button_function()}>{this.state.search_button_text} <i className={this.state.search_button_iconClass}></i></button><br/>\r\n                        <input type=\"radio\" onClick={() => this.deep_search_radio_button_clicked()} checked={!this.state.is_simple_search_selected} value=''/> ◊ó◊ô◊§◊ï◊© ◊¢◊û◊ï◊ß\r\n                        <input type=\"radio\" id=\"simple_search_radio_button\" onClick={() => this.simple_search_radio_button_clicked()} checked={this.state.is_simple_search_selected} value=''/> ◊ó◊ô◊§◊ï◊© ◊§◊©◊ï◊ò\r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <text color='white'>{this.state.server_message}</text>\r\n                    </div>\r\n                    <div id=\"exContents\">\r\n                        <ExpandedContent expandedContents={this.state.expandedContents}/>\r\n                        <text><i className={this.state.expandend_content_status}></i></text>\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" style={more_content_textStyle} href={\"/Topic_page/\"+this.curSearch} hidden={this.state.is_show_more_content_hidden}>◊¢◊ï◊ì...</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"add_content_and_pages_div\" style={{backgroundColor:'#0587c3'}}>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={!this.state.was_add_topic_button_clicked}>\r\n                        <text style={search_box_textStyle} onClick= {() => this.add_topic_button_clicked(false)}>-◊î◊ï◊°◊£ ◊™◊ï◊õ◊ü ◊ú◊†◊ï◊©◊ê: &nbsp;</text><br/>\r\n                        <input className=\"text_input\" type=\"text\" value={this.state.add_topic_to_topic_input} onChange={evt => this.add_topic_to_topic_change_function(evt)}/>\r\n                        <button id=\"add_topic_to_topic_button\" onClick={() => this.connect_topic()}>+</button>\r\n                    </div>\r\n                    <div className=\"add_topic_to_topic_div\" hidden={this.state.was_add_topic_button_clicked}>\r\n                        <text onClick= {() => this.add_topic_button_clicked(true)} style={search_box_textStyle}>+◊î◊ï◊°◊£ ◊™◊ï◊õ◊ü ◊ú◊†◊ï◊©◊ê...</text>\r\n                    </div>\r\n                    <div className=\"add_page_to_topic_div\" hidden={!this.state.was_add_page_button_clicked}>\r\n                        <text onClick= {() => this.add_page_button_clicked(false)} style={search_box_textStyle}>-◊î◊ï◊°◊£ ◊ê◊™◊® ◊ú◊†◊ï◊©◊ê: &nbsp;</text><br/>\r\n                        <input className=\"text_input\" type=\"text\" id=\"add_page_to_topic_url_input\" placeholder=\".....//:https\" value={this.state.add_page_to_topic_input} onChange={evt => this.add_page_to_topic_change_function(evt)}/><br></br>\r\n                        <textarea className=\"text_input\" value={this.state.add_page_to_topic_description} placeholder=\"◊™◊ê◊ï◊® ◊î◊ê◊™◊®\" onChange={evt => this.add_page_to_topic_change_description_function(evt)}/><br/>\r\n                        <button id=\"add_page_to_topic_button\" onClick={() => this.add_page()}>+</button>\r\n                    </div>\r\n                    <div className=\"add_page_to_topic_div\" hidden={this.state.was_add_page_button_clicked}>\r\n                        <text onClick= {() => this.add_page_button_clicked(true)} style={search_box_textStyle}>+◊î◊ï◊°◊£ ◊ê◊™◊® ◊ú◊†◊ï◊©◊ê...</text>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        <div hidden={!this.state.is_topic_loaded} style={{textAlign: 'right'}}>\r\n            <Comments_loader data_for_comments={this.state.data_for_comments}/> \r\n            <br/>\r\n        </div>\r\n        <div id=\"pages_ref\">\r\n            <Pages_ref pages_ref={this.state.pages_ref}/>\r\n            <button onClick= {() => this.more_pages_clicked()} hidden={this.state.is_more_pages_button_hidden}>◊ê◊™◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù...</button>\r\n        </div>\r\n        <div id=\"pages\">\r\n            <Pages_in_search pages_in_search={this.state.pages_in_search}/>\r\n        </div>\r\n        <div id=\"ambigous\">\r\n            <Ambigous ambigousData={this.state.ambigousData}/>\r\n        </div>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n        if(event.key == 'Enter'){\r\n          this.search_button_function();\r\n        }\r\n      }\r\n\r\n    updateTXT(evt){\r\n        this.setState(\r\n            {\r\n                search_text_box: evt.target.value\r\n            }\r\n        );\r\n        this.curSearch=evt.target.value;\r\n    }\r\n\r\n    deep_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:false\r\n            }\r\n        )\r\n    }\r\n    simple_search_radio_button_clicked()\r\n    {\r\n        this.setState(\r\n            {\r\n                is_simple_search_selected:true\r\n            }\r\n        )\r\n    }\r\n\r\n    add_page_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_page_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page_to_topic_change_description_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_page_to_topic_description: evt.target.value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_page_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    add_page()\r\n    {\r\n        var opts={\r\n            topicName: this.state.search_text_box,\r\n            pageURL: this.state.add_page_to_topic_input,\r\n            pageDescription: this.state.add_page_to_topic_description\r\n          };\r\n        axios.post('/api/pages_to_topics/connect_page_to_topic', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                this.setState({server_message: response.data});\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n\r\n    connect_topic()\r\n    {\r\n        var opts={\r\n            current_topicName: this.state.search_text_box,\r\n            new_topicName: this.state.add_topic_to_topic_input\r\n          };\r\n        axios.post('/api/topics_to_topics/connect_topic_to_topic', opts, {\r\n        headers: {'findel-auth-token': this.token}}\r\n            ).then(response => {\r\n                this.setState({server_message: response.data});\r\n            }).catch(error=> {\r\n                if (error.response==undefined)\r\n                this.setState({server_message: \"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\"});\r\n                else\r\n                this.setState({server_message: error.response.data});\r\n        });\r\n    }\r\n\r\n    add_topic_to_topic_change_function(evt)\r\n    {\r\n        this.setState(\r\n            {\r\n                add_topic_to_topic_input: evt.target.value\r\n            }\r\n        );\r\n    }\r\n    add_topic_button_clicked(hidden_value)\r\n    {\r\n        this.setState(\r\n            {\r\n                was_add_topic_button_clicked: hidden_value\r\n            }\r\n        );\r\n    }\r\n\r\n    more_pages_clicked(){\r\n        var num_of_pages_to_add=10;\r\n        for (var index=this.page_displayed_so_far_index+1; index< this.page_displayed_so_far_index+1+num_of_pages_to_add && index<this.full_page_topic_edges_list_from_server.length; index++)\r\n            this.page_topic_edges_from_server_to_use.push(this.full_page_topic_edges_list_from_server[index]);  \r\n        rank_pages(this);\r\n    }\r\n\r\n    search_button_function= async () => {\r\n        this.did_user_ended_seach=false;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function_stop_search(),\r\n            search_button_text: \"◊°◊ô◊ô◊ù ◊ó◊ô◊§◊ï◊©\",\r\n            simple_search_button_text:\"◊°◊ô◊ô◊ù ◊ó◊ô◊§◊ï◊©\",\r\n            search_button_iconClass: \"fa fa-spinner fa-spin\",\r\n            is_more_pages_button_hidden: true,\r\n            is_show_more_content_hidden: true,\r\n            expandend_content_status: \"fa fa-spinner fa-spin\",\r\n            server_message: \"\"\r\n        });\r\n        this.deep_search();\r\n    }\r\n\r\n    search_button_function_stop_search= async () => {\r\n        this.did_user_ended_seach=true;\r\n        this.setState({\r\n            search_button_function: () => this.search_button_function(),\r\n            simple_search_button_function: () => this.simple_search_button_function(),\r\n            search_button_text: \"◊ó◊§◊© ◊™◊õ◊†◊ô◊ù\",\r\n            simple_search_button_text:\"◊°◊ô◊ô◊ù ◊ó◊ô◊§◊ï◊©\",\r\n            search_button_iconClass:\"\",\r\n            expandend_content_status: \"\"\r\n        });\r\n    }\r\n\r\n    save_to_history()\r\n    {\r\n        this.history.push({\r\n            pathname: '/',\r\n            search: '?search='+this.state.search_text_box,\r\n            state: {\r\n                search_text_box: this.state.search_text_box\r\n            }\r\n        });\r\n    }\r\n\r\n    deep_search= () => {\r\n        this.setState({\r\n            expandedContents: [],\r\n            pages_ref: [],\r\n            ambigousData: []\r\n        });\r\n\r\n        if (this.state.is_simple_search_selected)\r\n            var do_deep_search=false;\r\n        else\r\n            var do_deep_search=true;\r\n        main_search_function(this, do_deep_search);\r\n    }\r\n}\r\n\r\n  export default SearchPage;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\n\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass LoginPage extends Component {\r\n    constructor(props) {\r\n        \r\n        super(props);\r\n        this.history=props.history;\r\n        this.state = {\r\n            userName: \"\",\r\n            password: \"\",\r\n            serverMessage:\"\"\r\n        };\r\n        cookies.set('findel-ServerMessage', '', { path: '/' });\r\n        this.attampt=0;\r\n      }\r\n      nextPath(path) {\r\n        this.props.history.push(path);\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div className=\"LoginPage\">\r\n            <h1> Login </h1>\r\n            <text>{this.state.serverMessage}</text>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onKeyPress={this.handleKeyPress} placeholder=\"◊©◊ù ◊û◊©◊™◊û◊©\"/>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" value={this.state.password} onChange={event => this.handlePasswordChange(event)} onKeyPress={this.handleKeyPress} placeholder=\"◊°◊ô◊°◊û◊ê\"/>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}>◊î◊™◊ó◊ë◊®</button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameChange(event) {\r\n        this.setState({userName: event.target.value});\r\n      }\r\n\r\n      handlePasswordChange(event) {\r\n        this.setState({password: event.target.value});\r\n    }\r\n    async handleSubmit() {\r\n      var dataFromServer;\r\n      var opts={\r\n        userName: this.state.userName,\r\n        password: this.state.password\r\n      };\r\n      await axios.post('/api/auth', opts\r\n          ).then(response => {\r\n            dataFromServer= response.data;\r\n            cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\r\n            this.history.goBack();\r\n            }).catch(error=> {\r\n              if (error.response==undefined)\r\n                this.setState({serverMessage: \"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\"});\r\n              else\r\n              {\r\n                this.attampt++;\r\n                this.setState({serverMessage: error.response.data+\" ◊†◊°◊ô◊ï◊ü ◊û◊°◊§◊®: \"+this.attampt});\r\n              }\r\n        });\r\n    }\r\n}\r\nexport default LoginPage;","class checkForms {\r\n    checkForms(){}\r\n    checkUserName(userName, formsThis)\r\n    {\r\n      var userNameClass=formsThis.state.successClass;\r\n      var userNameError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (userName.length<2)\r\n      {\r\n        userNameClass=formsThis.state.errorClass;\r\n        userNameError=\"◊©◊ù ◊û◊©◊™◊û◊© ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊û◊¢◊ú 2 ◊ê◊ï◊™◊ô◊ï◊™\";\r\n      }\r\n\r\n      //finalize\r\n      \r\n      \r\n      if (userNameError==\"\")\r\n        formsThis.userNameBlured=true;\r\n      \r\n      if (formsThis.userNameBlured)\r\n        formsThis.setState({userName: userName,\r\n          userNameClass: userNameClass,\r\n          userNameError:userNameError\r\n          });\r\n      else\r\n        formsThis.setState({userName: userName});\r\n      \r\n      if (userNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    checkFirstName(firstName, formsThis)\r\n    {\r\n      var firstNameClass=formsThis.state.successClass;\r\n      var firstNameError=\"\";\r\n      \r\n      if (firstName.length<2)\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"◊©◊ù ◊§◊®◊ò◊ô ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊©◊™◊ô ◊ê◊ï◊™◊ô◊ï◊™ ◊ï◊û◊¢◊ú◊î\";\r\n      }\r\n\r\n      for(var chI=0;chI<firstName.length;chI++){\r\n      if ((firstName.charAt(chI)>='0')&&(firstName.charAt(chI)<='9'))\r\n      {\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"◊ú◊ê ◊ô◊õ◊ï◊ú◊ï◊™ ◊ú◊î◊ô◊ï◊™ ◊°◊§◊®◊ï◊™ ◊ë◊©◊ù\";\r\n        break;\r\n      }    if(firstName.length<2){\r\n        firstNameClass=formsThis.state.errorClass;\r\n        firstNameError=\"◊©◊ù ◊ó◊ô◊ô◊ë ◊ú◊î◊õ◊ô◊ú ◊ú◊§◊ó◊ï◊™ 2 ◊ê◊ï◊™◊ô◊ï◊™\";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (firstNameError==\"\")\r\n        formsThis.firstNameBlured=true;\r\n      \r\n      if (formsThis.firstNameBlured)\r\n        formsThis.setState({firstName: firstName,\r\n          firstNameClass: firstNameClass,\r\n          firstNameError: firstNameError\r\n          });\r\n      else\r\n        formsThis.setState({firstName: firstName});\r\n      \r\n      if (firstNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n    \r\n    checkLastName(lastName, formsThis)\r\n    {\r\n        var lastNameClass=formsThis.state.successClass;\r\n      var lastNameError=\"\";\r\n      \r\n      if (lastName.length<2)\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"◊©◊ù ◊§◊®◊ò◊ô ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ ◊©◊™◊ô ◊ê◊ï◊™◊ô◊ï◊™ ◊ï◊û◊¢◊ú◊î\";\r\n      }\r\n\r\n      for(var chI=0;chI<lastName.length;chI++){\r\n      if ((lastName.charAt(chI)>='0')&&(lastName.charAt(chI)<='9'))\r\n      {\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"◊ú◊ê ◊ô◊õ◊ï◊ú◊ï◊™ ◊ú◊î◊ô◊ï◊™ ◊°◊§◊®◊ï◊™ ◊ë◊©◊ù\";\r\n        break;\r\n      }    if(lastName.length<2){\r\n        lastNameClass=formsThis.state.errorClass;\r\n        lastNameError=\"◊©◊ù ◊ó◊ô◊ô◊ë ◊ú◊î◊õ◊ô◊ú ◊ú◊§◊ó◊ï◊™ 2 ◊ê◊ï◊™◊ô◊ï◊™\";\r\n      }\r\n    }\r\n      //finalize\r\n      \r\n      \r\n      if (lastNameError==\"\")\r\n        formsThis.lastNameBlured=true;\r\n      \r\n      if (formsThis.lastNameBlured)\r\n        formsThis.setState({lastName: lastName,\r\n          lastNameClass: lastNameClass,\r\n          lastNameError: lastNameError\r\n          });\r\n      else\r\n        formsThis.setState({lastName: lastName});\r\n      \r\n      if (lastNameError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n\r\n    checkEmail(email, formsThis)\r\n    {\r\n      var emailClass=formsThis.state.successClass;\r\n      var emailError=\"\";\r\n      if (email==\"\")\r\n      {\r\n        emailClass=\"form-control\";\r\n        emailError=\"\";\r\n      }\r\n      else if (email.length<5)\r\n      {\r\n        emailClass=formsThis.state.errorClass;\r\n        emailError=\"◊ê◊ô◊û◊ô◊ô◊ú ◊ó◊ô◊ô◊ë ◊ú◊î◊ô◊ï◊™ 5 ◊ê◊ï◊™◊ô◊ï◊™ ◊ï◊û◊¢◊ú◊î\";\r\n      }\r\n      else\r\n      {\r\n        var foundShtrude=false;\r\n        var numOfDots=0;\r\n        for (var chIndex=0; chIndex<email.length; chIndex++)\r\n        {\r\n          if (chIndex==0)\r\n          {\r\n            if (!((email.charAt(chIndex)>'A' && email.charAt(chIndex)<'z') || (email.charAt(chIndex)>'0' && email.charAt(chIndex)<'9')))\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"◊ê◊ï◊™ ◊®◊ê◊©◊ï◊†◊î ◊ó◊ô◊ô◊ë◊™ ◊ú◊î◊ô◊ï◊™ ◊ê◊ï◊™ ◊ê◊ï ◊û◊°◊§◊®\";\r\n                break;\r\n              }\r\n            }\r\n          else\r\n          {\r\n            if (email.charAt(chIndex)=='@')\r\n            {\r\n              if(email.length-chIndex<3){\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"◊õ◊™◊ï◊ë◊™ ◊û◊ô◊ô◊ú ◊ú◊ê ◊™◊ß◊ô◊†◊î\";\r\n                break;\r\n              }\r\n              if (foundShtrude==false)\r\n                foundShtrude=true;\r\n              else\r\n              {\r\n                emailClass=formsThis.state.errorClass;\r\n                emailError=\"◊õ◊™◊ï◊ë◊™ ◊û◊ô◊ô◊ú ◊ú◊ê ◊™◊ß◊ô◊†◊î\";\r\n                break;\r\n              }\r\n            }\r\n            if (email.charAt(chIndex)=='.')\r\n              if(foundShtrude){\r\n                if(email.charAt(chIndex-1)=='@' || email.charAt(chIndex-1)=='.' || chIndex==email.length-1)\r\n                {\r\n                  emailClass=formsThis.state.errorClass;\r\n                  emailError=\"◊õ◊™◊ï◊ë◊™ ◊û◊ô◊ô◊ú ◊ú◊ê ◊™◊ß◊ô◊†◊î\";\r\n                  break;\r\n                }\r\n                numOfDots++;\r\n              }\r\n            }\r\n          }\r\n        if (foundShtrude==false || numOfDots>2 || numOfDots==0)\r\n          {\r\n            emailClass=formsThis.state.errorClass;\r\n            emailError=\"◊õ◊™◊ï◊ë◊™ ◊û◊ô◊ô◊ú ◊ú◊ê ◊™◊ß◊ô◊†◊î\";\r\n          }\r\n        }\r\n        \r\n        if (emailError==\"\")\r\n            formsThis.emailBlured=true;\r\n        if (formsThis.emailBlured)\r\n        {\r\n            formsThis.setState({email: email,\r\n            emailClass: emailClass,\r\n            emailError: emailError\r\n        });\r\n        }\r\n      else\r\n        formsThis.setState({email: email});\r\n      if (emailError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n        \r\n    }\r\n\r\n    checkPassword(password, formsThis)\r\n    {\r\n        var passClass=formsThis.state.successClass;\r\n      var passError=\"\";\r\n      \r\n      \r\n      //Case of failure\r\n      if (password.length<=5)\r\n      {\r\n        passClass=formsThis.state.errorClass;\r\n        passError=\"◊°◊ô◊°◊û◊ê ◊ó◊ô◊ô◊ë◊™ ◊ú◊î◊ô◊ï◊™ ◊û◊¢◊ú 5 ◊ê◊ï◊™◊ô◊ï◊™\";\r\n      }\r\n\r\n        \r\n      //finalize\r\n      \r\n      \r\n      if (passError==\"\")\r\n        formsThis.passwordBlured=true;\r\n      \r\n      if (formsThis.passwordBlured)\r\n        formsThis.setState({password: password,\r\n          passwordClass: passClass,\r\n          passwordError:passError\r\n          });\r\n      else\r\n        formsThis.setState({password: password});\r\n\r\n      if (passError==\"\")\r\n        return true;\r\n      else\r\n        return false;\r\n    }\r\n}\r\nexport default checkForms;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport CheckForms from './checkForms';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {withRouter, Route, BrowserRouter as Router} from 'react-router-dom';\r\nimport Cookies from 'universal-cookie';\r\nimport { ENAMETOOLONG } from 'constants';\r\nconst cookies = new Cookies();\r\nvar checkForms=new CheckForms();\r\n\r\nclass RegisterPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.history=props.history;\r\n        this.state = {\r\n            email: \"\",\r\n            emailClass: \"form-control\",\r\n            password: \"\",\r\n            passwordError:\"\",\r\n            passwordClass: \"form-control\",\r\n            serverMessage:\"\",\r\n            errorClass:\"form-control is-invalid\",\r\n            successClass: \"form-control is-valid\",\r\n            userNameClass:\"form-control\",\r\n            userNameError: \"\",\r\n            userName:\"\",\r\n            firstNameClass:\"form-control\",\r\n            firstNameError: \"\",\r\n            firstName:\"\",\r\n            lastNameClass:\"form-control\",\r\n            lastNameError: \"\",\r\n            lastName:\"\",\r\n            emailError:\"\"\r\n        };\r\n\r\n        //Check if password was offClicked\r\n        this.passwordBlured=false;\r\n        this.userNameBlured=false;\r\n        this.firstNameBlured=false;\r\n        this.emailBlured=false;\r\n        this.lastNameBlured=false;\r\n        cookies.set('findel-ServerMessage', '', { path: '/' });\r\n        \r\n      }\r\n\r\n      nextPath(path) {\r\n        this.props.history.push(path);\r\n      }\r\n    \r\n    render() {\r\n      \r\n      var redText={color: \"red\"};\r\n      return (\r\n       \r\n        <div className=\"RegisterPage\">\r\n            <h1> ◊î◊®◊©◊û◊î </h1>\r\n            <text>{this.state.serverMessage}</text>\r\n            <br></br>\r\n            <fieldset id=\"group1\">\r\n              <input type=\"radio\" name=\"group1\" onClick={() => this.position_to_register('student')} value='◊™◊ú◊û◊ô◊ì' defaultChecked='true'/> ◊™◊ú◊û◊ô◊ì &nbsp;&nbsp;\r\n              <input type=\"radio\" name=\"group1\" onClick={() => this.position_to_register('teacher')} value='◊û◊ï◊®◊î'/> ◊û◊ï◊®◊î &nbsp;&nbsp;\r\n              <input type=\"radio\" name=\"group1\" onClick={() => this.position_to_register('admin')} value='◊û◊†◊î◊ú'/> ◊û◊†◊î◊ú\r\n            </fieldset>\r\n            <label>\r\n            <input type=\"text\" className={this.state.userNameClass} value={this.state.userName} onChange={event => this.handleUserNameChange(event)} onBlur={event => this.handleUserNameBlur(event) } onKeyPress={this.handleKeyPress} placeholder=\"◊õ◊ô◊†◊ï◊ô ◊ë◊ê◊™◊®\"/>\r\n            <text style={redText}>{this.state.userNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"password\" className={this.state.passwordClass} value={this.state.password} onChange={event => this.handlePasswordChange(event)} onBlur={event => this.handlePasswordBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"◊°◊ô◊°◊û◊ê\"/>\r\n            <text style={redText}>{this.state.passwordError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.emailClass} value={this.state.email} onChange={event => this.handleEmailChange(event)} onBlur={event => this.handleEmailBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\"◊ê◊ô◊û◊ô◊ô◊ú (◊ê◊ï◊§◊¶◊ô◊ï◊†◊ê◊ú◊ô)\"/>\r\n            <text style={redText}>{this.state.emailError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.firstNameClass} value={this.state.firstName} onChange={event => this.handleFirstNameChange(event)} onBlur={event => this.handleFirstNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ◊©◊ù ◊§◊®◊ò◊ô\"/>\r\n            <text style={redText}>{this.state.firstNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <label>\r\n            <input type=\"text\" className={this.state.lastNameClass} value={this.state.lastName} onChange={event => this.handleLastNameChange(event)} onBlur={event => this.handleLastNameBlur(event)} onKeyPress={this.handleKeyPress} placeholder=\" ◊©◊ù ◊û◊©◊§◊ó◊î\"/>\r\n            <text style={redText}>{this.state.lastNameError}</text>\r\n            </label>\r\n            <br></br>\r\n            <button name=\"submitBTN\" onClick={() => this.handleSubmit()}>◊î◊®◊©◊ù</button>\r\n        </div>\r\n      );\r\n\r\n    }\r\n\r\n    position_to_register(pos)\r\n    {\r\n        this.setState(\r\n            {\r\n              position_to_register_val:pos\r\n            }\r\n        )\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n      if(event.key == 'Enter'){\r\n        this.handleSubmit();\r\n      }\r\n    }\r\n\r\n    handleUserNameBlur(event) {\r\n      this.userNameBlured=true;\r\n      this.handleUserNameChange(event);\r\n    }\r\n    \r\n    handleUserNameChange(event) {;\r\n      checkForms.checkUserName(event.target.value, this);\r\n    }\r\n\r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n\r\n    handleFirstNameChange(event) {\r\n      checkForms.checkFirstName(event.target.value, this);\r\n    }\r\n    \r\n    handleFirstNameBlur(event) {\r\n      this.firstNameBlured=true;\r\n      this.handleFirstNameChange(event);\r\n    }\r\n    handleLastNameBlur(event) {\r\n      this.lastNameBlured=true;\r\n      this.handleLastNameChange(event);\r\n    }\r\n    handleLastNameChange(event) {\r\n      checkForms.checkLastName(event.target.value, this);\r\n    }\r\n    \r\n    handleEmailChange(event) {\r\n      checkForms.checkEmail(event.target.value, this);\r\n      }\r\n      handleEmailBlur(event) {\r\n        this.emailBlured=true;\r\n        this.handleEmailChange(event);\r\n      }\r\n    handlePasswordBlur(event) {\r\n      this.passwordBlured=true;\r\n      this.handlePasswordChange(event);\r\n      \r\n    }\r\n    handlePasswordChange(event) {\r\n      checkForms.checkPassword(event.target.value, this)\r\n    }\r\n    \r\n    async handleSubmit() {\r\n      this.passwordBlured=true;\r\n      this.userNameBlured=true;\r\n      this.firstNameBlured=true;\r\n      this.emailBlured=true;\r\n      this.lastNameBlured=true;\r\n      var isEmailOK=checkForms.checkEmail(this.state.email, this);\r\n      var isFirstNameOK=checkForms.checkFirstName(this.state.firstName, this);\r\n      var isLastNameOK=checkForms.checkLastName(this.state.lastName, this);\r\n      var isPasswordOK=checkForms.checkPassword(this.state.password, this);\r\n      var isUserNameOK=checkForms.checkUserName(this.state.userName, this);\r\n      if (isEmailOK && isFirstNameOK && isLastNameOK && isPasswordOK && isUserNameOK)\r\n      {\r\n        var dataFromServer;\r\n        var opts={\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n          userName:this.state.userName,\r\n          lastName: this.state.lastName,\r\n          firstName: this.state.firstName\r\n        };\r\n        if (this.state.email==\"\")\r\n          opts.email=undefined;\r\n        \r\n        if (this.state.position_to_register_val == 'admin')\r\n          var path='/api/users/createAdminAccount';\r\n        else if (this.state.position_to_register_val == 'teacher')\r\n          var path='/api/users/createTeacherAccount';\r\n        else\r\n          var path='/api/users/createStudentAccount';\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        await axios.post(path, opts, \r\n        {headers: {'findel-auth-token': token}}\r\n            ).then(response => {\r\n              dataFromServer= response.data;\r\n              var token=cookies.get('findel-auth-token') || \"\";\r\n              if (token!=\"\")\r\n                this.setState({serverMessage: dataFromServer.userName+\" ◊î◊û◊©◊™◊û◊© ◊†◊®◊©◊ù ◊ë◊î◊¶◊ú◊ó◊î\"});\r\n              else\r\n              {\r\n                cookies.set('findel-auth-token', dataFromServer.token, { path: '/' });\r\n                this.history.goBack();\r\n              }\r\n              }).catch(error=> {\r\n                if (error.response==undefined)\r\n                  this.setState({serverMessage: \"◊ê◊ô◊ü ◊ó◊ô◊ë◊ï◊® ◊ú◊©◊®◊™\"});\r\n                else\r\n                  this.setState({serverMessage: error.response.data});\r\n          });\r\n      }\r\n    }\r\n}\r\nexport default RegisterPage;","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport PropsTypes from 'prop-types';\r\nimport './Search.css';\r\nclass Search extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"search\">\r\n        <text> ◊†◊ï◊©◊ê: <a target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.search.topic.topicName}>{this.props.search.topic.topicName}</a></text>\r\n        <br/>\r\n        <text> \r\n          ◊™◊ê◊®◊ô◊ö: \r\n          <Moment format=\"DD/MM/YYYY HH:mm\">\r\n            {this.props.search.searchDate}\r\n          </Moment>\r\n        </text>\r\n        <br/><br/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearch.PropsTypes={\r\n    search: PropsTypes.object.isRequired\r\n}   \r\nexport default Search;","import React, { Component } from 'react';\r\nimport Search from './Search';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Searches extends Component {\r\n    render() {\r\n        \r\n        return this.props.searches.map((search)=>(\r\n            <Search key={search.id} search={search} />\r\n          ));\r\n    }\r\n}\r\nSearches.PropsTypes={\r\n    searches: PropsTypes.array.isRequired\r\n} \r\n  export default Searches;","import React, { Component } from 'react';\r\nimport Searches from './Searches';\r\n//import './UserSearchHistory.css';\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserSearchHistory extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          searchHistory:[]\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/user_data/search_history\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((searchHistory) => {\r\n              \r\n              searchHistory.reverse();\r\n              this.setHistory(searchHistory)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var searchHistory=[];\r\n              this.setHistory(searchHistory)\r\n          });\r\n          \r\n        \r\n      }\r\n    setHistory(searchHistory)\r\n    {\r\n      this.setState({\r\n        searchHistory: searchHistory\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n            ◊î◊ô◊°◊ò◊ï◊®◊ô◊™ ◊ó◊ô◊§◊ï◊©</h1>\r\n        </div>\r\n        <div>\r\n            <Searches searches={this.state.searchHistory}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserSearchHistory;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nclass Pages extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"fav_page\">\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page.pageURL}>{this.props.page.pageURL}</a>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPages.PropsTypes={\r\n  page: PropsTypes.object.isRequired\r\n}   \r\nexport default Pages;","import React, { Component } from 'react';\r\nimport Page from './Page';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Pages extends Component {\r\n    render() {\r\n        \r\n        return this.props.pages.map((page)=>(\r\n            <Page key={page._id} page={page} />\r\n          ));\r\n    }\r\n}\r\nPages.PropsTypes={\r\n    pages: PropsTypes.array.isRequired\r\n} \r\nexport default Pages;","import React, { Component } from 'react';\r\nimport Pages from './Pages';\r\nimport PropsTypes from 'prop-types';\r\nimport './Favorites.css';\r\nclass Favorites extends Component {\r\n    render() {\r\n        return this.props.favorites.map((favorite)=>(\r\n            <div className=\"favorites_div\">\r\n                <text>{favorite.topic.topicName}: <br/></text>\r\n                <Pages key={favorite.topic._id} pages={favorite.pages} />\r\n            </div>\r\n        ));\r\n    }\r\n}\r\nFavorites.PropsTypes={\r\n    favorites: PropsTypes.array.isRequired\r\n} \r\nexport default Favorites;","import React, { Component } from 'react';\r\nimport Favorites from './Favorites';\r\nimport Cookies from 'universal-cookie';\r\nimport axios from 'axios';\r\nconst cookies = new Cookies();\r\n\r\n\r\nclass UserFavorites extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var favorites=[];\r\n        this.state = {\r\n            favorites:favorites\r\n        };\r\n        var token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/user_data/favorites\",{\r\n          headers: {'findel-auth-token': token}\r\n        })\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((favorites) => {\r\n              \r\n              \r\n              this.setFavorites(favorites)\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              var favorites=[];\r\n              this.setFavorites(favorites)\r\n          });\r\n          \r\n        \r\n      }\r\n    setFavorites(favorites)\r\n    {\r\n      this.setState({\r\n        favorites:favorites\r\n      });\r\n    }\r\n    render() {\r\n        \r\n      return (\r\n        \r\n        <div>\r\n            <div className=\"App\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n            ◊ì◊§◊ô◊ù ◊©◊ì◊ô◊®◊í◊™◊ô ◊õ◊ò◊ï◊ë◊ô◊ù</h1>\r\n        </div>\r\n        <div>\r\n            <Favorites favorites={this.state.favorites}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default UserFavorites;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\n//import './Afavorite.css';\r\nclass Page_component extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n       <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.props.page.pageURL}>{this.props.page.pageURL}</a><br/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nPage_component.PropsTypes={\r\n  page: PropsTypes.object.isRequired\r\n}   \r\nexport default Page_component;","import React, { Component } from 'react';\r\nimport Page_component from './Page_component';\r\nimport PropsTypes from 'prop-types';\r\n\r\nclass Domain_component extends Component {\r\n    render() {\r\n        \r\n        return this.props.domain.pages.map((page)=>(\r\n            <Page_component key={page.id} page={page} />\r\n          ));\r\n    }\r\n}\r\nDomain_component.PropsTypes={\r\n    domain: PropsTypes.array.isRequired\r\n} \r\nexport default Domain_component;","import React, { Component } from 'react';\r\nimport Domain_component from './Domain_component';\r\nimport PropsTypes from 'prop-types';\r\nimport './domains.css';\r\nclass Domains_component extends Component {\r\n    render() {\r\n        return this.props.domains.map((domain)=>(\r\n            <div className=\"domains_div\">\r\n                <text>{domain.domainURL}: <br/></text>\r\n                ◊ê◊î◊ë◊ï: ({domain.liked_positive_points}) &nbsp;&nbsp;\r\n                ◊ú◊ê ◊ê◊î◊ë◊ï: ({domain.liked_negative_points})<br/>\r\n                ◊ê◊û◊ô◊ü: ({domain.credibility_positive_points}) &nbsp;&nbsp;\r\n                ◊ú◊ê ◊ê◊û◊ô◊ü: ({domain.credibility_negative_points}) <br/>\r\n                ◊ó◊ô◊†◊ï◊õ◊ô({domain.educational_positive_points})&nbsp;&nbsp;\r\n                ◊ú◊ê ◊ó◊ô◊†◊ï◊õ◊ô({domain.educational_negative_points})<br/>\r\n                <Domain_component key={domain.id} domain={domain} />\r\n                <button onClick={domain.request_pages_of_domain_function} hidden={domain.is_more_pages_button_hidden}>◊ê◊™◊®◊ô◊ù...</button>\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nDomains_component.PropsTypes={\r\n    domains: PropsTypes.array.isRequired\r\n} \r\nexport default Domains_component;","import React, { Component } from 'react';\r\nimport Domain_component from './Domain_component';\r\nimport PropsTypes from 'prop-types';\r\nimport './List_for_googleAPI_component.css';\r\nclass List_for_googleAPI_component extends Component {\r\n    render() {\r\n        return this.props.domains_list.map((domain)=>(\r\n            <div className=\"list_div\">\r\n                <text>{domain.domainURL}<br/></text>\r\n            </div>\r\n          ));\r\n    }\r\n}\r\nList_for_googleAPI_component.PropsTypes={\r\n    domains_list: PropsTypes.array.isRequired\r\n} \r\nexport default List_for_googleAPI_component;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Domains_component from './Domains_component';\r\nimport List_for_googleAPI_component from './List_for_googleAPI_component';\r\n\r\nclass DomainsPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var domains=[];\r\n        this.state = {\r\n            domains:domains,\r\n            not_educational_or_credibal_domains: [],\r\n            all_positive_domains: []\r\n        };\r\n        this.id=1;\r\n        axios.get(\"/api/domains/request_domains\")\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((domains) => {\r\n              domains.sort((domain_a, domain_b) => {return domain_b.educational_positive_points-domain_a.educational_positive_points;});\r\n              domains.sort((domain_a, domain_b) => {return domain_b.credibility_positive_points-domain_a.credibility_positive_points;});\r\n              domains.sort((domain_a, domain_b) => {return domain_b.liked_positive_points-domain_a.liked_positive_points;});\r\n              var not_educational_or_credibal_domains = [];\r\n              var all_positive_domains = [];\r\n              domains.forEach(domain => {\r\n                domain.id=this.id;\r\n                domain.pages=[];\r\n                domain.request_pages_of_domain_function= () => this.request_pages_of_domain(domain._id);\r\n                domain.is_more_pages_button_hidden=false;\r\n                this.id++;\r\n                if (domain.educational_positive_points - domain.educational_negative_points >= 1 &&\r\n                    domain.credibility_positive_points - domain.credibility_negative_points >= 1 &&\r\n                    domain.liked_positive_points - domain.liked_negative_points >= 1)\r\n                    all_positive_domains.push(domain);\r\n                if (domain.credibility_positive_points - domain.credibility_negative_points < 0 ||\r\n                    domain.educational_positive_points - domain.educational_negative_points < 0)\r\n                    not_educational_or_credibal_domains.push(domain);\r\n              });\r\n              this.setState({\r\n                domains:domains,\r\n                not_educational_or_credibal_domains: not_educational_or_credibal_domains,\r\n                all_positive_domains: all_positive_domains\r\n              });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n              this.setState({\r\n                domains:[],\r\n                not_educational_or_credibal_domains: [],\r\n                all_positive_domains: []\r\n              });\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div>\r\n            <div className=\"Domains\" style={{ backgroundColor:'#0587c3'}}>\r\n            <h1 style={{fontSize:'10', textAlign: 'center', color: 'white'}}>\r\n            ◊ì◊ï◊û◊ô◊ô◊†◊ô◊ù</h1>\r\n        </div>\r\n        <div>\r\n            <Domains_component domains={this.state.domains}/>\r\n        </div>\r\n        <div style={{\"text-align\": \"right\"}}>\r\n            <br/><br/>\r\n            <text>◊ì◊ï◊û◊ô◊ô◊†◊ô◊ù ◊ò◊ï◊ë◊ô◊ù:</text>\r\n            <List_for_googleAPI_component domains_list={this.state.all_positive_domains}/>\r\n            <br/><br/><br/>\r\n            <text>◊ì◊ï◊û◊ô◊ô◊†◊ô◊ù ◊ú◊ê ◊ó◊ô◊†◊ï◊õ◊ô◊ô◊ù ◊ê◊ï ◊ú◊ê ◊ê◊û◊ô◊†◊ô◊ù:</text>\r\n            <List_for_googleAPI_component domains_list={this.state.not_educational_or_credibal_domains}/>\r\n        </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n    request_pages_of_domain = (domain_id) =>\r\n    {\r\n      axios.get(\"/api/domains/domain_pages/?id=\"+domain_id)\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((domain) => {\r\n                domain.pages.forEach(page => {\r\n                  page.id=this.id;\r\n                  this.id++;\r\n                });\r\n              var domains=this.state.domains;\r\n              for (var index=0; index<domains.length; index++)\r\n                if (domains[index]._id == domain._id)\r\n                {\r\n                    domains[index].pages=domain.pages;\r\n                    domains[index].is_more_pages_button_hidden=true;\r\n                    break;\r\n                }\r\n              this.setState({\r\n                domains: domains\r\n              });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n          });\r\n    }\r\n}\r\n\r\n  export default DomainsPage;","import axios from 'axios';\r\n\r\nexport default function topic_topic_edge_rank_function(this_of_topic, rank_type, up_or_down)\r\n{\r\n    var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_topic.state[string_for_edge_upArrow_color];\r\n    var downArrow = this_of_topic.state[string_for_edge_downArrow_color];\r\n\r\n    var rank_code = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rank_code = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rank_code = 2;\r\n\r\n    var edgeID=this_of_topic.props.topic_topic_edge._id;\r\n    var opts={\r\n        edgeID: edgeID,\r\n        rank_type: rank_type,\r\n        rank_code: rank_code\r\n    };\r\n    axios.post(\"/api/topic_topic_edges/rank_topic_topic_edge\", opts, {\r\n        headers: {'findel-auth-token': this_of_topic.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.ranking_date);\r\n            if (this_of_topic.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rank_code is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_topic.last_ranking_id == res_data.ranking_id)\r\n                        if (res_data.rank_code != 0)\r\n                            return;\r\n                    \r\n                    if (recived_time - this_of_topic.last_ranking_timeStamp < 0)\r\n                        return;\r\n                }\r\n            this_of_topic.last_ranking_id = res_data.ranking_id;\r\n            this_of_topic.last_ranking_timeStamp = recived_time;\r\n\r\n            var string_for_edge_rank_type_positive_points = \"edge_\" + rank_type + \"_positive_points\";\r\n            var string_for_edge_rank_type_negative_points = \"edge_\" + rank_type + \"_negative_points\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_edge_rank_type_positive_points] = res_data.positive_points;\r\n            json_for_state_change[string_for_edge_rank_type_negative_points] = res_data.negative_points;\r\n            if (res_data.rank_code == 0)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rank_code == 1)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rank_code'] = res_data.rank_code;\r\n\r\n            this_of_topic.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            this_of_topic.setState({rank_error: error.response.data});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './Topic_topic_edge_component.css';\r\nimport topic_topic_edge_rank_function from './topic_topic_edge_rank_function';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst cookies = new Cookies();\r\nclass Topic_component extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var liked_upArrow='black';\r\n        var liked_downArrow='black';\r\n        var rankings = this.props.topic_topic_edge.rankings;\r\n        if (!rankings)\r\n          rankings=[];\r\n        rankings.forEach(ranking => {\r\n        if (ranking.rank_type == \"liked\")\r\n        {\r\n          if (ranking.rank_code == 1)\r\n            liked_upArrow = 'green'\r\n          else\r\n            liked_downArrow = 'red'\r\n        }\r\n      });\r\n        this.state = {\r\n          liked_upArrowColor: liked_upArrow,\r\n          liked_downArrowColor: liked_downArrow,\r\n          rank_error: \"\",\r\n          edge_liked_positive_points: this.props.topic_topic_edge.liked_positive_points,\r\n          edge_liked_negative_points: this.props.topic_topic_edge.liked_negative_points,\r\n        }\r\n        this.last_ranking_timeStamp = null;\r\n        this.last_ranking_id = null;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n    }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    return (\r\n      <div className=\"topic\">\r\n        <a target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.topic_topic_edge.topic.topicName}>\r\n          <text style={{marginRight: '10px'}}>{this.props.topic_topic_edge.topic.topicName}<br/></text>\r\n        </a>\r\n        <text style={{marginRight: '10px'}}>\r\n        \r\n        ◊ì◊ô◊®◊ï◊í ◊û◊©◊™◊û◊©◊ô◊ù: \r\n        ({this.state.edge_liked_negative_points})\r\n        <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n        <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/> \r\n        ({this.state.edge_liked_positive_points})\r\n\r\n        <br/></text>\r\n        <text style={{marginRight: '10px'}}>◊¶◊ô◊ï◊ü ◊û◊ó◊ô◊§◊ï◊© ◊ë◊ê◊™◊®◊ô◊ù: {this.props.topic_topic_edge.web_scrape_score}<br/></text>\r\n        <text style={{marginRight: '10px'}}>◊ó◊ô◊§◊ï◊© ◊ê◊ó◊®◊ï◊ü: {this.props.topic_topic_edge.last_web_scrape}<br/></text>\r\n        <text style={redText}>{this.state.rank_error}</text>\r\n      </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    topic_topic_edge_rank_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    topic_topic_edge_rank_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nTopic_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Topic_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Topic_topic_edge_component from './Topic_topic_edge_component';\r\n\r\nclass Topics_topic_edges_component extends Component {\r\n    render() {\r\n        return this.props.topic_topic_edges.map((topic_topic_edge)=>(\r\n            <Topic_topic_edge_component key={topic_topic_edge.id} topic_topic_edge={topic_topic_edge}/>\r\n          ));\r\n        }\r\n}\r\nTopics_topic_edges_component.PropsTypes={\r\n    topic_topic_edges: PropsTypes.array.isRequired\r\n} \r\n  export default Topics_topic_edges_component;","import React, { Component } from 'react';\r\nimport './topic_page.css'\r\nimport axios from 'axios';\r\nimport Topics_topic_edges_component from './Topic_topic_edges_component';\r\nimport Comments_loader from '../Comments_components/Comments_loader';\r\nimport Cookies from 'universal-cookie';\r\nconst cookies = new Cookies();\r\n\r\nclass Topics_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const {topic} = this.props.match.params\r\n        this.state = {\r\n            topic: {\r\n              topic_topic_edges: [],\r\n              data_for_comments: {\r\n                object_id: \"\",\r\n                object_collection_name: '',\r\n                number_of_comments: 0\r\n              }\r\n        }};\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        axios.get(\"/api/topic_topic_edges/retrieve_topic_and_connected_topics/?topicName=\"+topic,{\r\n          headers: {'findel-auth-token': this.token}})\r\n          .then((result) => {\r\n              return result.data;\r\n          }).then((topic) => {\r\n              var topic_topic_edges = topic.topic_topic_edges;\r\n              topic_topic_edges.sort((topic_a, topic_b)=>{return topic_b.web_scrape_score-topic_a.web_scrape_score;})\r\n              topic_topic_edges.sort((topic_a, topic_b)=>{return topic_b.liked_positive_points-topic_a.liked_positive_points;})\r\n              topic_topic_edges.forEach(topic => {\r\n                  topic.id=this.id;\r\n                  this.id++;\r\n              });\r\n\r\n              topic.data_for_comments={\r\n                object_id: topic._id,\r\n                object_collection_name: 'topics',\r\n                number_of_comments: topic.number_of_comments\r\n              }\r\n              \r\n              this.setState({\r\n                topic: topic\r\n              });\r\n          }).catch((error) => {\r\n              console.log(error);\r\n          });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div className=\"Topics\">\r\n            <div style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                ◊™◊õ◊†◊ô◊ù ◊ß◊©◊ï◊®◊ô◊ù</h1>\r\n            </div>\r\n            <div>\r\n                <h3 id=\"topic_headLine\">{this.state.topic.topicName}</h3>\r\n                <Comments_loader data_for_comments={this.state.topic.data_for_comments}/> \r\n                <Topics_topic_edges_component topic_topic_edges={this.state.topic.topic_topic_edges}/>\r\n            </div>\r\n        </div>\r\n      );\r\n          \r\n    }\r\n}\r\n\r\n  export default Topics_page;","import axios from 'axios';\r\nimport make_bar_style from '../common_functions/make_bar_style';\r\n\r\nexport default function page_topic_edge_rank_function(this_of_edge, rank_type, up_or_down)\r\n{\r\n    var string_for_edge_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_edge_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_edge.state[string_for_edge_upArrow_color];\r\n    var downArrow = this_of_edge.state[string_for_edge_downArrow_color];\r\n\r\n    var rank_code = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rank_code = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rank_code = 2;\r\n\r\n    var edgeID=this_of_edge.state.edgeID;\r\n    var opts={\r\n        edgeID: edgeID,\r\n        rank_type: rank_type,\r\n        rank_code: rank_code\r\n    };\r\n    axios.post(\"/api/page_topic_edges/rank_page_topic_edge\", opts, {\r\n        headers: {'findel-auth-token': this_of_edge.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.ranking_date);\r\n            if (this_of_edge.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rank_code is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_edge.last_ranking_id == res_data.ranking_id)\r\n                        if (res_data.rank_code != 0)\r\n                            return;\r\n                    \r\n                    if (recived_time - this_of_edge.last_ranking_timeStamp < 0)\r\n                        return;\r\n                }\r\n            this_of_edge.last_ranking_id = res_data.ranking_id;\r\n            this_of_edge.last_ranking_timeStamp = recived_time;\r\n\r\n            var string_for_edge_rank_type_positive_points = rank_type + \"_positive_points\";\r\n            var string_for_edge_rank_type_negative_points = rank_type + \"_negative_points\";\r\n            //var string_for_domain_rank_type_weight = \"domain_\" + rank_type + \"_weight\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_edge_rank_type_positive_points] = res_data.positive_points;\r\n            json_for_state_change[string_for_edge_rank_type_negative_points] = res_data.negative_points;\r\n            //json_for_state_change[string_for_domain_rank_type_weight] = res_data.domain_weight;\r\n            if (res_data.rank_code == 0)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rank_code == 1)\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_edge_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_edge_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rank_code'] = res_data.rank_code;\r\n\r\n            var bar_style=make_bar_style(\r\n                res_data.positive_points,\r\n                res_data.negative_points\r\n            );\r\n            json_for_state_change[rank_type + '_bar_style']=bar_style;\r\n            this_of_edge.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            this_of_edge.setState({rank_error: error.response.data});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Cookies from 'universal-cookie';\r\nimport './connected_topic_edge_component.css';\r\nimport page_topic_edge_rank_function from './page_topic_edge_rank_function';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport {ProgressBar} from 'react-bootstrap';\r\nimport {faHeart} from '@fortawesome/free-regular-svg-icons';\r\nimport make_bar_style from '../common_functions/make_bar_style';\r\nconst cookies = new Cookies();\r\nclass Connected_topic_edge_component extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n    var liked_upArrow='black';\r\n    var liked_downArrow='black';\r\n    var rankings = this.props.connected_topic_edge.rankings\r\n    if (rankings)\r\n      rankings.forEach(ranking => {\r\n          if (ranking.rank_type == \"liked\")\r\n          {\r\n            if (ranking.rank_code == 1)\r\n              liked_upArrow = 'green'\r\n            else\r\n              liked_downArrow = 'red'\r\n          }\r\n        });\r\n    var jaccard_similarity = null;\r\n    var is_jaccard_hidden = true;\r\n    if (this.props.connected_topic_edge.jaccard_similarity != null)\r\n    {\r\n      jaccard_similarity = this.props.connected_topic_edge.jaccard_similarity;\r\n      is_jaccard_hidden = false;\r\n    }\r\n\r\n    var num_of_links_in_page = null;\r\n    var is_num_of_links_in_page_hidden = true;\r\n    if (this.props.connected_topic_edge.num_of_links_in_page != null)\r\n    {\r\n      num_of_links_in_page = this.props.connected_topic_edge.num_of_links_in_page;\r\n      is_num_of_links_in_page_hidden = false;\r\n    }\r\n\r\n    var liked_bar_style=make_bar_style(\r\n      this.props.connected_topic_edge.liked_positive_points,\r\n      this.props.connected_topic_edge.liked_negative_points,\r\n      );\r\n    \r\n    \r\n\r\n    this.state = {\r\n      edgeID: this.props.connected_topic_edge._id,\r\n      liked_upArrowColor: liked_upArrow,\r\n      liked_downArrowColor: liked_downArrow,\r\n      rank_error: \"\",\r\n      liked_positive_points: this.props.connected_topic_edge.liked_positive_points,\r\n      liked_negative_points: this.props.connected_topic_edge.liked_negative_points,\r\n      rank_code: this.props.connected_topic_edge.userrank_code,\r\n      jaccard_similarity: jaccard_similarity,\r\n      is_jaccard_hidden: is_jaccard_hidden,\r\n      num_of_links_in_page: num_of_links_in_page,\r\n      is_num_of_links_in_page_hidden: is_num_of_links_in_page_hidden,\r\n      liked_bar_style: liked_bar_style\r\n    }\r\n    this.last_ranking_timeStamp = null;\r\n    this.last_ranking_id = null;\r\n    this.token=cookies.get('findel-auth-token') || \"\";\r\n  }\r\n  render() {\r\n    var redText={color: \"red\"};\r\n    return (\r\n          <div className=\"connected_topic\">\r\n            <a className=\"topic_link\" target=\"_blank\" rel=\"noopener noreferrer\" href={'/?search=' + this.props.connected_topic_edge.topic.topicName}>{this.props.connected_topic_edge.topic.topicName}</a>\r\n            <br/>\r\n            <table>\r\n              <tr>\r\n              <td align='left'>\r\n                  ({this.state.liked_negative_points}) \r\n                  <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.liked_downArrowColor} onClick={() => this.rank_click_down(\"liked\")}/>\r\n              </td>\r\n              <td className='progress_bar_td'>\r\n                  <ProgressBar\r\n                  variant={this.state.liked_bar_style[1]}\r\n                  now={this.state.liked_bar_style[0]} />\r\n              </td>\r\n              <td align='right'>\r\n                  <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.liked_upArrowColor} onClick={() => this.rank_click_up(\"liked\")}/>\r\n                  ({this.state.liked_positive_points})\r\n                  <FontAwesomeIcon icon={faHeart}/>\r\n              </td>\r\n              </tr>\r\n            </table>\r\n            <text style={redText}>{this.state.rank_error}</text>\r\n            \r\n            <div hidden={this.state.is_jaccard_hidden}>\r\n              <text>◊ì◊û◊ô◊ï◊ü ◊ë◊ô◊ü ◊¢◊û◊ï◊ì ◊ï◊ô◊ß◊ô◊§◊ì◊ô◊î ◊ú◊ì◊£: {this.state.jaccard_similarity}</text>\r\n            </div>\r\n            <div hidden={this.state.is_num_of_links_in_page_hidden}>\r\n              <text>◊û◊°◊§◊® ◊ú◊ô◊†◊ß◊ô◊ù ◊ë◊ï◊ô◊ß◊ô◊§◊ì◊ô◊î ◊î◊û◊ï◊§◊ô◊¢◊ô◊ù ◊ë◊ê◊™◊®: {this.state.num_of_links_in_page}</text>\r\n            </div>\r\n          </div>\r\n    );\r\n  }\r\n  rank_click_up(rank_type)\r\n  {\r\n    page_topic_edge_rank_function(this, rank_type, \"up\")\r\n  }\r\n  rank_click_down(rank_type)\r\n  {\r\n    page_topic_edge_rank_function(this, rank_type, \"down\")\r\n  }\r\n}\r\nConnected_topic_edge_component.PropsTypes={\r\n    topic: PropsTypes.object.isRequired\r\n}   \r\nexport default Connected_topic_edge_component;","import React, { Component } from 'react';\r\nimport PropsTypes from 'prop-types';\r\nimport Connected_topic_edge_component from './connected_topic_edge_component';\r\n\r\nclass Connected_topics_edges_component extends Component {\r\n    render() {\r\n        return this.props.connected_topics_edges.map((connected_topic_edge)=>(\r\n            <Connected_topic_edge_component key={connected_topic_edge.id} connected_topic_edge={connected_topic_edge}/>\r\n          ));\r\n        }\r\n}\r\nConnected_topics_edges_component.PropsTypes={\r\n    topics: PropsTypes.array.isRequired\r\n} \r\n  export default Connected_topics_edges_component;","import axios from 'axios';\r\nimport make_bar_style from '../common_functions/make_bar_style';\r\n\r\nexport default function page_rank_function(this_of_page_ref, rank_type, up_or_down)\r\n{\r\n    var string_for_upArrow_color = rank_type + \"_upArrowColor\";\r\n    var string_for_downArrow_color = rank_type + \"_downArrowColor\";\r\n    var upArrow = this_of_page_ref.state[string_for_upArrow_color];\r\n    var downArrow = this_of_page_ref.state[string_for_downArrow_color];\r\n\r\n    var rank_code = 0;\r\n    if (up_or_down == \"up\")\r\n    {\r\n        if (upArrow != 'green')\r\n            rank_code = 1;\r\n    }\r\n    else\r\n        if (downArrow != 'red')\r\n            rank_code = 2;\r\n            \r\n    var pageID=this_of_page_ref.state._id\r\n    var opts={\r\n    pageID: pageID,\r\n    rank_type: rank_type,\r\n    rank_code: rank_code\r\n    }\r\n    var api_path= \"/api/pages/rank_page\";\r\n\r\n    axios.post(api_path, opts, {\r\n        headers: {'findel-auth-token': this_of_page_ref.token}\r\n    })\r\n        .then((result) => {\r\n            var res_data = result.data;\r\n            var recived_time = new Date(res_data.ranking_date);\r\n            if (this_of_page_ref.last_ranking_timeStamp != null)\r\n                {\r\n                    /*\r\n                        if ids are the same then a deletion was made, so if rank_code is not 0 then\r\n                        the deletion was received earlier\r\n                    */\r\n                        if (this_of_page_ref['last_ranking_id_'+rank_type] == res_data.ranking_id)\r\n                            if (res_data.rank_code != 0)\r\n                                return;\r\n                    \r\n                    if (recived_time - this_of_page_ref['last_ranking_timeStamp_'+rank_type] < 0)\r\n                        return;\r\n                }\r\n            this_of_page_ref['last_ranking_id_'+rank_type] = res_data.ranking_id;\r\n            this_of_page_ref['last_ranking_timeStamp_'+rank_type] = recived_time;\r\n\r\n            var string_for_rank_type_positive_points = rank_type + \"_positive_points\";\r\n            var string_for_domain_rank_type_positive_points = \"domain_\" + rank_type + \"_positive_points\";\r\n            var string_for_rank_type_negative_points = rank_type + \"_negative_points\";\r\n            var string_for_domain_rank_type_negative_points = \"domain_\" + rank_type + \"_negative_points\";\r\n\r\n            var json_for_state_change = {};\r\n            json_for_state_change[string_for_rank_type_positive_points] = res_data.positive_points;\r\n            json_for_state_change[string_for_domain_rank_type_positive_points] = res_data.domain_positive_points;\r\n            json_for_state_change[string_for_rank_type_negative_points] = res_data.negative_points;\r\n            json_for_state_change[string_for_domain_rank_type_negative_points] = res_data.domain_negative_points;\r\n            if (res_data.rank_code == 0)\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_downArrow_color] = 'black';\r\n            }\r\n            else if (res_data.rank_code == 1)\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'green';\r\n                json_for_state_change[string_for_downArrow_color] = 'black';\r\n            }\r\n            else\r\n            {\r\n                json_for_state_change[string_for_upArrow_color] = 'black';\r\n                json_for_state_change[string_for_downArrow_color] = 'red';\r\n            }\r\n            json_for_state_change['rank_code'] = res_data.rank_code;\r\n\r\n            var bar_style=make_bar_style(\r\n                res_data.positive_points,\r\n                res_data.negative_points\r\n              )\r\n            var domain_bar_style=make_bar_style(\r\n            res_data.domain_positive_points,\r\n            res_data.domain_negative_points\r\n            )\r\n            json_for_state_change[rank_type + '_bar_style']=bar_style;\r\n            json_for_state_change['domain_' + rank_type + '_bar_style']=domain_bar_style;\r\n            this_of_page_ref.setState(json_for_state_change);\r\n        }).catch((error) => {\r\n            if (error.response != null)\r\n                this_of_page_ref.setState({rank_error: error.response.data});\r\n            else\r\n                this_of_page_ref.setState({rank_error: error.message});\r\n        });\r\n}","import React, { Component } from 'react';\r\nimport './Page_page.css'\r\nimport axios from 'axios';\r\nimport Connected_topics_edges_component from './connected_topics_edges_component';\r\nimport Comments_loader from '../Comments_components/Comments_loader';\r\nimport Cookies from 'universal-cookie';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowAltCircleUp} from '@fortawesome/free-solid-svg-icons';\r\nimport {faArrowAltCircleDown} from '@fortawesome/free-solid-svg-icons';\r\nimport {faHeart} from '@fortawesome/free-regular-svg-icons';\r\nimport {faSearch} from '@fortawesome/free-solid-svg-icons';\r\nimport {faBook} from '@fortawesome/free-solid-svg-icons';\r\nimport {faGlobe} from '@fortawesome/free-solid-svg-icons';\r\nimport {faCircle} from '@fortawesome/free-solid-svg-icons';\r\nimport {ProgressBar} from 'react-bootstrap';\r\nimport make_bar_style from '../common_functions/make_bar_style';\r\nimport page_rank_function from './page_rank_function';\r\nimport round from '../round_function';\r\nconst cookies = new Cookies();\r\n\r\nclass Page_page extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var topics=[];\r\n        const {encoded_pageURL} = this.props.match.params;\r\n        try {\r\n            var pageURL=decodeURI(encoded_pageURL);\r\n        } catch (error) {\r\n            console.log(\"failed to decode url\");\r\n        }\r\n        \r\n        var domain= {domainURL: \"\"};\r\n        this.state = {\r\n            page_loading: true,\r\n            liked_bar_style: [0, 'info'],\r\n            credibility_bar_style: [0, 'info'],\r\n            educational_bar_style: [0, 'info'],\r\n            domain_liked_bar_style: [0, 'info'],\r\n            domain_credibility_bar_style: [0, 'info'],\r\n            domain_educational_bar_style: [0, 'info'],\r\n            pageID: \"\",\r\n            topics:topics,\r\n            pageURL: pageURL,\r\n            domain: domain,\r\n            page_topic_edges: [],\r\n            data_for_comments: {\r\n                object_id: \"\",\r\n                object_collection_name: '',\r\n                number_of_comments: 0\r\n            }\r\n        };\r\n        this.id=1;\r\n        this.token=cookies.get('findel-auth-token') || \"\";\r\n        if (pageURL)\r\n            axios.get(\"/api/pages/page_data/?encoded_pageURL=\"+encoded_pageURL,{\r\n            headers: {'findel-auth-token': this.token}})\r\n            .then((result) => {\r\n                return result.data;\r\n            }).then((page) => {\r\n                var page_topic_edges=page.page_topic_edges;\r\n                page_topic_edges.sort((edge_a, edge_b)=>{return edge_b.web_scrape_score-edge_a.web_scrape_score;});\r\n                page_topic_edges.sort((edge_a, edge_b)=>{return edge_b.liked_positive_points-edge_a.liked_positive_points;});\r\n                page_topic_edges.forEach(edge => {\r\n                    edge.id = this.id;\r\n                    edge.page={ pageURL: page.pageURL }\r\n                    this.id++;\r\n                });\r\n                \r\n                var credibility_upArrow='black';\r\n                var credibility_downArrow='black';\r\n                var educational_upArrow='black';\r\n                var educational_downArrow='black';\r\n\r\n                if (page.rankings)\r\n                    page.rankings.forEach(ranking => {\r\n                        if (ranking.rank_type == \"credibility\")\r\n                        {\r\n                        if (ranking.rank_code == 1)\r\n                            credibility_upArrow = 'green'\r\n                        else\r\n                            credibility_downArrow = 'red'\r\n                        }\r\n\r\n                        if (ranking.rank_type == \"educational\")\r\n                        {\r\n                        if (ranking.rank_code == 1)\r\n                            educational_upArrow = 'green'\r\n                        else\r\n                            educational_downArrow = 'red'\r\n                        }\r\n                    });\r\n\r\n                var liked_bar_style=make_bar_style(\r\n                page.liked_positive_points,\r\n                page.liked_negative_points,\r\n                )\r\n                var credibility_bar_style=make_bar_style(\r\n                page.credibility_positive_points,\r\n                page.credibility_negative_points,\r\n                )\r\n                var educational_bar_style=make_bar_style(\r\n                page.educational_positive_points,\r\n                page.educational_negative_points,\r\n                )\r\n                var domain_liked_bar_style=make_bar_style(\r\n                page.domain.liked_positive_points,\r\n                page.domain.liked_negative_points,\r\n                )\r\n                var domain_credibility_bar_style=make_bar_style(\r\n                page.domain.credibility_positive_points,\r\n                page.domain.credibility_negative_points,\r\n                )\r\n                var domain_educational_bar_style=make_bar_style(\r\n                page.domain.educational_positive_points,\r\n                page.domain.educational_negative_points,\r\n                )\r\n                page.credibility_upArrowColor= credibility_upArrow;\r\n                page.credibility_downArrowColor= credibility_downArrow;\r\n                page.educational_upArrowColor= educational_upArrow;\r\n                page.educational_downArrowColor= educational_downArrow;\r\n                page.rank_error= \"\";\r\n                page.domain_liked_positive_points= page.domain.liked_positive_points;\r\n                page.domain_credibility_positive_points= page.domain.credibility_positive_points;\r\n                page.domain_educational_positive_points= page.domain.educational_positive_points;\r\n                page.domain_liked_negative_points= page.domain.liked_negative_points;\r\n                page.domain_credibility_negative_points= page.domain.credibility_negative_points;\r\n                page.domain_educational_negative_points= page.domain.educational_negative_points;\r\n                page.liked_bar_style= liked_bar_style;\r\n                page.credibility_bar_style= credibility_bar_style;\r\n                page.educational_bar_style= educational_bar_style;\r\n                page.domain_liked_bar_style= domain_liked_bar_style;\r\n                page.domain_credibility_bar_style= domain_credibility_bar_style;\r\n                page.domain_educational_bar_style= domain_educational_bar_style\r\n                this['last_ranking_timeStamp_credibility'] = null;\r\n                this['last_ranking_id_credibility'] = null;\r\n                this['last_ranking_timeStamp_educational'] = null;\r\n                this['last_ranking_id_educational'] = null;\r\n                page.data_for_comments={\r\n                    object_id: page._id,\r\n                    object_collection_name: 'pages',\r\n                    number_of_comments: page.number_of_comments\r\n                }\r\n                page.page_loading=false;\r\n                this.setState(page);\r\n            }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n      }\r\n    render() {\r\n        \r\n      return (\r\n        <div className='page_page'>\r\n            <div className=\"Page\" style={{ backgroundColor:'#0587c3'}}>\r\n                <h1 style={{fontSize:'10', textAlign: 'center', color: 'white', padding: '10px'}}>\r\n                ◊§◊®◊ò◊ô◊ù ◊¢◊ú ◊î◊ì◊£</h1>\r\n                \r\n            </div>\r\n            <div>\r\n                <h3 id=\"page_headLine\">{this.state.pageURL}</h3>\r\n                <div hidden={this.state.page_loading}>\r\n                    <text>{this.state.pageSnap}</text>\r\n                    <br/>\r\n                    <text>◊†◊ô◊ß◊ï◊ì ◊î◊ì◊£:</text><br/>\r\n                    <table>\r\n                        <tr>\r\n                        <td align='left'>\r\n                            ({round(this.state.liked_negative_points)})\r\n                            <FontAwesomeIcon icon={faCircle} color='black'/>\r\n                        </td>\r\n                        <td className='progress_bar_td'>\r\n                            <ProgressBar\r\n                            variant={this.state.liked_bar_style[1]}\r\n                            now={this.state.liked_bar_style[0]} />\r\n                        </td>\r\n                        <td align='right'>\r\n                            <FontAwesomeIcon icon={faCircle} color='black'/>\r\n                            ({round(this.state.liked_positive_points)})\r\n                            <FontAwesomeIcon icon={faHeart}/>\r\n                        </td>\r\n                        </tr>\r\n                        <tr>\r\n                        <td align='left'>\r\n                        ({round(this.state.credibility_negative_points)}) \r\n                        <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.credibility_downArrowColor} onClick={() => this.rank_click_down(\"credibility\")}/>\r\n                        </td>\r\n                        <td>\r\n                        <ProgressBar\r\n                            variant={this.state.credibility_bar_style[1]}\r\n                            now={this.state.credibility_bar_style[0]} />\r\n                        </td>\r\n                        \r\n                        <td align='right'>\r\n                        <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.credibility_upArrowColor} onClick={() => this.rank_click_up(\"credibility\")}/> \r\n                        ({round(this.state.credibility_positive_points)}) \r\n                        <FontAwesomeIcon icon={faSearch}/>\r\n                        </td>\r\n                        </tr>\r\n                        <tr>\r\n                        <td align='left'>\r\n                        ({round(this.state.educational_negative_points)}) \r\n                        <FontAwesomeIcon icon={faArrowAltCircleDown} color={this.state.educational_downArrowColor} onClick={() => this.rank_click_down(\"educational\")}/>\r\n                        </td>\r\n                        <td>\r\n                        <ProgressBar\r\n                            variant={this.state.educational_bar_style[1]}\r\n                            now={this.state.educational_bar_style[0]} />\r\n                        </td>\r\n                        \r\n                        <td align='right'>\r\n                        <FontAwesomeIcon icon={faArrowAltCircleUp} color={this.state.educational_upArrowColor} onClick={() => this.rank_click_up(\"educational\")}/> \r\n                        ({round(this.state.educational_positive_points)})\r\n                        <FontAwesomeIcon icon={faBook}/>\r\n                        </td>\r\n                        </tr>\r\n                        </table>\r\n\r\n                        <table>\r\n                        <tr>\r\n                        <td align='left'>({round(this.state.domain_liked_negative_points)})</td>\r\n                        <td className='progress_bar_domain_td'>\r\n                        <ProgressBar\r\n                            variant={this.state.domain_liked_bar_style[1]}\r\n                            now={this.state.domain_liked_bar_style[0]} />\r\n                        </td>\r\n                        <td align='right'>\r\n                            ({round(this.state.domain_liked_positive_points)})\r\n                            <FontAwesomeIcon icon={faGlobe}/>\r\n                            <small><FontAwesomeIcon icon={faHeart}/></small>\r\n                        </td>\r\n                        </tr>\r\n                        \r\n                        <tr>\r\n                        <td align='left'>({round(this.state.domain_credibility_negative_points)})</td>\r\n                        <td>\r\n                        <ProgressBar\r\n                            variant={this.state.domain_credibility_bar_style[1]}\r\n                            now={this.state.domain_credibility_bar_style[0]} />\r\n                        </td>\r\n                        <td align='right'>\r\n                            ({round(this.state.domain_credibility_positive_points)})\r\n                            <FontAwesomeIcon icon={faGlobe}/>\r\n                            <small><FontAwesomeIcon icon={faSearch}/></small>\r\n                        </td>\r\n                        </tr>\r\n                        <tr>\r\n                        <td align='left'>({round(this.state.domain_educational_negative_points)})</td>\r\n                        <td>\r\n                        <ProgressBar\r\n                            variant={this.state.domain_educational_bar_style[1]}\r\n                            now={this.state.domain_educational_bar_style[0]} />\r\n                        </td>\r\n                        <td align='right'>\r\n                            ({round(this.state.domain_educational_positive_points)})\r\n                            <FontAwesomeIcon icon={faGlobe}/>\r\n                            <small><FontAwesomeIcon icon={faBook}/></small>\r\n                        </td>\r\n                        </tr>\r\n                    </table>\r\n                    <br/>\r\n                    <Comments_loader data_for_comments={this.state.data_for_comments}/> \r\n                    <Connected_topics_edges_component connected_topics_edges={this.state.page_topic_edges}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      ); \r\n    }\r\n    rank_click_up(rank_type)\r\n    {\r\n      page_rank_function(this, rank_type, \"up\");\r\n    }\r\n    rank_click_down(rank_type)\r\n    {\r\n      page_rank_function(this, rank_type, \"down\");\r\n    }\r\n}\r\n\r\n  export default Page_page;","import React, { Component } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\nimport { faCheckSquare, faCoffee } from '@fortawesome/free-solid-svg-icons';\n\nimport axios from 'axios';\nimport './App.css';\nimport SearchPage from './components/SearchPageComponents/SearchPage';\nimport LoginPage from './components/LoginPage';\nimport RegisterPage from './components/RegistrationComponents/register';\nimport UserSearchHistory from './components/user_search_history_components/User_Search_History_Page';\nimport UserFavorites from './components/user_favorites_components/User_favorites_page';\nimport DomainsPage from './components/Domains_components/DomainsPage';\nimport Topic_page from './components/Topic_components/topic_page';\nimport Page_page from './components/Page_components/Page_page';\nimport Cookies from 'universal-cookie';\nimport { createBrowserHistory } from 'history';\n \nconst history = createBrowserHistory();\nhistory.listen((location, action) => {\n  console.log(\n    `The current URL is ${location.pathname}${location.search}${location.hash}`\n  );\n  console.log(`The last navigation action was ${action}`);\n  window.location= location.pathname + location.search;\n});\nconst cookies = new Cookies();\nlibrary.add(fab, faCheckSquare, faCoffee);\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    var userName=cookies.get('findelUserName') || \"\";\n    var userPosition=cookies.get('findelUserPosition') || \"\";\n    var hideLogoutBTN=false;\n    var displayLoggingComponents={display: 'none'};\n    var displayUserDataComponents={display: 'inline'}\n    if (userName==\"\")\n    {\n      hideLogoutBTN=true;\n      displayLoggingComponents={display: 'inline'};\n      displayUserDataComponents={display: 'none'}\n    }\n    this.state = {\n      userName: userName,\n      hideLogoutBTN:hideLogoutBTN,\n      displayLoggingComponents:displayLoggingComponents,\n      displayUserDataComponents:displayUserDataComponents\n    };\n    if (userName==\"\")\n    {\n      var token=cookies.get('findel-auth-token') || \"\";\n      if (token!=\"\")\n      {\n        var opts={\n          headers: {'findel-auth-token': token}\n        }\n        axios.get('/api/users/me', opts\n        ).then(response => {\n          userName= response.data.userName;\n          userPosition= response.data.position;\n          var displayRegisterComponent={display: 'none'};\n          displayUserDataComponents={display: 'inline'}\n          if (userPosition!=\"student\")\n            displayRegisterComponent={display: 'inline'};\n          this.setState({\n            userName: userName,\n            hideLogoutBTN: false,\n            displayLoggingComponents:{display: 'none'},\n            displayRegisterComponents:displayRegisterComponent,\n            displayUserDataComponents:displayUserDataComponents\n            });\n          cookies.set('findelUserName', userName, { path: '/' });\n          cookies.set('findelUserPosition', userPosition, { path: '/' });\n          }).catch(function(error) {\n            alert(error.data);\n          });\n      }\n    }\n  }\n  render() {\n    return (\n      <div className='App'>\n      <Router>\n        <div>\n          <text>◊©◊ú◊ï◊ù {this.state.userName}</text>\n          <div className=\"leftDiv\">\n          <button className=\"emptyBTN\" name=\"logoutBTN\" onClick={() => this.logout()} hidden={this.state.hideLogoutBTN}>◊î◊™◊†◊™◊ß</button>\n          </div>\n          <br></br>\n          \n\n          <text className=\"link_text\" onClick={() => this.push_to_history_and_go('/')}>◊ó◊§◊©</text>\n          <text className=\"link_text\" style={this.state.displayLoggingComponents} onClick={() => this.push_to_history_and_go('/Login_page')}> - ◊î◊™◊ó◊ë◊®</text>\n          <text className=\"link_text\" style={this.state.displayRegisterComponents} onClick={() => this.push_to_history_and_go('/Register_page')}> -  ◊®◊ô◊©◊ï◊ù </text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserSearchHistory_page')}> - ◊î◊ô◊°◊ò◊ï◊®◊ô◊™ ◊ó◊ô◊§◊ï◊©</text>\n          <text className=\"link_text\" style={this.state.displayUserDataComponents} onClick={() => this.push_to_history_and_go('/UserFavorites_page')}> - ◊ì◊§◊ô◊ù ◊©◊ì◊ô◊®◊í◊™◊ô ◊õ◊ò◊ï◊ë◊ô◊ù</text>\n          <text className=\"link_text\" onClick={() => this.push_to_history_and_go('/Domains_page')}> - ◊ì◊ï◊û◊ô◊ô◊†◊ô◊ù</text>\n          <hr />\n\n          <Route exact path=\"/\" component={SearchPage} />\n          <Route path=\"/Login_page\" component={LoginPage} />\n          <Route path=\"/Register_page\" component={RegisterPage} />\n          <Route path=\"/UserSearchHistory_page\" component={UserSearchHistory} />\n          <Route path=\"/UserFavorites_page\" component={UserFavorites} />\n          <Route path=\"/Domains_page\" component={DomainsPage} />\n          <Route path=\"/Topic_page/:topic\" component={Topic_page} />\n          <Route path=\"/Page_page/:encoded_pageURL\" component={Page_page} />\n          \n        </div>\n      </Router>\n      </div>\n    );\n  }\n  push_to_history_and_go(location)\n  {\n    history.push(location);\n    window.location = location;\n  }\n  logout()\n  {\n    cookies.set('findel-auth-token', \"\", { path: '/' });\n    cookies.set('findelUserName', \"\", { path: '/' });\n    window.location = \"/\";\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}