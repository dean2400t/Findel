(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){e.exports=a(410)},204:function(e,t,a){},207:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},231:function(e,t){},244:function(e,t){},246:function(e,t){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(176),i=a.n(r),o=(a(48),a(2)),c=a(3),l=a(5),u=a(4),h=a(6),d=a(413),m=a(412),p=a(414),f=a(47),_=a(177),k=a(17),v=a(7),g=a.n(v),b=(a(204),a(8)),y=a.n(b),E=a(11),C=a(9),N=(a(207),a(1)),w=a.n(N),j=(a(116),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"aSiteSR"},s.a.createElement("p",null,this.props.aSite.formatedURL," ",s.a.createElement("i",{className:this.props.aSite.scrape})))}}]),t}(n.Component));j.PropsTypes={aSite:w.a.object.isRequired};var S=j,O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.sitesBeingSearched.map(function(e){return s.a.createElement(S,{key:e.id,aSite:e})})}}]),t}(n.Component);O.PropsTypes={sitesBeingSearched:w.a.array.isRequired};var x=O,R=(a(210),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("text",{className:"exContent",style:{color:"#F0F8FF"},onClick:function(){return e.props.aContent.clicked(e.props.aContent.page)}},this.props.aContent.page,this.props.aContent.partition)}}]),t}(n.Component));R.PropsTypes={aContent:w.a.object.isRequired};var B=R,P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.expandedContents.map(function(e){return s.a.createElement(B,{key:e.id,aContent:e})})}}]),t}(n.Component);P.PropsTypes={expandedContents:w.a.array.isRequired};var L=P,T=(a(211),a(33)),D=a(10),U=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"cancelRank",value:function(e){var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:0};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;1==e.state.rankCode?a--:a++,e.setState({upArrowColor:"black",downArrowColor:"black",rank_error:"",edgeWeight:a,rankCode:0})}).catch(function(t){e.setState({rank_error:t.response.data})})}},{key:"upClick",value:function(e){if("green"==e.state.upArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:1};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;2==e.state.rankCode&&a++,a++,e.setState({upArrowColor:"green",downArrowColor:"black",rank_error:"",edgeWeight:a,rankCode:1})}).catch(function(t){e.setState({rank_error:t.response.data})})}}},{key:"downClick",value:function(e){if("red"==e.state.downArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.aRefSite.edgeID,siteID:e.props.aRefSite.siteID,rankCode:2};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rankSite",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edgeWeight;1==e.state.rankCode&&a--,a--,e.setState({upArrowColor:"black",downArrowColor:"red",rank_error:"",edgeWeight:a,rankCode:2})}).catch(function(t){e.setState({rank_error:t.response.data})})}}}]),e}(),F=new D.a,A=new U,I=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).upClick=function(){A.upClick(Object(C.a)(Object(C.a)(a)))},a.downClick=function(){A.downClick(Object(C.a)(Object(C.a)(a)))};var n="black",s="black";return 1==a.props.aRefSite.userRankCode&&(n="green"),2==a.props.aRefSite.userRankCode&&(s="red"),a.state={upArrowColor:n,downArrowColor:s,rank_error:"",edgeWeight:a.props.aRefSite.edgeWeight,rankCode:a.props.aRefSite.userRankCode},a.token=F.get("findel-auth-token")||"",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"aSiteRef"},s.a.createElement("text",null,s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.aRefSite.siteURL},this.props.aRefSite.formatedURL),s.a.createElement("br",null),s.a.createElement("text",null,this.props.aRefSite.siteSnap),s.a.createElement("br",null),"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ",s.a.createElement(T.a,{icon:k.b,color:this.state.upArrowColor,onClick:function(){return e.upClick()}})," (",this.state.edgeWeight,") ",s.a.createElement(T.a,{icon:k.a,color:this.state.downArrowColor,onClick:function(){return e.downClick()}})),s.a.createElement("br",null),s.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"cancelRank",value:function(){A.cancelRank(this)}}]),t}(n.Component);I.PropsTypes={aRefSite:w.a.object.isRequired};var K=I,H=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.refSites.map(function(e){return s.a.createElement(K,{key:e.id,aRefSite:e})})}}]),t}(n.Component);H.PropsTypes={refSites:w.a.array.isRequired};var M=H,q=(a(212),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"title"},s.a.createElement("text",null,s.a.createElement("u",null,s.a.createElement("b",null,this.props.theTitle))))}}]),t}(n.Component));q.PropsTypes={theTitle:w.a.string.isRequired};var W=q,Q=(a(213),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"subject"},s.a.createElement("text",null,this.props.subject.name,": ",this.props.subject.description))}}]),t}(n.Component));Q.PropsTypes={subject:w.a.object.isRequired};var z=Q,V=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.theSubjects.map(function(e){return s.a.createElement(z,{key:e.id,subject:e})})}}]),t}(n.Component);V.PropsTypes={theSubjects:w.a.array.isRequired};var J=V,X=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.ambigousData.map(function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(W,{key:e.id,theTitle:e.title}),s.a.createElement(J,{key:e.subID,theSubjects:e.subjects}))})}}]),t}(n.Component);X.PropsTypes={aData:w.a.array.isRequired};var G=X,Y=(a(214),function(){function e(t,a,n){Object(o.a)(this,e);var s=t,r=a,i=[];i.push(1);for(var c=1;c<r;c++)i.push(65536*i[c-1]%s);this.R=65536,this.Q=t,this.numOfChars=a,this.RMarray=i,this.numOfSites=n,this.sitesHashes=[];for(var l=0;l<n;l++){var u=[];u[a-1]=null,this.sitesHashes.push(u)}this.texts=[],this.texts[n-1]=null,this.wikiLinksHashesToWordByLength=null,this.wordsMatriciesByLength=null}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"hashWikiLinks",value:function(e){for(var t=this,a=[],n=[],s=0;s<this.numOfChars;s++){n.push([]);var r=[];r[this.Q-1]=void 0,a.push(r)}for(s=0;s<e.length;s++)if(null!=e[s].topicName&&e[s].topicName.length<this.numOfChars){var i=[];i[this.numOfSites-1]=null;var o=e[s].topicName;n[o.length-1].push({linkName:o,index_in_connected_topics_edges:e[s].index_in_connected_topics_edges,hash:-1,sitesHits:i})}var c=1;n.forEach(function(e){if(null!=e[0]){var n=c,s=0;e.forEach(function(e){e.hash=t.hash(e.linkName,n);var r=a[n-1];void 0==r[e.hash]?r[e.hash]=[{linkName:e.linkName,linkIndex:s}]:r[e.hash].find(function(t){return t.linkName=e.linkName})||r[e.hash].push({linkName:e.linkName,linkIndex:s});s++})}c++}),this.wikiLinksHashesToWordByLength=n,this.wordsMatriciesByLength=a}},{key:"creatHashTables",value:function(e,t){for(var a=1;a<=this.numOfChars;a++){var n=e.length-a+1,s=[],r=this.hash(e,a);s[0]=r;for(var i=1;i<n;i++)r=((r=(r+this.Q-this.RMarray[a-1]*e.charCodeAt(i-1)%this.Q)%this.Q)*this.R+e.charCodeAt(i-1+a))%this.Q,s[i]=r;this.sitesHashes[t][a-1]=s}this.texts[t]=e}},{key:"addHitsFromSite",value:function(e,t){for(var a,n=this,s=this.texts[t],r=this.sitesHashes[t],i=0,o=0;o<this.numOfChars;o++){var c=this.wordsMatriciesByLength[o],l=r[o],u=0;l.forEach(function(e){void 0!=c[e]&&(a=s.substring(u,u+o+1),c[l[u]].forEach(function(e){a==e.linkName&&(null==n.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]?(n.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]=1,i++):n.wikiLinksHashesToWordByLength[o][e.linkIndex].sitesHits[t]++)})),u++})}e.num_of_links_in_site=i}}]),e}()),Z=function(){function e(t,a,n){Object(o.a)(this,e);var s=t;this.RM=1;for(var r=1;r<a;r++)this.RM=65536*this.RM%s;this.R=65536,this.Q=t,this.numOfChars=a;var i=this.creatHashTable(n);this.create_sets_array(n,i)}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"creatHashTable",value:function(e){var t=e.length-this.numOfChars+1,a=[],n=this.hash(e,this.numOfChars);a[0]=n;for(var s=1;s<t;s++)n=((n=(n+this.Q-this.RM*e.charCodeAt(s-1)%this.Q)%this.Q)*this.R+e.charCodeAt(s-1+this.numOfChars))%this.Q,a[s]=n;return a}},{key:"create_sets_array",value:function(e,t){var a=this,n=0,s=[];s[this.Q-1]=void 0,t.forEach(function(t){var r=e.substring(n,n+a.numOfChars);void 0==s[t]?(s[t]={},s[t][r]={primeSite:1,site_to_compare:0}):void 0==s[t][r]&&(s[t][r]={primeSite:1,site_to_compare:0}),n++}),this.hashed_set_array=s}},{key:"compute_site_similarity",value:function(e){var t=this,a=0;this.creatHashTable(e).forEach(function(n){var s=e.substring(a,a+t.numOfChars);void 0==t.hashed_set_array[n]?(t.hashed_set_array[n]={},t.hashed_set_array[n][s]={primeSite:0,site_to_compare:1}):void 0==t.hashed_set_array[n][s]?t.hashed_set_array[n][s]={primeSite:0,site_to_compare:1}:1!=t.hashed_set_array[n][s].site_to_compare&&(t.hashed_set_array[n][s].site_to_compare=1),a++});var n=0,s=0;return this.hashed_set_array.forEach(function(e){e&&Object.keys(e).forEach(function(t){1==e[t].primeSite&&1==e[t].site_to_compare?(n++,s++,e[t].site_to_compare=0):0==e[t].primeSite&&1==e[t].site_to_compare?(n++,e[t].site_to_compare=0):1==e[t].primeSite&&0==e[t].site_to_compare&&n++})}),s/n}}]),e}(),$=a(178),ee=a.n($),te=function(){function e(){var t=this;Object(o.a)(this,e),this.request_sites_from_Server_to_use=function(){var e=Object(E.a)(y.a.mark(function e(t,a){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("/api/topicsToSitesData/?search="+t,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){for(var t=[],n=[],s=0;s<e.length;s++)s<15&&t.push({index:s,siteID:e[s].siteID,edgeID:e[s].edgeID,siteURL:e[s].siteURL,formatedURL:e[s].siteFormatedURL,siteSnap:e[s].siteSnap,domain:e[s].domain,userRankCode_for_edge:e[s].userRankCode,edgeWeight:e[s].edgeWeight}),n.push({index:s,siteID:e[s].siteID,edgeID:e[s].edgeID,siteURL:e[s].siteURL,formatedURL:e[s].siteFormatedURL,siteSnap:e[s].siteSnap,domain:e[s].domain,userRankCode_for_edge:e[s].userRankCode,edgeWeight:e[s].edgeWeight});a.sites_from_server_to_use=t,a.full_sites_list_from_server=n}).catch(function(e){"Network Error"===e.message?a.setState({server_message:"\u05dc\u05d0 \u05de\u05e6\u05dc\u05d9\u05d7 \u05dc\u05d4\u05d2\u05d9\u05e2 \u05dc\u05e9\u05e8\u05ea"}):a.setState({server_message:e.response.data})});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.initSiteSearch=function(e){for(var t=[],a=0;a<e.sites_from_server_to_use.length;a++)t.push({id:e.id,siteURL:e.sites_from_server_to_use[a].siteURL,formatedURL:e.sites_from_server_to_use[a].formatedURL,scrape:"fa fa-spinner fa-spin"}),e.id++;e.setState({sitesBeingSearched:t})},this.finishedSiteFetch=function(e,t,a,n,s){return 200!=a&&(t=""),s.sites_and_texts[n]={site:e,siteText:t},void 0!=s.sites_and_texts[n]&&""!==s.sites_and_texts[n].siteText},this.hashAndSearchSites=function(){var e=Object(E.a)(y.a.mark(function e(a,n,s){var r,i,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ee.a.load(n),!((i=r.text()).length>20)){e.next=13;break}return s.rabinKarp.creatHashTables(i,a.index),s.rabinKarp.addHitsFromSite(a,a.index),a.jaccard_similarity=s.jaccard_similarity.compute_site_similarity(i),a.was_site_searched=!0,o={edgeID:a.edgeID,jaccard_similarity:a.jaccard_similarity,num_of_links_in_site:a.num_of_links_in_site},e.next=10,g.a.post("/api/userInsertData/insertSiteTopicEdgeScores",o,{headers:{"findel-auth-token":t.token}}).then(function(e){console.log("edge successfuly added")}).catch(function(e){console.log("edge could not be added")});case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),this.request_WebScraping_for_sites=function(){var e=Object(E.a)(y.a.mark(function e(a){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.sites_from_server_to_use.map(function(e){return g.a.get("/api/webScrape/?siteID="+e.siteID+"&edgeID="+e.edgeID+"&force_scrape=false",{}).then(function(n){if(1==n.data.is_edge_up_to_date)e.jaccard_similarity=n.data.jaccard_similarity,e.num_of_links_in_site=n.data.num_of_links_in_site,a.sitesTempState[e.index].scrape="fa fa-check-circle-o";else{var s=t.hashAndSearchSites(e,n.data.siteHTML,a);a.sitesTempState[e.index].scrape=s?"fa fa-check-circle-o":"fa fa-times-circle-o"}}).catch(function(){a.site.jaccard_similarity=0,a.site.num_of_links_in_site=0,a.sitesTempState[e.index].scrape="fa fa-times-circle-o"})}),e.next=3,Promise.all(n).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 3:a.siteSearchFinished=!0;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.rankSites=function(e){var t=e.sites_from_server_to_use;t.sort(function(e,t){return t.num_of_links_in_site-e.num_of_links_in_site}),t.sort(function(e,t){return t.jaccard_similarity-e.jaccard_similarity}),t.sort(function(e,t){return t.domain.score-e.domain.score}),t.sort(function(e,t){return t.edgeWeight-e.edgeWeight}),t.sort(function(e,t){return t.userRankCode==e.userRankCode?0:1==t.userRankCode&&1!=e.userRankCode?1:1!=t.userRankCode&&1==e.userRankCode?-1:2==t.userRankCode&&0==e.userRankCode?-1:void 0});for(var a=e.state.refSites,n=0;n<t.length;n++)null!=t[n]&&(a.push({id:e.id,siteID:t[n].siteID,edgeID:t[n].edgeID,siteURL:t[n].siteURL,formatedURL:t[n].formatedURL,siteSnap:t[n].siteSnap,domain:t[n].domain,userRankCode:t[n].userRankCode_for_edge,edgeWeight:t[n].edgeWeight}),e.id++);var s=!1;a.length>=e.full_sites_list_from_server.length&&(s=!0),e.setState({refSites:a,sitesBeingSearched:[],is_more_sites_button_hidden:s}),e.site_displayed_so_far_index=a.length-1,e.topSites=t},this.display_expended_content=function(e){var t=e.connected_topics_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.linkHits-e.linkHits}),t.sort(function(e,t){if(t.topic1.topicName.length<3&&e.topic1.topicName.length>=3)return-1}),t.sort(function(e,t){return t.weight-e.weight}),t.sort(function(e,t){return t.userRankCode==e.userRankCode?0:1==t.userRankCode&&1!=e.userRankCode?1:1!=t.userRankCode&&1==e.userRankCode?-1:2==t.userRankCode&&0==e.userRankCode?-1:void 0});for(var a=[],n=0;n<t.length&&n<10;n++){a.push({id:e.id,page:t[n].topic1.topicName,partition:" | ",clicked:e.expandedContentClicked.bind(e)}),e.id++}e.setState({expandedContents:a,is_show_more_content_hidden:!1,expandend_content_status:""})}}return Object(c.a)(e,[{key:"Search_functions",value:function(){}},{key:"search_using_wikipedia",value:function(){var e=Object(E.a)(y.a.mark(function e(t,a){var n,s,r,i=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request_sites_from_Server_to_use(a.curSearch,a);case 2:if(null==a.sites_from_server_to_use){e.next=16;break}return e.next=5,this.initSiteSearch(a);case 5:for(n=[],s=0;s<a.connected_topics_edges.length;s++)a.connected_topics_edges[s].linkHits=0,n.push({topicName:a.connected_topics_edges[s].topic1.topicName,index_in_connected_topics_edges:s});a.rabinKarp=new Y(3001,20,a.sites_from_server_to_use.length),a.rabinKarp.hashWikiLinks(n),a.jaccard_similarity=new Z(20399,10,t),a.sitesTempState=a.state.sitesBeingSearched,750,r=setInterval(function(){0==a.siteSearchFinished&&0==a.did_user_ended_seach?a.setState({sitesBeingSearched:a.sitesTempState}):(clearInterval(r),a.siteSearchFinished=!1,i.rankSites(a),i.search_expended_content(a),a.search_button_function_stop_search())},750),this.request_WebScraping_for_sites(a),e.next=17;break;case 16:a.search_button_function_stop_search();case 17:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"best_sites_results",value:function(){var e=Object(E.a)(y.a.mark(function e(t,a){var n,s,r,i,o=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.topSites,s=6,r=0,i=0;case 4:if(!(i<n.length&&r<s)){e.next=14;break}if(1==n[i].was_site_searched){e.next=10;break}return e.next=8,g.a.get("/api/webScrape/?siteID="+n[i].siteID+"&edgeID="+n[i].edgeID+"&force_scrape=true",{}).then(function(){var e=Object(E.a)(y.a.mark(function e(s){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.hashAndSearchSites(n[i],s.data.siteHTML,t);case 2:return n[i].was_site_searched=!0,e.next=5,a.forEach(function(e){e.forEach(function(e){var a=e.sitesHits[n[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})});case 5:r++;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){console.log("site failed searched")});case 8:e.next=11;break;case 10:1==n[i].was_site_searched&&(a.forEach(function(e){e.forEach(function(e){var a=e.sitesHits[n[i].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})}),r++);case 11:i++,e.next=4;break;case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"search_expended_content",value:function(e){for(var t=this,a=e.connected_topics_edges,n=!1,s=0;s<a.length;s++)if(1==a[s].is_search_required){n=!0;break}if(n){var r=e.rabinKarp.wikiLinksHashesToWordByLength;this.best_sites_results(e,r).then(function(){t.display_expended_content(e),a.forEach(function(e){if(e.is_search_required){var t={id_of_edge_to_update:e.edgeID,web_scrape_score:e.linkHits};g.a.post("/api/userInsertData/insertTopicTopicEdgeScores",t).then(function(e){console.log(e.data)}).catch(function(e){void 0==e.response?console.log("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"):console.log(e.response.data)})}})}).catch(function(){console.log("Search content failed")})}else this.display_expended_content(e)}}]),e}(),ae=new D.a,ne=new te,se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).search_button_function=Object(E.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!1,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",is_more_sites_button_hidden:!0,is_show_more_content_hidden:!0,expandend_content_status:"fa fa-spinner fa-spin",server_message:""}),a.deep_search();case 3:case"end":return e.stop()}},e)})),a.search_button_function_stop_search=Object(E.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:""});case 2:case"end":return e.stop()}},e)})),a.deep_search=Object(E.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({expandedContents:[],refSites:[],ambigousData:[]}),g.a.get("/api/topicsToTopicsData/?search="+a.curSearch,{headers:{"findel-auth-token":a.token}}).then(function(){var e=Object(E.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.data.wikiText||0!=a.state.is_simple_search_selected){e.next=5;break}a.connected_topics_edges=t.data.connected_topics_edges,ne.search_using_wikipedia(t.data.wikiText,Object(C.a)(Object(C.a)(a))),e.next=19;break;case 5:if(null==t.data.ambig){e.next=11;break}t.data.ambig.forEach(function(e){e.id=a.id,a.id++,e.subID=a.id,a.id++,e.subjects.forEach(function(e){e.id=a.id,a.id++})}),a.setState({ambigousData:t.data.ambig}),a.search_button_function_stop_search(),e.next=19;break;case 11:return a.connected_topics_edges=t.data.connected_topics_edges,e.next=14,ne.request_sites_from_Server_to_use(a.curSearch,Object(C.a)(Object(C.a)(a)));case 14:return e.next=16,ne.rankSites(Object(C.a)(Object(C.a)(a)));case 16:return e.next=18,ne.display_expended_content(Object(C.a)(Object(C.a)(a)));case 18:a.search_button_function_stop_search();case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){null!=e.respnse?a.setState({server_message:e.respnse.data}):a.setState({server_message:"\u05d1\u05e2\u05d9\u05d4 \u05e2\u05dd \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}),a.search_button_function_stop_search()});case 2:case"end":return e.stop()}},e)})),a.state={inputValue:"",sitesBeingSearched:[],expandedContents:[],refSites:[],ambigousData:[],newID:1,search_button_function:function(){return a.search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8",search_button_iconClass:"",server_message:"",add_site_to_topic_input:"",add_topic_to_topic_input:"",add_site_to_topic_description:"",was_add_site_button_clicked:!1,was_add_topic_button_clicked:!1,is_more_sites_button_hidden:!0,is_simple_search_selected:!1,is_show_more_content_hidden:!0,expandend_content_status:""},a.sites_and_texts=[],a.sitesFinishedScrape=0,a.sites_from_server_to_use=[],a.full_sites_list_from_server=[],a.token=ae.get("findel-auth-token")||"",a.sitesTempState=[],a.siteSearchFinished=!1,a.topSites=null,a.curSearch=null,a.rabinKarp=null,a.wikiLinksHashesToWordByLength=[],a.wordsMatriciesByLength=[],a.id=1,a.site_displayed_so_far_index=0,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:"#F0F8FF"};return s.a.createElement("div",{className:"SearchPage"},s.a.createElement("div",{style:{backgroundColor:"#0587c3"}},s.a.createElement("div",{className:"search_box_div"},s.a.createElement("img",{id:"findelTheme",src:"/publicComponents/findelTheme",height:"100",width:"400"}),s.a.createElement("div",null,s.a.createElement("input",{id:"search_text_box",type:"text",value:this.state.inputValue,onChange:function(t){return e.updateTXT(t)}}),s.a.createElement("button",{id:"searchBTN",name:"searchBTN",onClick:this.state.search_button_function},this.state.search_button_text," ",s.a.createElement("i",{className:this.state.search_button_iconClass})),s.a.createElement("br",null),s.a.createElement("input",{type:"radio",onClick:function(){return e.deep_search_radio_button_clicked()},checked:!this.state.is_simple_search_selected})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05de\u05d5\u05e7",s.a.createElement("input",{type:"radio",id:"simple_search_radio_button",onClick:function(){return e.simple_search_radio_button_clicked()},checked:this.state.is_simple_search_selected})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8"),s.a.createElement("div",{id:"exContents"},s.a.createElement("text",{color:"white"},this.state.server_message)),s.a.createElement("div",{id:"exContents"},s.a.createElement(L,{expandedContents:this.state.expandedContents}),s.a.createElement("text",null,s.a.createElement("i",{className:this.state.expandend_content_status})),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#F0F8FF"},href:"/TopicsPage/"+this.curSearch,hidden:this.state.is_show_more_content_hidden},"\u05e2\u05d5\u05d3..."))),s.a.createElement("div",{className:"add_content_and_sites_div",style:{backgroundColor:"#0587c3"}},s.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},s.a.createElement("text",{style:t},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),s.a.createElement("input",{type:"text",value:this.state.add_topic_to_topic_input,onChange:function(t){return e.add_topic_to_topic_change_function(t)}}),s.a.createElement("button",{id:"add_topic_to_topic_button"},"+")),s.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},s.a.createElement("button",{onClick:function(){return e.add_topic_button_clicked()}},"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0...")),s.a.createElement("div",{className:"add_site_to_topic_div",hidden:!this.state.was_add_site_button_clicked},s.a.createElement("text",{style:t},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),s.a.createElement("br",null),s.a.createElement("input",{type:"text",id:"add_site_to_topic_url_input",placeholder:".....//:https",value:this.state.add_site_to_topic_input,onChange:function(t){return e.add_site_to_topic_change_function(t)}}),s.a.createElement("br",null),s.a.createElement("textarea",{value:this.state.add_site_to_topic_description,placeholder:"\u05ea\u05d0\u05d5\u05e8 \u05d4\u05d0\u05ea\u05e8",onChange:function(t){return e.add_site_to_topic_change_description_function(t)}}),s.a.createElement("br",null),s.a.createElement("button",{id:"add_site_to_topic_button",onClick:function(){return e.add_site()}},"+")),s.a.createElement("div",{className:"add_site_to_topic_div",hidden:this.state.was_add_site_button_clicked},s.a.createElement("button",{onClick:function(){return e.add_site_button_clicked()}},"\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0...")))),s.a.createElement("div",{id:"refSites"},s.a.createElement(M,{refSites:this.state.refSites}),s.a.createElement("button",{onClick:function(){return e.more_sites_clicked()},hidden:this.state.is_more_sites_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd...")),s.a.createElement("div",{id:"sites"},s.a.createElement(x,{sitesBeingSearched:this.state.sitesBeingSearched})),s.a.createElement("div",{id:"ambigous"},s.a.createElement(G,{ambigousData:this.state.ambigousData})))}},{key:"updateTXT",value:function(e){this.setState({inputValue:e.target.value}),this.curSearch=e.target.value}},{key:"deep_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!1})}},{key:"simple_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!0})}},{key:"add_site_to_topic_change_function",value:function(e){this.setState({add_site_to_topic_input:e.target.value})}},{key:"add_site_to_topic_change_description_function",value:function(e){this.setState({add_site_to_topic_description:e.target.value})}},{key:"add_site_button_clicked",value:function(){this.setState({was_add_site_button_clicked:!0})}},{key:"add_site",value:function(){var e=this,t={topicName:this.state.inputValue,siteURL:this.state.add_site_to_topic_input,siteDescription:this.state.add_site_to_topic_description};g.a.post("/api/addContent/addSite",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"add_topic_to_topic_change_function",value:function(e){this.setState({add_topic_to_topic_input:e.target.value})}},{key:"add_topic_button_clicked",value:function(){this.setState({was_add_topic_button_clicked:!0})}},{key:"expandedContentClicked",value:function(e){this.setState({inputValue:e}),this.curSearch=e,this.siteSearchFinished=!1,this.search_button_function()}},{key:"more_sites_clicked",value:function(){this.sites_from_server_to_use=[];for(var e=this.site_displayed_so_far_index+1;e<this.site_displayed_so_far_index+1+10&&e<this.full_sites_list_from_server.length;e++)this.sites_from_server_to_use.push(this.full_sites_list_from_server[e]);ne.rankSites(this)}}]),t}(n.Component),re=new D.a,ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={userName:"",password:"",serverMessage:""},re.set("findel-ServerMessage","",{path:"/"}),a.attampt=0,a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"LoginPage"},s.a.createElement("h1",null," Login "),s.a.createElement("text",null,this.state.serverMessage),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"})),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"})),s.a.createElement("br",null),s.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05ea\u05d7\u05d1\u05e8"))}},{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(E.a)(y.a.mark(function e(){var t,a,n=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:this.state.userName,password:this.state.password},e.next=3,g.a.post("/api/auth",a).then(function(e){t=e.data,re.set("findel-auth-token",t.token,{path:"/"}),window.location="/"}).catch(function(e){void 0==e.response?n.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):(n.attampt++,n.setState({serverMessage:e.response.data+" \u05e0\u05e1\u05d9\u05d5\u05df \u05de\u05e1\u05e4\u05e8: "+n.attampt}))});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),oe=(a(109),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"checkForms",value:function(){}},{key:"checkUserName",value:function(e,t){var a=t.state.successClass,n="";return e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.userNameBlured=!0),t.userNameBlured?t.setState({userName:e,userNameClass:a,userNameError:n}):t.setState({userName:e}),""==n}},{key:"checkFirstName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var s=0;s<e.length;s++){if(e.charAt(s)>="0"&&e.charAt(s)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.firstNameBlured=!0),t.firstNameBlured?t.setState({firstName:e,firstNameClass:a,firstNameError:n}):t.setState({firstName:e}),""==n}},{key:"checkLastName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var s=0;s<e.length;s++){if(e.charAt(s)>="0"&&e.charAt(s)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.lastNameBlured=!0),t.lastNameBlured?t.setState({lastName:e,lastNameClass:a,lastNameError:n}):t.setState({lastName:e}),""==n}},{key:"checkEmail",value:function(e,t){var a=t.state.successClass,n="";if(""==e)a="form-control",n="";else if(e.length<5)a=t.state.errorClass,n="\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4";else{for(var s=!1,r=0,i=0;i<e.length;i++)if(0==i){if(!(e.charAt(i)>"A"&&e.charAt(i)<"z"||e.charAt(i)>"0"&&e.charAt(i)<"9")){a=t.state.errorClass,n="\u05d0\u05d5\u05ea \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8";break}}else{if("@"==e.charAt(i)){if(e.length-i<3){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}if(0!=s){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}s=!0}if("."==e.charAt(i)&&s){if("@"==e.charAt(i-1)||"."==e.charAt(i-1)||i==e.length-1){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}r++}}(0==s||r>2||0==r)&&(a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4")}return""==n&&(t.emailBlured=!0),t.emailBlured?t.setState({email:e,emailClass:a,emailError:n}):t.setState({email:e}),""==n}},{key:"checkPassword",value:function(e,t){var a=t.state.successClass,n="";return e.length<=5&&(a=t.state.errorClass,n="\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.passwordBlured=!0),t.passwordBlured?t.setState({password:e,passwordClass:a,passwordError:n}):t.setState({password:e}),""==n}}]),e}()),ce=new D.a,le=new oe,ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,ce.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return s.a.createElement("div",{className:"RegisterPage"},s.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05d5\u05e8\u05d4 "),s.a.createElement("text",null,this.state.serverMessage),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),s.a.createElement("text",{style:t},this.state.userNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),s.a.createElement("text",{style:t},this.state.passwordError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),s.a.createElement("text",{style:t},this.state.emailError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),s.a.createElement("text",{style:t},this.state.firstNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),s.a.createElement("text",{style:t},this.state.lastNameError)),s.a.createElement("br",null),s.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){le.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){le.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){le.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){le.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){le.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(E.a)(y.a.mark(function e(){var t,a,n,s,r,i,o,c,l=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=le.checkEmail(this.state.email,this),a=le.checkFirstName(this.state.firstName,this),n=le.checkLastName(this.state.lastName,this),s=le.checkPassword(this.state.password,this),r=le.checkUserName(this.state.userName,this),!(t&&a&&n&&s&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=ce.get("findel-auth-token")||"",e.next=16,g.a.post("/api/users/createTeacherAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),he=new D.a,de=new oe,me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.uerNameBlured=!1,he.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return s.a.createElement("div",{className:"RegisterPage"},s.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05de\u05e0\u05d4\u05dc "),s.a.createElement("text",null,this.state.serverMessage),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),s.a.createElement("text",{style:t},this.state.userNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),s.a.createElement("text",{style:t},this.state.passwordError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),s.a.createElement("text",{style:t},this.state.emailError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),s.a.createElement("text",{style:t},this.state.firstNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),s.a.createElement("text",{style:t},this.state.lastNameError)),s.a.createElement("br",null),s.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){de.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){de.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){de.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){de.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){de.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(E.a)(y.a.mark(function e(){var t,a,n,s,r,i,o,c,l=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=de.checkEmail(this.state.email,this),a=de.checkFirstName(this.state.firstName,this),n=de.checkLastName(this.state.lastName,this),s=de.checkPassword(this.state.password,this),r=de.checkUserName(this.state.userName,this),!(t&&a&&n&&s&&r)){e.next=16;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c=he.get("findel-auth-token")||"",e.next=16,g.a.post("/api/users/createAdminAccount",o,{headers:{"findel-auth-token":c}}).then(function(e){i=e.data,l.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"})}).catch(function(e){void 0==e.response?l.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):l.setState({serverMessage:e.response.data})});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),pe=new D.a,fe=new oe,_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.userNameBlured=!1,a.firstNameBlured=!1,a.emailBlured=!1,a.lastNameBlured=!1,pe.set("findel-ServerMessage","",{path:"/"}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return s.a.createElement("div",{className:"RegisterPage"},s.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05ea \u05ea\u05dc\u05de\u05d9\u05d3 "),s.a.createElement("text",null,this.state.serverMessage),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),s.a.createElement("text",{style:t},this.state.userNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),s.a.createElement("text",{style:t},this.state.passwordError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),s.a.createElement("text",{style:t},this.state.emailError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),s.a.createElement("text",{style:t},this.state.firstNameError)),s.a.createElement("br",null),s.a.createElement("label",null,s.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),s.a.createElement("text",{style:t},this.state.lastNameError)),s.a.createElement("br",null),s.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){fe.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){fe.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){fe.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){fe.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){fe.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(E.a)(y.a.mark(function e(){var t,a,n,s,r,i,o,c=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=fe.checkEmail(this.state.email,this),a=fe.checkFirstName(this.state.firstName,this),n=fe.checkLastName(this.state.lastName,this),s=fe.checkPassword(this.state.password,this),r=fe.checkUserName(this.state.userName,this),!(t&&a&&n&&s&&r)){e.next=15;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),e.next=15,g.a.post("/api/users/createStudentAccount",o).then(function(e){i=e.data,""!=(pe.get("findel-auth-token")||"")?c.setState({serverMessage:i.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}):(pe.set("findel-auth-token",i.token,{path:"/"}),window.location="/")}).catch(function(e){void 0==e.response?c.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):c.setState({serverMessage:e.response.data})});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"register"},s.a.createElement(d.a,null,s.a.createElement("div",null,s.a.createElement(m.a,{to:"/registerPage",style:this.state.displayLoggingComponents},"\u05ea\u05dc\u05de\u05d9\u05d3"),s.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),s.a.createElement(m.a,{to:"/teacherRegister",style:this.state.displayLoggingComponents},"\u05de\u05d5\u05e8\u05d4"),s.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),s.a.createElement(m.a,{to:"/adminRegister",style:this.state.displayLoggingComponents},"\u05de\u05e0\u05d4\u05dc"),s.a.createElement("hr",null),s.a.createElement(p.a,{exact:!0,path:"/",component:_e}),s.a.createElement(p.a,{path:"/teacherRegister",component:ue}),s.a.createElement(p.a,{path:"/adminRegister",component:me}),s.a.createElement(p.a,{path:"/registerPage",component:_e}))))}}]),t}(n.Component),ve=(a(405),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"search"},s.a.createElement("text",null," \u05e0\u05d5\u05e9\u05d0: ",this.props.aSearch.topic,s.a.createElement("br",null),"\u05ea\u05d0\u05e8\u05d9\u05da: ",this.props.aSearch.searchDate,s.a.createElement("br",null),s.a.createElement("br",null)))}}]),t}(n.Component));ve.PropsTypes={aSearch:w.a.object.isRequired};var ge=ve,be=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.searches.map(function(e){return s.a.createElement(ge,{key:e.id,aSearch:e})})}}]),t}(n.Component);be.PropsTypes={searches:w.a.array.isRequired};var ye=be,Ee=new D.a,Ce=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={SearchHistory:[]};var n=Ee.get("findel-auth-token")||"";return g.a.get("/api/userData/searchHistory",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){a.setHistory(e)}).catch(function(e){console.log(e);a.setHistory([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setHistory",value:function(e){this.setState({SearchHistory:e})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},s.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9")),s.a.createElement("div",null,s.a.createElement(ye,{searches:this.state.SearchHistory})))}}]),t}(n.Component),Ne=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"fav_site"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.fav_site.siteURL},this.props.fav_site.formatedURL))}}]),t}(n.Component);Ne.PropsTypes={fav_site:w.a.object.isRequired};var we=Ne,je=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topic.sites.map(function(e){return s.a.createElement(we,{key:e.id,fav_site:e})})}}]),t}(n.Component);je.PropsTypes={topic:w.a.array.isRequired};var Se=je,Oe=(a(406),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.favorites.map(function(e){return s.a.createElement("div",{className:"favorites_div"},s.a.createElement("text",null,e.topicName,": ",s.a.createElement("br",null)),s.a.createElement(Se,{key:e.id,topic:e}))})}}]),t}(n.Component));Oe.PropsTypes={favorites:w.a.array.isRequired};var xe=Oe,Re=new D.a,Be=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={favorites:[]};var n=Re.get("findel-auth-token")||"";return g.a.get("/api/userData/favorites",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){var t=1;e.forEach(function(e){e.id=t,t++,e.sites.forEach(function(e){e.id=t,t++})}),a.setFavorites(e)}).catch(function(e){console.log(e);a.setFavorites([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setFavorites",value:function(e){this.setState({favorites:e})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},s.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd")),s.a.createElement("div",null,s.a.createElement(xe,{favorites:this.state.favorites})))}}]),t}(n.Component),Pe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"site_component_div"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.site.siteURL},this.props.site.siteFormatedURL),s.a.createElement("br",null))}}]),t}(n.Component);Pe.PropsTypes={site:w.a.object.isRequired};var Le=Pe,Te=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domain.sites.map(function(e){return s.a.createElement(Le,{key:e.id,site:e})})}}]),t}(n.Component);Te.PropsTypes={domain:w.a.array.isRequired};var De=Te,Ue=(a(407),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains.map(function(e){return s.a.createElement("div",{className:"domains_div"},s.a.createElement("text",null,e.domainURL,": ",s.a.createElement("br",null)),s.a.createElement("text",null,"\u05e6\u05d9\u05d5\u05df: ",e.score," ",s.a.createElement("br",null)),s.a.createElement(De,{key:e.id,domain:e}),s.a.createElement("button",{onClick:e.request_sites_of_domain_function,hidden:e.is_more_sites_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd..."))})}}]),t}(n.Component));Ue.PropsTypes={domains:w.a.array.isRequired};var Fe=Ue,Ae=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).request_sites_of_domain=function(e){g.a.get("/api/present_data/domain_sites/?id="+e).then(function(e){return e.data}).then(function(e){e.sites.forEach(function(e){e.id=a.id,a.id++});for(var t=a.state.domains,n=0;n<t.length;n++)if(t[n]._id==e._id){t[n].sites=e.sites,t[n].is_more_sites_button_hidden=!0;break}a.setDomains(t)}).catch(function(e){console.log(e);a.setDomains([])})};return a.state={domains:[]},a.id=1,g.a.get("/api/present_data/domains").then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.score-e.score}),e.forEach(function(e){e.id=a.id,e.sites=[],e.request_sites_of_domain_function=function(){return a.request_sites_of_domain(e._id)},e.is_more_sites_button_hidden=!1,a.id++}),a.setDomains(e)}).catch(function(e){console.log(e);a.setDomains([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setDomains",value:function(e){this.setState({domains:e})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"Domains",style:{backgroundColor:"#0587c3"}},s.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd")),s.a.createElement("div",null,s.a.createElement(Fe,{domains:this.state.domains})))}}]),t}(n.Component),Ie=(a(408),a(409),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"cancelRank",value:function(e){var t={edgeID:e.props.topic.edgeID,rankCode:0};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;1==e.state.rankCode?a--:a++,e.setState({upArrowColor:"black",downArrowColor:"black",rank_error:"",edge_weight:a,rankCode:0})}).catch(function(t){e.setState({rank_error:t.response.data})})}},{key:"upClick",value:function(e){if("green"==e.state.upArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.topic.edgeID,rankCode:1};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;2==e.state.rankCode&&a++,a++,e.setState({upArrowColor:"green",downArrowColor:"black",rank_error:"",edge_weight:a,rankCode:1})}).catch(function(t){e.setState({rank_error:t.response.data})})}}},{key:"downClick",value:function(e){if("red"==e.state.downArrowColor)this.cancelRank(e);else{var t={edgeID:e.props.topic.edgeID,rankCode:2};""==e.token?e.setState({rank_error:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d7\u05d1\u05e8 \u05e2\u05dc \u05de\u05e0\u05ea \u05dc\u05d3\u05e8\u05d2"}):g.a.post("/api/userRanking/rank_connected_topic",t,{headers:{"findel-auth-token":e.token}}).then(function(t){var a=e.state.edge_weight;1==e.state.rankCode&&a--,a--,e.setState({upArrowColor:"black",downArrowColor:"red",rank_error:"",edge_weight:a,rankCode:2})}).catch(function(t){e.setState({rank_error:t.response.data})})}}}]),e}()),Ke=new D.a,He=new Ie,Me=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).upClick=function(){He.upClick(Object(C.a)(Object(C.a)(a)))},a.downClick=function(){He.downClick(Object(C.a)(Object(C.a)(a)))};var n="black",s="black";return 1==a.props.topic.userRankCode&&(n="green"),2==a.props.topic.userRankCode&&(s="red"),a.state={upArrowColor:n,downArrowColor:s,rank_error:"",edge_weight:a.props.topic.edge_weight,rankCode:a.props.topic.userRankCode},a.token=Ke.get("findel-auth-token")||"",a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"topic"},s.a.createElement("text",{style:{marginRight:"10px"}},this.props.topic.connected_topic_name,s.a.createElement("br",null)),s.a.createElement("text",{style:{marginRight:"10px"}},"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: ",s.a.createElement(T.a,{icon:k.b,color:this.state.upArrowColor,onClick:function(){return e.upClick()}})," (",this.props.topic.edge_weight,") ",s.a.createElement(T.a,{icon:k.a,color:this.state.downArrowColor,onClick:function(){return e.downClick()}}),s.a.createElement("br",null)),s.a.createElement("text",{style:{marginRight:"10px"}},"\u05e6\u05d9\u05d5\u05df \u05de\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd: ",this.props.topic.web_scrape_score,s.a.createElement("br",null)),s.a.createElement("text",{style:{marginRight:"10px"}},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d0\u05d7\u05e8\u05d5\u05df: ",this.props.topic.last_web_scrape,s.a.createElement("br",null)),s.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"cancelRank",value:function(){He.cancelRank(this)}}]),t}(n.Component);Me.PropsTypes={topic:w.a.object.isRequired};var qe=Me,We=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topics.map(function(e){return s.a.createElement(qe,{key:e.id,topic:e})})}}]),t}(n.Component);We.PropsTypes={topics:w.a.array.isRequired};var Qe=We,ze=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.match.params.topic;return a.state={topics:[],topic:n},a.id=1,g.a.get("/api/present_data/connected_topics/?topic="+n).then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),e.sort(function(e,t){return t.edge_weight-e.edge_weight}),e.forEach(function(e){e.id=a.id,a.id++}),a.setTopics(e)}).catch(function(e){console.log(e);a.setTopics([])}),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"setTopics",value:function(e){this.setState({topics:e})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"Topics",style:{backgroundColor:"#0587c3"}},s.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05ea\u05db\u05e0\u05d9\u05dd \u05e7\u05e9\u05d5\u05e8\u05d9\u05dd")),s.a.createElement("div",null,s.a.createElement("h3",{id:"topic_headLine"},this.state.topic),s.a.createElement(Qe,{topics:this.state.topics})))}}]),t}(n.Component),Ve=new D.a;f.b.add(_.a,k.c,k.d);var Je=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=Ve.get("findelUserName")||"",s=Ve.get("findelUserPosition")||"",r=!1,i={display:"none"},c={display:"inline"};if(""==n&&(r=!0,i={display:"inline"},c={display:"none"}),a.state={userName:n,hideLogoutBTN:r,displayLoggingComponents:i,displayUserDataComponents:c},""==n){var h=Ve.get("findel-auth-token")||"";if(""!=h){var d={headers:{"findel-auth-token":h}};g.a.get("/api/users/me",d).then(function(e){n=e.data.userName,s=e.data.position;var t={display:"none"};c={display:"inline"},"student"!=s&&(t={display:"inline"}),a.setState({userName:n,hideLogoutBTN:!1,displayLoggingComponents:{display:"none"},displayRegisterComponents:t,displayUserDataComponents:c}),Ve.set("findelUserName",n,{path:"/"}),Ve.set("findelUserPosition",s,{path:"/"})}).catch(function(e){alert(e.data)})}}return a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(d.a,null,s.a.createElement("div",null,s.a.createElement("text",null,"\u05e9\u05dc\u05d5\u05dd ",this.state.userName),s.a.createElement("div",{className:"leftDiv"},s.a.createElement("button",{className:"emptyBTN",name:"logoutBTN",onClick:function(){return e.logout()},hidden:this.state.hideLogoutBTN},"\u05d4\u05ea\u05e0\u05ea\u05e7")),s.a.createElement("br",null),s.a.createElement(m.a,{to:"/"},"\u05d7\u05e4\u05e9"),s.a.createElement("text",{style:this.state.displayLoggingComponents}," - "),s.a.createElement(m.a,{to:"/Login",style:this.state.displayLoggingComponents},"\u05d4\u05ea\u05d7\u05d1\u05e8"),s.a.createElement("text",{style:this.state.displayRegisterComponents}," - "),s.a.createElement(m.a,{to:"/Register",style:this.state.displayRegisterComponents},"\u05e8\u05d9\u05e9\u05d5\u05dd"),s.a.createElement("text",{style:this.state.displayUserDataComponents}," - "),s.a.createElement(m.a,{to:"/UserSearchHistory",style:this.state.displayUserDataComponents},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9"),s.a.createElement("text",{style:this.state.displayUserDataComponents}," - "),s.a.createElement(m.a,{to:"/UserFavorites",style:this.state.displayUserDataComponents},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd"),s.a.createElement("text",null," - "),s.a.createElement(m.a,{to:"/DomainsPage"},"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd"),s.a.createElement("hr",null),s.a.createElement(p.a,{exact:!0,path:"/",component:se}),s.a.createElement(p.a,{path:"/Login",component:ie}),s.a.createElement(p.a,{path:"/Register",component:ke}),s.a.createElement(p.a,{path:"/UserSearchHistory",component:Ce}),s.a.createElement(p.a,{path:"/UserFavorites",component:Be}),s.a.createElement(p.a,{path:"/DomainsPage",component:Ae}),s.a.createElement(p.a,{path:"/TopicsPage/:topic",component:ze}))))}},{key:"logout",value:function(){Ve.set("findel-auth-token","",{path:"/"}),Ve.set("findelUserName","",{path:"/"}),window.location="/"}}]),t}(n.Component);i.a.render(s.a.createElement(Je,null),document.getElementById("root"))}},[[180,1,2]]]);
//# sourceMappingURL=main.66fa61f6.chunk.js.map