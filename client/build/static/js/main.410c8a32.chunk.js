(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{185:function(e,t,a){e.exports=a(422)},209:function(e,t,a){},212:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},239:function(e,t){},252:function(e,t){},254:function(e,t){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},420:function(e,t,a){},422:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(180),s=a.n(r),o=a(2),c=a(3),l=a(5),_=a(4),p=a(6),d=a(426),u=a(425),m=a(47),h=a(181),g=a(7),f=a(9),k=a.n(f),b=(a(209),a(10)),v=a.n(b),y=a(12),E=a(29),j=(a(212),a(1)),w=a.n(j),C=(a(119),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"page_in_seach"},i.a.createElement("p",null,this.props.page_in_search.pageURL," ",i.a.createElement("i",{className:this.props.page_in_search.scrape})))}}]),t}(n.Component));C.PropsTypes={page_in_search:w.a.object.isRequired};var x=C,O=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages_in_search.map(function(e){return i.a.createElement(x,{key:e.id,page_in_search:e})})}}]),t}(n.Component);O.PropsTypes={pages_in_search:w.a.array.isRequired};var N=O,S=(a(215),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("span",null,i.a.createElement("a",{className:"exContent",target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.aContent.page},this.props.aContent.page),i.a.createElement("text",{className:"ex_content_partition"},this.props.aContent.partition))}}]),t}(n.Component));S.PropsTypes={aContent:w.a.object.isRequired};var A=S,P=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.expandedContents.map(function(e){return i.a.createElement(A,{key:e.id,aContent:e})})}}]),t}(n.Component);P.PropsTypes={expandedContents:w.a.array.isRequired};var R=P,T=(a(216),a(8)),B=a(21),L=a(11);function U(e,t){if(0==e&&0==t)return[0,"warning"];var a=e/(e+t)*100;return a<10?[10,"danger"]:a<40?[a,"danger"]:a<60?[a,"warning"]:[a,"success"]}function D(e,t,a){var n=t+"_upArrowColor",i=t+"_downArrowColor",r=e.state[n],s=e.state[i],o=0;if("up"==a?"green"!=r&&(o=1):"red"!=s&&(o=2),"liked"==t)var c={edgeID:e.props.page_ref._id,rank_type:t,rank_code:o},l="/api/page_topic_edges/rank_page_topic_edge";else c={pageID:e.props.page_ref.page._id,rank_type:t,rank_code:o},l="/api/pages/rank_page";k.a.post(l,c,{headers:{"findel-auth-token":e.token}}).then(function(a){var r=a.data,s=new Date(r.ranking_date);if(null!=e.last_ranking_timeStamp){if(e["last_ranking_id_"+t]==r.ranking_id&&0!=r.rank_code)return;if(s-e["last_ranking_timeStamp_"+t]<0)return}e["last_ranking_id_"+t]=r.ranking_id,e["last_ranking_timeStamp_"+t]=s;var o="domain_"+t+"_positive_points",c=t+"_negative_points",l="domain_"+t+"_negative_points",_={};_[t+"_positive_points"]=r.positive_points,_[o]=r.domain_positive_points,_[c]=r.negative_points,_[l]=r.domain_negative_points,0==r.rank_code?(_[n]="black",_[i]="black"):1==r.rank_code?(_[n]="green",_[i]="black"):(_[n]="black",_[i]="red"),_.rank_code=r.rank_code;var p=U(r.positive_points,r.negative_points),d=U(r.domain_positive_points,r.domain_negative_points);_[t+"_bar_style"]=p,_["domain_"+t+"_bar_style"]=d,e.setState(_)}).catch(function(t){null!=t.response?e.setState({rank_error:t.response.data}):e.setState({rank_error:t.message})})}var q=a(424),F=(a(217),a(218),function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"ranking_function",value:function(e,t,a){var n=t+"_upArrowColor",i=t+"_downArrowColor",r=e.state[n],s=e.state[i],o=0;"up"==a?"green"!=r&&(o=1):"red"!=s&&(o=2);var c={commentID:e.props.comment._id,rank_type:t,rank_code:o};k.a.post("/api/comments/rank_comment",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var r=a.data,s=new Date(r.ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==r.ranking_id&&0!=r.rank_code)return;if(s-e.last_ranking_timeStamp<0)return}e.last_ranking_id=r.ranking_id,e.last_ranking_timeStamp=s;var o=t+"_negative_points",c={};c[t+"_positive_points"]=r.positive_points,c[o]=r.negative_points,0==r.rank_code?(c[n]="black",c[i]="black"):1==r.rank_code?(c[n]="green",c[i]="black"):(c[n]="black",c[i]="red"),c.rank_code=r.rank_code,e.setState(c)}).catch(function(t){e.setState({rank_error:t.response.data})})}}]),e}()),I=a(72),M=a.n(I),H=new L.a,K=new F,Q=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(_.a)(t).call(this,e));var n="black",i="black";a.props.comment.rankings&&a.props.comment.rankings.forEach(function(e){"liked"==e.rank_type&&(1==e.rank_code?n="green":2==e.rank_code&&(i="red"))});var r="#0587c3";"Teacher"==a.props.comment.user.position?r="green":"Admin"==a.props.comment.user.position&&(r="brown");var s=!1;return null==a.props.comment.time_made&&(s=!0),a.state={liked_upArrowColor:n,liked_downArrowColor:i,comment:a.props.comment,rank_error:"",liked_positive_points:a.props.comment.liked_positive_points,liked_negative_points:a.props.comment.liked_negative_points,add_comment_text:"\u05d4\u05d2\u05d1+",is_add_comment_hidden:!0,add_comment_vars:{object_id:a.props.comment._id,object_collection_name:"comments",root_comment_id:a.props.comment.root_comment},user_name_color:r,show_comment_time:s},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=H.get("findel-auth-token")||"",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:this.state.user_name_color};return i.a.createElement("div",{className:"Comment",style:{"border-right-color":"#0587c3","border-right-style":"double",padding:"5px"}},i.a.createElement("text",null,"(",this.state.liked_negative_points,")",i.a.createElement(T.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}}),i.a.createElement(T.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.liked_positive_points,")"),i.a.createElement("text",{style:t},"\xa0\xa0",this.state.comment.user.userName),i.a.createElement("span",{hidden:this.state.show_comment_time},i.a.createElement("br",null),i.a.createElement("text",{style:t},"\u05d4\u05d2\u05d9\u05d1 \u05d1:",i.a.createElement(M.a,{format:"DD/MM/YYYY HH:mm"},this.props.comment.time_made))),i.a.createElement("br",null),i.a.createElement("text",null,this.state.comment.text),i.a.createElement("br",null),i.a.createElement("text",{style:{color:"red"}},this.state.rank_error),i.a.createElement("text",{onClick:function(){return e.add_commnet_text_clicked()},style:{cursor:"pointer"}},this.state.add_comment_text),i.a.createElement("div",{hidden:this.state.is_add_comment_hidden},i.a.createElement(X,{parrent_object_data:this.state.add_comment_vars})),i.a.createElement(W,{key:this.state.comment.id,comments:this.state.comment.sub_comments}))}},{key:"add_commnet_text_clicked",value:function(){this.state.is_add_comment_hidden?this.setState({is_add_comment_hidden:!1,add_comment_text:"\u05d4\u05d2\u05d1-"}):this.setState({is_add_comment_hidden:!0,add_comment_text:"\u05d4\u05d2\u05d1+"})}},{key:"rank_click_up",value:function(e){K.ranking_function(this,e,"up")}},{key:"rank_click_down",value:function(e){K.ranking_function(this,e,"down")}}]),t}(n.Component);Q.PropsTypes={comment:w.a.object.isRequired};var Y=Q,z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.comments.map(function(e){return i.a.createElement(Y,{key:e.id,comment:e})})}}]),t}(n.Component);z.PropsTypes={comments:w.a.array.isRequired};var W=z,J=new L.a,X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).token=J.get("findel-auth-token")||"",a.state={comment_text:"",comments_added:[]},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Add_comment"},i.a.createElement(W,{comments:this.state.comments_added}),i.a.createElement("textarea",{value:this.state.comment_text,id:"comment_textArea",rows:6,cols:50,placeholder:"\u05e8\u05e9\u05d5\u05dd \u05e9\u05d0\u05dc\u05d4/\u05ea\u05e9\u05d5\u05d1\u05d4/\u05ea\u05d2\u05d5\u05d1\u05d4 \u05db\u05d0\u05df...",onChange:function(t){return e.comment_text_change(t)}}),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return e.send_comment_to_server()}},"\u05d4\u05db\u05e0\u05e1 \u05ea\u05d2\u05d5\u05d1\u05d4"),i.a.createElement("br",null),i.a.createElement("text",null,this.state.server_message))}},{key:"comment_text_change",value:function(e){this.setState({comment_text:e.target.value})}},{key:"send_comment_to_server",value:function(){var e=this,t={text:this.state.comment_text,object_id:this.props.parrent_object_data.object_id,object_collection_name:this.props.parrent_object_data.object_collection_name,root_comment_id:this.props.parrent_object_data.root_comment_id};k.a.post("/api/comments/add_comment",t,{headers:{"findel-auth-token":this.token}}).then(function(t){t.data.collection_name=t.data.object_collection_name,t.data.id=t.data._id,t.data.sub_comments=[];var a=e.state.comments_added;a.push(t.data),e.setState({server_message:"\u05d4\u05d5\u05db\u05e0\u05e1 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4",comments_added:a})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).state={are_comments_hidden:!1,show_hide_instruction:"-\u05d4\u05e6\u05d2 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("text",{onClick:function(){return e.show_hide_comments_text_clicked()},style:{cursor:"pointer"}},this.state.show_hide_instruction)),i.a.createElement("div",{hidden:this.state.are_comments_hidden},i.a.createElement(W,{comments:this.props.comments}),i.a.createElement("br",null),i.a.createElement("text",null,"\u05d0\u05d5\u05e1\u05e3 \u05ea\u05d2\u05d5\u05d1\u05d4 \u05e8\u05d0\u05e9\u05d9\u05ea \u05d7\u05d3\u05e9\u05d4"),i.a.createElement(X,{parrent_object_data:this.props.parrent_object_data})))}},{key:"show_hide_comments_text_clicked",value:function(){this.state.are_comments_hidden?this.setState({are_comments_hidden:!1,show_hide_instruction:"-\u05d4\u05e1\u05ea\u05e8 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"}):this.setState({are_comments_hidden:!0,show_hide_instruction:"+\u05d4\u05e6\u05d2 \u05ea\u05d2\u05d5\u05d1\u05d5\u05ea"})}}]),t}(n.Component);G.PropsTypes={comments:w.a.array.isRequired};var V=G;var Z=new L.a,$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).state={are_comments_loaded:!1,comments:[]},a.token=Z.get("findel-auth-token")||"",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{hidden:this.state.are_comments_loaded},i.a.createElement("text",{onClick:function(){return e.load_comments_text_clicked()},style:{cursor:"pointer"}},"\u05ea\u05d2\u05d5\u05d1\u05d5\u05ea+ (",this.props.data_for_comments.number_of_comments,")")),i.a.createElement("div",{hidden:!this.state.are_comments_loaded},i.a.createElement(V,{comments:this.state.comments,parrent_object_data:{object_id:this.props.data_for_comments.object_id,object_collection_name:this.props.data_for_comments.object_collection_name,root_comment_id:null,parrent_comments_array:null}})))}},{key:"load_comments_text_clicked",value:function(){var e=this,t=this.props.data_for_comments.object_id,a=this.props.data_for_comments.object_collection_name;k.a.get("/api/comments/retrieve_comments/?object_id="+t+"&object_collection_name="+a,{headers:{"findel-auth-token":this.token}}).then(function(e){return e.data}).then(function(t){t=function(e){var t={root:[]};return e.forEach(function(e){t[e._id]=[],e.sub_comments=t[e._id],e.id=e._id,"comments"!=e.object_collection_name&&t.root.push(e)}),e.forEach(function(e){"comments"==e.object_collection_name&&t[e.object_id].push(e)}),t.root.sort(function(e,t){return t.liked\u05b9_positive_points-e.liked\u05b9_positive_points}),e.forEach(function(e){e.sub_comments.sort(function(e,t){return t.liked\u05b9_positive_points-e.liked\u05b9_positive_points})}),t.root}(t),e.setState({comments:t,are_comments_loaded:!0})}).catch(function(e){console.log(e.message)})}}]),t}(n.Component);V.PropsTypes={comments:w.a.array.isRequired};var ee=$;function te(e){return Math.round(e*Math.pow(10,1))/Math.pow(10,1).toFixed(1)}var ae=new L.a,ne=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(_.a)(t).call(this,e));var n="black",i="black",r="black",s="black",c="black",p="black";void 0!==a.props.page_ref.rankings&&a.props.page_ref.rankings.forEach(function(e){"liked"==e.rank_type&&(1==e.rank_code?n="green":i="red")}),void 0!==a.props.page_ref.page.rankings&&a.props.page_ref.page.rankings.forEach(function(e){"credibility"==e.rank_type&&(1==e.rank_code?r="green":s="red"),"educational"==e.rank_type&&(1==e.rank_code?c="green":p="red")});var d=U(a.props.page_ref.liked_positive_points,a.props.page_ref.liked_negative_points),u=U(a.props.page_ref.page.credibility_positive_points,a.props.page_ref.page.credibility_negative_points),m=U(a.props.page_ref.page.educational_positive_points,a.props.page_ref.page.educational_negative_points),h=U(a.props.page_ref.page.domain.liked_positive_points,a.props.page_ref.page.domain.liked_negative_points),g=U(a.props.page_ref.page.domain.credibility_positive_points,a.props.page_ref.page.domain.credibility_negative_points),f=U(a.props.page_ref.page.domain.educational_positive_points,a.props.page_ref.page.domain.educational_negative_points);return a.state={liked_upArrowColor:n,liked_downArrowColor:i,credibility_upArrowColor:r,credibility_downArrowColor:s,educational_upArrowColor:c,educational_downArrowColor:p,rank_error:"",liked_positive_points:a.props.page_ref.liked_positive_points,credibility_positive_points:a.props.page_ref.page.credibility_positive_points,educational_positive_points:a.props.page_ref.page.educational_positive_points,liked_negative_points:a.props.page_ref.liked_negative_points,credibility_negative_points:a.props.page_ref.page.credibility_negative_points,educational_negative_points:a.props.page_ref.page.educational_negative_points,rank_code:a.props.page_ref.userrank_code,domain_liked_positive_points:a.props.page_ref.page.domain.liked_positive_points,domain_credibility_positive_points:a.props.page_ref.page.domain.credibility_positive_points,domain_educational_positive_points:a.props.page_ref.page.domain.educational_positive_points,domain_liked_negative_points:a.props.page_ref.page.domain.liked_negative_points,domain_credibility_negative_points:a.props.page_ref.page.domain.credibility_negative_points,domain_educational_negative_points:a.props.page_ref.page.domain.educational_negative_points,liked_bar_style:d,credibility_bar_style:u,educational_bar_style:m,domain_liked_bar_style:h,domain_credibility_bar_style:g,domain_educational_bar_style:f,data_for_comments:{object_id:a.props.page_ref.page._id,object_collection_name:"pages",number_of_comments:a.props.page_ref.page.number_of_comments}},a.last_ranking_timeStamp_liked=null,a.last_ranking_id_liked=null,a.last_ranking_timeStamp_credibility=null,a.last_ranking_id_credibility=null,a.last_ranking_timeStamp_educational=null,a.last_ranking_id_educational=null,a.token=ae.get("findel-auth-token")||"",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"a_page_ref"},i.a.createElement("text",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page_ref.page.pageURL},this.props.page_ref.page.pageURL)),i.a.createElement("br",null),i.a.createElement("text",null,this.props.page_ref.page.pageSnap),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.liked_negative_points),")",i.a.createElement(T.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}})),i.a.createElement("td",{className:"progress_bar_td"},i.a.createElement(q.a,{variant:this.state.liked_bar_style[1],now:this.state.liked_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",te(this.state.liked_positive_points),")",i.a.createElement(T.a,{icon:B.a}))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.credibility_negative_points),")",i.a.createElement(T.a,{icon:g.a,color:this.state.credibility_downArrowColor,onClick:function(){return e.rank_click_down("credibility")}})),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.credibility_bar_style[1],now:this.state.credibility_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.credibility_upArrowColor,onClick:function(){return e.rank_click_up("credibility")}}),"(",te(this.state.credibility_positive_points),")",i.a.createElement(T.a,{icon:g.h}))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.educational_negative_points),")",i.a.createElement(T.a,{icon:g.a,color:this.state.educational_downArrowColor,onClick:function(){return e.rank_click_down("educational")}})),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.educational_bar_style[1],now:this.state.educational_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.educational_upArrowColor,onClick:function(){return e.rank_click_up("educational")}}),"(",te(this.state.educational_positive_points),")",i.a.createElement(T.a,{icon:g.c})))),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_liked_negative_points),")"),i.a.createElement("td",{className:"progress_bar_domain_td"},i.a.createElement(q.a,{variant:this.state.domain_liked_bar_style[1],now:this.state.domain_liked_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_liked_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:B.a})))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_credibility_negative_points),")"),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.domain_credibility_bar_style[1],now:this.state.domain_credibility_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_credibility_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:g.h})))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_educational_negative_points),")"),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.domain_educational_bar_style[1],now:this.state.domain_educational_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_educational_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:g.c}))))),i.a.createElement("text",{style:{color:"red"}},this.state.rank_error),i.a.createElement(ee,{data_for_comments:this.state.data_for_comments}),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#0587c3"},href:"/Page_page/"+encodeURIComponent(this.props.page_ref.page.pageURL)},"\u05e2\u05d5\u05d3 \u05e2\u05dc \u05d4\u05d3\u05e3..."))}},{key:"rank_click_up",value:function(e){D(this,e,"up")}},{key:"rank_click_down",value:function(e){D(this,e,"down")}}]),t}(n.Component);ne.PropsTypes={page_ref:w.a.object.isRequired};var ie=ne,re=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages_ref.map(function(e){return i.a.createElement(ie,{key:e.id,page_ref:e})})}}]),t}(n.Component);re.PropsTypes={pages_refs:w.a.array.isRequired};var se=re,oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages_ref.length>0?i.a.createElement("div",null,i.a.createElement("div",{style:{"text-align":"right"}},i.a.createElement("span",{className:"field-tip"},i.a.createElement(T.a,{icon:B.a}),"*",i.a.createElement("span",{className:"tip-content"},"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05dc\u05d4\u05d0\u05dd \u05d0\u05d4\u05d1\u05ea\u05dd \u05d0\u05ea \u05ea\u05d5\u05db\u05df \u05d4\u05d3\u05e3 (\u05d9\u05d9\u05e9\u05de\u05e8 \u05d1\u05d4\u05e7\u05e9\u05e8 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9)")),"\xa0",i.a.createElement("span",{className:"field-tip"},i.a.createElement(T.a,{icon:g.h}),"*",i.a.createElement("span",{className:"tip-content"},"\u05d0\u05de\u05d9\u05e0\u05d5\u05ea \u05d4\u05ea\u05d5\u05db\u05df \u05d1\u05d3\u05e3:",i.a.createElement("br",null),"\u2022 \u05e2\u05d3 \u05db\u05de\u05d4 \u05d4\u05e9\u05e4\u05d4 \u05d5\u05d0\u05d5\u05e6\u05e8 \u05d4\u05de\u05d9\u05dc\u05d9\u05dd \u05d1\u05e8\u05de\u05d4 \u05d2\u05d1\u05d5\u05d4\u05d4 \u05d5\u05de\u05e7\u05e6\u05d5\u05e2\u05d9\u05ea?",i.a.createElement("br",null),i.a.createElement("br",null),"\u2022 \u05db\u05de\u05d4 \u05e4\u05e8\u05e1\u05d5\u05de\u05d5\u05ea \u05e7\u05d9\u05d9\u05de\u05d5\u05ea \u05d1\u05d3\u05e3? \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd \u05d4\u05de\u05e8\u05d5\u05d5\u05d9\u05d7\u05d9\u05dd \u05db\u05e1\u05e3 \u05de\u05e4\u05e8\u05e1\u05d5\u05dd \u05e7\u05d9\u05d9\u05dd \u05e1\u05d9\u05db\u05d5\u05d9 \u05d2\u05d1\u05d5\u05d4\u05d4 \u05d9\u05d5\u05ea\u05e8, \u05e9\u05dc \u05d2\u05d5\u05e8\u05de\u05d9\u05dd \u05d7\u05d9\u05e6\u05d5\u05e0\u05d9\u05d9\u05dd, \u05dc\u05de\u05de\u05df \u05db\u05ea\u05d1\u05d5\u05ea \u05d5/\u05d0\u05d5 \u05dc\u05d4\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05ea\u05d5\u05db\u05df \u05d4\u05d0\u05ea\u05e8.",i.a.createElement("br",null),i.a.createElement("br",null),"\u2022 \u05de\u05d9 \u05db\u05ea\u05d1 \u05d0\u05ea \u05d4\u05d3\u05e3? \u05d4\u05d0\u05dd \u05d9\u05e9 \u05dc\u05d5 \u05de\u05e0\u05d9\u05e2\u05d4 \u05de\u05e1\u05d5\u05d9\u05dd \u05e9\u05d9\u05db\u05d5\u05dc \u05dc\u05d4\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05e9\u05d9\u05e7\u05d5\u05dc \u05d3\u05e2\u05ea\u05d5? \u05de\u05d4\u05d5 \u05de\u05e7\u05d5\u05e8 \u05d4\u05d9\u05d3\u05e2 \u05e9\u05dc\u05d5?",i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),"\u05dc\u05d0\u05d7\u05e8 \u05e9\u05e9\u05d0\u05dc\u05ea\u05dd \u05e9\u05d0\u05dc\u05d5\u05ea \u05d0\u05dc\u05d5: \u05d0\u05dd \u05d0\u05ea\u05dd \u05d1\u05e8\u05d5\u05e9\u05dd \u05e9\u05d4\u05d3\u05e3 \u05d0\u05de\u05d9\u05df, \u05e1\u05de\u05e0\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05db\u05db\u05d6\u05d4. \u05d0\u05dd \u05e0\u05ea\u05e7\u05dc\u05ea\u05dd \u05d1\u05d0\u05d7\u05d3 \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8 \u05d3\u05d1\u05e8\u05d9\u05dd \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd, \u05e1\u05de\u05e0\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05db\u05dc\u05d0 \u05d0\u05de\u05d9\u05df. \u05d0\u05dd \u05d0\u05d9\u05e0\u05db\u05dd \u05d1\u05d8\u05d5\u05d7\u05d9\u05dd, \u05d4\u05e9\u05d0\u05d9\u05e8\u05d5 \u05d0\u05d5\u05ea\u05d5 \u05d1\u05de\u05e6\u05d1 \u05d4\u05e7\u05d9\u05d9\u05dd.")),"\xa0",i.a.createElement("span",{className:"field-tip"},i.a.createElement(T.a,{icon:g.c}),"*",i.a.createElement("span",{className:"tip-content"},"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05dc\u05d4\u05d0\u05dd \u05d4\u05d3\u05e3 \u05de\u05db\u05d9\u05dc \u05ea\u05d5\u05db\u05df \u05dc\u05d9\u05de\u05d5\u05d3\u05d9")),"\xa0",i.a.createElement("span",{className:"field-tip"},i.a.createElement(T.a,{icon:g.g}),"*",i.a.createElement("span",{className:"tip-content"},"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05de\u05e6\u05d8\u05d1\u05e8 \u05de\u05db\u05dc\u05dc \u05d4\u05d3\u05e4\u05d9\u05dd \u05d1\u05d0\u05ea\u05e8"))),i.a.createElement("div",null,i.a.createElement(se,{pages_ref:this.props.pages_ref}))):i.a.createElement("div",null,i.a.createElement(se,{pages_ref:this.props.pages_ref}))}}]),t}(n.Component);oe.PropsTypes={pages_refs:w.a.array.isRequired};var ce=oe,le=(a(220),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"title"},i.a.createElement("text",null,i.a.createElement("u",null,i.a.createElement("b",null,this.props.theTitle))))}}]),t}(n.Component));le.PropsTypes={theTitle:w.a.string.isRequired};var _e=le,pe=(a(221),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"subject"},i.a.createElement("text",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.subject.name},this.props.subject.name),":",this.props.subject.description))}}]),t}(n.Component));pe.PropsTypes={subject:w.a.object.isRequired};var de=pe,ue=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.theSubjects.map(function(e){return i.a.createElement(de,{key:e.id,subject:e})})}}]),t}(n.Component);ue.PropsTypes={theSubjects:w.a.array.isRequired};var me=ue,he=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.ambigousData.map(function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_e,{key:e.id,theTitle:e.title}),i.a.createElement(me,{key:e.subID,theSubjects:e.subjects}))})}}]),t}(n.Component);he.PropsTypes={aData:w.a.array.isRequired};var ge=he;a(222);function fe(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.topic=null,e.next=3,k.a.get("/api/topic_topic_edges/search_for_connected_topics_in_db_and_wikipedia/?search="+t.curSearch,{headers:{"findel-auth-token":t.token}}).then(function(){var e=Object(y.a)(v.a.mark(function e(a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null!=a.data.ambig?(a.data.ambig.forEach(function(e){e.id=t.id,t.id++,e.subID=t.id,t.id++,e.subjects.forEach(function(e){e.id=t.id,t.id++})}),t.setState({ambigousData:a.data.ambig}),t.ambig_for_history=a.data.ambig,t.search_button_function_stop_search()):(t.topic=a.data,t.connected_topics_edges=a.data.topic_topic_edges,null!=a.data.wikiText&&(t.wikiText=a.data.wikiText));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){null!=e.respnse?t.setState({server_message:e.respnse.data}):t.setState({server_message:e.message}),t.search_button_function_stop_search()});case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function be(e){var t;e.sort(function(e,t){return 0===t.order_index_by_google?1:0===e.order_index_by_google?-1:null==t.order_index_by_google&&null==e.order_index_by_google?0:null!=t.order_index_by_google&&null==e.order_index_by_google?1:null==t.order_index_by_google&&null!=e.order_index_by_google?-1:e.order_index_by_google-t.order_index_by_google}),e.sort(function(e,t){return t.page.domain.liked_positive_points<1&&e.page.domain.liked_positive_points>=1?-1:t.page.domain.liked_positive_points>=1&&e.page.domain.liked_positive_points<1?1:t.page.domain.liked_positive_points<1&&e.page.domain.liked_positive_points<1?t.page.domain.liked_positive_points-e.page.domain.liked_positive_points:0}),e.sort(function(e,t){return t.page.educational_positive_points-e.page.educational_positive_points}),e.sort(function(e,t){return t.page.credibility_positive_points-e.page.credibility_positive_points}),e.sort(function(e,t){return t.liked_positive_points-e.liked_positive_points});for(var a=0;a<e[a]-1;a+=2)e[a].page.domain.liked_positive_points<e[a+1].page.domain.liked_positive_points&&(t=e[a],e[a]=e[a+1],e[a+1]=t);return e}function ve(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object(y.a)(v.a.mark(function e(t,a){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/page_topic_edges/update_and_retrieve_topic_to_pages_edges_using_google/?search="+t,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){for(var t=be(e),n=0;n<t.length;n++)t[n].index=n;var i=[];a.page_displayed_so_far_index=0;for(n=0;n<t.length&&n<9;n++)i.push(t[n]),a.page_displayed_so_far_index++;a.page_topic_edges_from_server_to_use=i,a.full_page_topic_edges_list_from_server=t}).catch(function(e){"Network Error"===e.message?a.setState({server_message:"\u05dc\u05d0 \u05de\u05e6\u05dc\u05d9\u05d7 \u05dc\u05d4\u05d2\u05d9\u05e2 \u05dc\u05e9\u05e8\u05ea"}):null==e.response?a.setState({server_message:e.message}):a.setState({server_message:e.response.data})});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(e){for(var t=[],a=0;a<e.page_topic_edges_from_server_to_use.length;a++)t.push({id:e.id,pageURL:e.page_topic_edges_from_server_to_use[a].page.pageURL,scrape:"fa fa-spinner fa-spin"}),e.id++;e.setState({pages_in_search:t})}var je=function(){function e(t,a,n){Object(o.a)(this,e);var i=t,r=a,s=[];s.push(1);for(var c=1;c<r;c++)s.push(10176*s[c-1]%i);this.R=10176,this.Q=t,this.numOfChars=a,this.RMarray=s,this.num_of_pages=n,this.pages_hashes=[];for(var l=0;l<n;l++){var _=[];_[a-1]=null,this.pages_hashes.push(_)}this.texts=[],this.texts[n-1]=null,this.wikiLinks_hashes_to_word_by_length=null,this.words_matricies_by_length=null}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"hashWikiLinks",value:function(e){for(var t=this,a=[],n=[],i=0;i<this.numOfChars;i++){n.push([]);var r=[];r[this.Q-1]=void 0,a.push(r)}for(i=0;i<e.length;i++)if(null!=e[i].topicName&&e[i].topicName.length<this.numOfChars){var s=[];s[this.num_of_pages-1]=null;var o=e[i].topicName;n[o.length-1].push({linkName:o,index_in_connected_topics_edges:e[i].index_in_connected_topics_edges,hash:-1,pages_hits:s})}var c=1;n.forEach(function(e){if(null!=e[0]){var n=c,i=0;e.forEach(function(e){e.hash=t.hash(e.linkName,n);var r=a[n-1];void 0==r[e.hash]?r[e.hash]=[{linkName:e.linkName,linkIndex:i}]:r[e.hash].find(function(t){return t.linkName=e.linkName})||r[e.hash].push({linkName:e.linkName,linkIndex:i});i++})}c++}),this.wikiLinks_hashes_to_word_by_length=n,this.words_matricies_by_length=a}},{key:"creatHashTables",value:function(e,t){for(var a=1;a<=this.numOfChars;a++){var n=e.length-a+1,i=[],r=this.hash(e,a);i[0]=r;for(var s=1;s<n;s++)r=((r=(r+this.Q-this.RMarray[a-1]*e.charCodeAt(s-1)%this.Q)%this.Q)*this.R+e.charCodeAt(s-1+a))%this.Q,i[s]=r;this.pages_hashes[t][a-1]=i}this.texts[t]=e}},{key:"add_hits_from_page",value:function(e,t){for(var a,n=this,i=this.texts[t],r=this.pages_hashes[t],s=0,o=0;o<this.numOfChars;o++){var c=this.words_matricies_by_length[o],l=r[o],_=0;l.forEach(function(e){void 0!=c[e]&&(a=i.substring(_,_+o+1),c[l[_]].forEach(function(e){a==e.linkName&&(null==n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]?(n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]=1,s++):n.wikiLinks_hashes_to_word_by_length[o][e.linkIndex].pages_hits[t]++)})),_++})}e.num_of_links_in_page=s}}]),e}(),we=function(){function e(t,a,n){Object(o.a)(this,e);var i=t;this.RM=1;for(var r=1;r<a;r++)this.RM=65536*this.RM%i;this.R=65536,this.Q=t,this.numOfChars=a;var s=this.creatHashTable(n);this.create_sets_array(n,s)}return Object(c.a)(e,[{key:"hash",value:function(e,t){for(var a=0,n=0;n<t;n++)a=(this.R*a+e.charCodeAt(n))%this.Q;return a}},{key:"creatHashTable",value:function(e){var t=e.length-this.numOfChars+1,a=[],n=this.hash(e,this.numOfChars);a[0]=n;for(var i=1;i<t;i++)n=((n=(n+this.Q-this.RM*e.charCodeAt(i-1)%this.Q)%this.Q)*this.R+e.charCodeAt(i-1+this.numOfChars))%this.Q,a[i]=n;return a}},{key:"create_sets_array",value:function(e,t){var a=this,n=0,i=[];i[this.Q-1]=void 0,t.forEach(function(t){var r=e.substring(n,n+a.numOfChars);void 0==i[t]?(i[t]={},i[t][r]={primePage:1,page_to_compare:0}):void 0==i[t][r]&&(i[t][r]={primePage:1,page_to_compare:0}),n++}),this.hashed_set_array=i}},{key:"compute_page_similarity",value:function(e){var t=this,a=0;this.creatHashTable(e).forEach(function(n){var i=e.substring(a,a+t.numOfChars);void 0==t.hashed_set_array[n]?(t.hashed_set_array[n]={},t.hashed_set_array[n][i]={primePage:0,page_to_compare:1}):void 0==t.hashed_set_array[n][i]?t.hashed_set_array[n][i]={primePage:0,page_to_compare:1}:1!=t.hashed_set_array[n][i].page_to_compare&&(t.hashed_set_array[n][i].page_to_compare=1),a++});var n=0,i=0;return this.hashed_set_array.forEach(function(e){e&&Object.keys(e).forEach(function(t){1==e[t].primePage&&1==e[t].page_to_compare?(n++,i++,e[t].page_to_compare=0):0==e[t].primePage&&1==e[t].page_to_compare?(n++,e[t].page_to_compare=0):1==e[t].primePage&&0==e[t].page_to_compare&&n++})}),i/n}}]),e}(),Ce=a(183),xe=a.n(Ce);function Oe(e,t,a){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(y.a)(v.a.mark(function e(t,a,n){var i,r,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=xe.a.load(a),!((r=i.text()).length>20)){e.next=13;break}return n.rabinKarp.creatHashTables(r,t.index),n.rabinKarp.add_hits_from_page(t,t.index),t.jaccard_similarity=n.jaccard_similarity.compute_page_similarity(r),t.was_page_searched=!0,s={edgeID:t._id,jaccard_similarity:t.jaccard_similarity,num_of_links_in_page:t.num_of_links_in_page},e.next=10,k.a.post("/api/page_topic_edges/insert_page_topic_edge_scores",s,{headers:{"findel-auth-token":n.token}}).then(function(e){console.log("edge successfuly added")}).catch(function(e){console.log("edge could not be added")});case 10:return e.abrupt("return",!0);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Se(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(y.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page_topic_edges_from_server_to_use.map(function(e){return k.a.get("/api/page_topic_edges/web_scrape/?pageID="+e.page._id+"&edgeID="+e._id+"&force_scrape=false",{}).then(function(a){1==a.data.is_edge_up_to_date?(e.jaccard_similarity=a.data.jaccard_similarity,e.num_of_links_in_page=a.data.num_of_links_in_page,t.pagesTempState[e.index].scrape="fa fa-check-circle-o"):Oe(e,a.data.pageHTML,t).then(function(){t.pagesTempState[e.index].scrape="fa fa-check-circle-o"}).catch(function(){t.pagesTempState[e.index].scrape="fa fa-times-circle-o"})}).catch(function(a){t.page.jaccard_similarity=0,t.page.num_of_links_in_page=0,t.pagesTempState[e.index].scrape="fa fa-times-circle-o",console.log(a.message)})}),e.next=3,Promise.all(a).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 3:t.pageSearchFinished=!0;case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pe(e){var t=e.page_topic_edges_from_server_to_use;t.sort(function(e,t){return t.num_of_links_in_page-e.num_of_links_in_page}),t.sort(function(e,t){return t.jaccard_similarity-e.jaccard_similarity}),t=be(t);for(var a=[],n=0;n<t.length;n++)null!=t[n]&&a.push(t[n]);var i=!1;a.length>=e.full_page_topic_edges_list_from_server.length&&(i=!0),e.setState({pages_ref:a,pages_in_search:[],is_more_pages_button_hidden:i}),e.page_displayed_so_far_index=a.length-1,e.top_page_topic_edges=t}function Re(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(y.a)(v.a.mark(function e(t){var a,n,i,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.connected_topics_edges,n=!1,i=0;case 3:if(!(i<a.length)){e.next=10;break}if(0==a[i].is_search_required){e.next=7;break}return n=!0,e.abrupt("break",10);case 7:i++,e.next=3;break;case 10:n&&(r=t.rabinKarp.wikiLinks_hashes_to_word_by_length,Be(t,r).then(function(){console.log("Search content success")}).catch(function(){console.log("Search content failed")}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(e,t){return Le.apply(this,arguments)}function Le(){return(Le=Object(y.a)(v.a.mark(function e(t,a){var n,i,r,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.top_page_topic_edges,i=6,r=0,s=0;case 4:if(!(s<n.length&&r<i)){e.next=14;break}if(1==n[s].was_page_searched){e.next=10;break}return e.next=8,k.a.get("/api/page_topic_edges/web_scrape/?pageID="+n[s].page._id+"&edgeID="+n[s]._id+"&force_scrape=true",{}).then(function(){var e=Object(y.a)(v.a.mark(function e(i){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(n[s],i.data.pageHTML,t);case 2:return n[s].was_page_searched=!0,e.next=5,a.forEach(function(e){e.forEach(function(e){var a=e.pages_hits[n[s].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})});case 5:r++;case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("page failed searched")});case 8:e.next=11;break;case 10:1==n[s].was_page_searched&&(a.forEach(function(e){e.forEach(function(e){var a=e.pages_hits[n[s].index];void 0!=a&&(t.connected_topics_edges[e.index_in_connected_topics_edges].linkHits+=a)})}),r++);case 11:s++,e.next=4;break;case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(e){var t=e.connected_topics_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.linkHits-e.linkHits}),t.sort(function(e,t){if(t.topic.topicName.length<3&&e.topic.topicName.length>=3)return-1}),t.sort(function(e,t){return t.liked_positive_points-e.liked_positive_points});for(var a=[],n=0;n<t.length&&n<10;n++){a.push({id:e.id,page:t[n].topic.topicName,partition:" | "}),e.id++}e.setState({expandedContents:a,is_show_more_content_hidden:!1,expandend_content_status:"",is_topic_loaded:!0,data_for_comments:{object_id:e.topic._id,object_collection_name:"topics",number_of_comments:e.topic.number_of_comments}}),e.expandedCon_to_history=a,e.save_to_history()}function De(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(y.a)(v.a.mark(function e(t){var a,n,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.connected_topics_edges,n=[],a.forEach(function(e){e.is_search_required&&n.push({_id:e._id,web_scrape_score:e.linkHits})}),n.length>0&&(i={edges:n},k.a.post("/api/topic_topic_edges/insert_topic_topic_edges_scores",i).then(function(e){console.log(e.data)}).catch(function(e){void 0==e.response?console.log("\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"):console.log(e.response.data)}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fe(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(y.a)(v.a.mark(function e(t,a){var n,i,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 1!=a&&(a=!1),e.next=3,fe(t);case 3:if(null==t.topic){e.next=8;break}return e.next=6,ve(t.curSearch,t);case 6:if(null==t.connected_topics_edges?a=!1:0==t.connected_topics_edges.length&&(a=!1),0==a)Pe(t),Ue(t),t.search_button_function_stop_search();else if(null!=t.page_topic_edges_from_server_to_use){for(Ee(t),n=[],i=0;i<t.connected_topics_edges.length;i++)t.connected_topics_edges[i].linkHits=0,n.push({topicName:t.connected_topics_edges[i].topic.topicName,index_in_connected_topics_edges:i});t.rabinKarp=new je(3001,20,t.page_topic_edges_from_server_to_use.length),t.rabinKarp.hashWikiLinks(n),t.jaccard_similarity=new we(20399,10,t.wikiText),t.pagesTempState=t.state.pages_in_search,750,r=setInterval(function(){0==t.pageSearchFinished&&0==t.did_user_ended_seach?t.setState({pages_in_search:t.pagesTempState}):(clearInterval(r),t.pageSearchFinished=!1,Pe(t),Re(t),Ue(t),De(t),t.search_button_function_stop_search())},750),Se(t)}else t.search_button_function_stop_search();case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Me=new L.a,He=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.search_button_function()},a.search_button_function=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!1,a.setState({search_button_function:function(){return a.search_button_function_stop_search()},search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"fa fa-spinner fa-spin",is_more_pages_button_hidden:!0,is_show_more_content_hidden:!0,expandend_content_status:"fa fa-spinner fa-spin",server_message:""}),a.deep_search();case 3:case"end":return e.stop()}},e)})),a.search_button_function_stop_search=Object(y.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.did_user_ended_seach=!0,a.setState({search_button_function:function(){return a.search_button_function()},simple_search_button_function:function(){return a.simple_search_button_function()},search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",simple_search_button_text:"\u05e1\u05d9\u05d9\u05dd \u05d7\u05d9\u05e4\u05d5\u05e9",search_button_iconClass:"",expandend_content_status:""});case 2:case"end":return e.stop()}},e)})),a.deep_search=function(){if(a.setState({expandedContents:[],pages_ref:[],ambigousData:[]}),a.state.is_simple_search_selected)var e=!1;else e=!0;Fe(Object(E.a)(Object(E.a)(a)),e)},a.history=e.history;var n=new URLSearchParams(window.location.search).get("search");a.curSearch=n,a.pages_and_texts=[],a.pagesFinishedScrape=0,a.token=Me.get("findel-auth-token")||"",a.pagesTempState=[],a.pageSearchFinished=!1,a.top_pages=null,a.rabinKarp=null,a.wikiLinksHashesToWordByLength=[],a.wordsMatriciesByLength=[],a.id=1;var i="",r=!1;if(void 0!=a.history.location.state){var s=a.history.location.state;null!=s.search_text_box&&(i=s.search_text_box)}else null!=n&&(i=n,r=!0);return a.page_topic_edges_from_server_to_use=[],a.full_page_topic_edges_list_from_server=[],a.page_displayed_so_far_index=0,a.state={search_text_box:i,pages_in_search:[],expandedContents:[],pages_ref:[],ambigousData:[],newID:1,search_button_text:"\u05d7\u05e4\u05e9 \u05ea\u05db\u05e0\u05d9\u05dd",search_button_iconClass:"",server_message:"",add_page_to_topic_input:"",add_topic_to_topic_input:"",add_page_to_topic_description:"",was_add_page_button_clicked:!1,was_add_topic_button_clicked:!1,is_more_pages_button_hidden:!0,is_simple_search_selected:!1,is_show_more_content_hidden:!0,expandend_content_status:"",is_topic_loaded:!1,data_for_comments:{object_id:"",object_collection_name:"",number_of_comments:0}},""!=i&&Fe(Object(E.a)(Object(E.a)(a)),r),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={color:"#F0F8FF",cursor:"pointer"};return i.a.createElement("div",{className:"SearchPage"},i.a.createElement("div",{style:{backgroundColor:"#0587c3"}},i.a.createElement("div",{className:"search_box_div"},i.a.createElement("img",{id:"findelTheme",src:"/publicComponents/findelTheme"}),i.a.createElement("div",null,i.a.createElement("input",{className:"text_input",id:"search_text_box",type:"text",value:this.state.search_text_box,onChange:function(t){return e.updateTXT(t)},onKeyPress:this.handleKeyPress}),i.a.createElement("button",{id:"searchBTN",name:"searchBTN",onClick:function(){return e.search_button_function()}},this.state.search_button_text," ",i.a.createElement("i",{className:this.state.search_button_iconClass})),i.a.createElement("br",null),i.a.createElement("input",{type:"radio",onClick:function(){return e.deep_search_radio_button_clicked()},checked:!this.state.is_simple_search_selected,value:""})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e2\u05de\u05d5\u05e7",i.a.createElement("input",{type:"radio",id:"simple_search_radio_button",onClick:function(){return e.simple_search_radio_button_clicked()},checked:this.state.is_simple_search_selected,value:""})," \u05d7\u05d9\u05e4\u05d5\u05e9 \u05e4\u05e9\u05d5\u05d8"),i.a.createElement("div",{id:"exContents"},i.a.createElement("text",{color:"white"},this.state.server_message)),i.a.createElement("div",{id:"exContents"},i.a.createElement(R,{expandedContents:this.state.expandedContents}),i.a.createElement("text",null,i.a.createElement("i",{className:this.state.expandend_content_status})),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",style:{color:"#F0F8FF"},href:"/Topic_page/"+this.curSearch,hidden:this.state.is_show_more_content_hidden},"\u05e2\u05d5\u05d3..."))),i.a.createElement("div",{className:"add_content_and_pages_div",style:{backgroundColor:"#0587c3"}},i.a.createElement("div",{className:"add_topic_to_topic_div",hidden:!this.state.was_add_topic_button_clicked},i.a.createElement("text",{style:t,onClick:function(){return e.add_topic_button_clicked(!1)}},"-\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),i.a.createElement("br",null),i.a.createElement("input",{className:"text_input",type:"text",value:this.state.add_topic_to_topic_input,onChange:function(t){return e.add_topic_to_topic_change_function(t)}}),i.a.createElement("button",{id:"add_topic_to_topic_button",onClick:function(){return e.connect_topic()}},"+")),i.a.createElement("div",{className:"add_topic_to_topic_div",hidden:this.state.was_add_topic_button_clicked},i.a.createElement("text",{onClick:function(){return e.add_topic_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d5\u05db\u05df \u05dc\u05e0\u05d5\u05e9\u05d0...")),i.a.createElement("div",{className:"add_page_to_topic_div",hidden:!this.state.was_add_page_button_clicked},i.a.createElement("text",{onClick:function(){return e.add_page_button_clicked(!1)},style:t},"-\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0: \xa0"),i.a.createElement("br",null),i.a.createElement("input",{className:"text_input",type:"text",id:"add_page_to_topic_url_input",placeholder:".....//:https",value:this.state.add_page_to_topic_input,onChange:function(t){return e.add_page_to_topic_change_function(t)}}),i.a.createElement("br",null),i.a.createElement("textarea",{className:"text_input",value:this.state.add_page_to_topic_description,placeholder:"\u05ea\u05d0\u05d5\u05e8 \u05d4\u05d0\u05ea\u05e8",onChange:function(t){return e.add_page_to_topic_change_description_function(t)}}),i.a.createElement("br",null),i.a.createElement("button",{id:"add_page_to_topic_button",onClick:function(){return e.add_page()}},"+")),i.a.createElement("div",{className:"add_page_to_topic_div",hidden:this.state.was_add_page_button_clicked},i.a.createElement("text",{onClick:function(){return e.add_page_button_clicked(!0)},style:t},"+\u05d4\u05d5\u05e1\u05e3 \u05d0\u05ea\u05e8 \u05dc\u05e0\u05d5\u05e9\u05d0...")))),i.a.createElement("div",{hidden:!this.state.is_topic_loaded,style:{textAlign:"right"}},i.a.createElement(ee,{data_for_comments:this.state.data_for_comments}),i.a.createElement("br",null)),i.a.createElement("div",{id:"pages_ref"},i.a.createElement(ce,{pages_ref:this.state.pages_ref}),i.a.createElement("button",{onClick:function(){return e.more_pages_clicked()},hidden:this.state.is_more_pages_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd...")),i.a.createElement("div",{id:"pages"},i.a.createElement(N,{pages_in_search:this.state.pages_in_search})),i.a.createElement("div",{id:"ambigous"},i.a.createElement(ge,{ambigousData:this.state.ambigousData})))}},{key:"updateTXT",value:function(e){this.setState({search_text_box:e.target.value}),this.curSearch=e.target.value}},{key:"deep_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!1})}},{key:"simple_search_radio_button_clicked",value:function(){this.setState({is_simple_search_selected:!0})}},{key:"add_page_to_topic_change_function",value:function(e){this.setState({add_page_to_topic_input:e.target.value})}},{key:"add_page_to_topic_change_description_function",value:function(e){this.setState({add_page_to_topic_description:e.target.value})}},{key:"add_page_button_clicked",value:function(e){this.setState({was_add_page_button_clicked:e})}},{key:"add_page",value:function(){var e=this,t={topicName:this.state.search_text_box,pageURL:this.state.add_page_to_topic_input,pageDescription:this.state.add_page_to_topic_description};k.a.post("/api/pages_to_topics/connect_page_to_topic",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"connect_topic",value:function(){var e=this,t={current_topicName:this.state.search_text_box,new_topicName:this.state.add_topic_to_topic_input};k.a.post("/api/topics_to_topics/connect_topic_to_topic",t,{headers:{"findel-auth-token":this.token}}).then(function(t){e.setState({server_message:t.data})}).catch(function(t){void 0==t.response?e.setState({server_message:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):e.setState({server_message:t.response.data})})}},{key:"add_topic_to_topic_change_function",value:function(e){this.setState({add_topic_to_topic_input:e.target.value})}},{key:"add_topic_button_clicked",value:function(e){this.setState({was_add_topic_button_clicked:e})}},{key:"more_pages_clicked",value:function(){for(var e=this.page_displayed_so_far_index+1;e<this.page_displayed_so_far_index+1+10&&e<this.full_page_topic_edges_list_from_server.length;e++)this.page_topic_edges_from_server_to_use.push(this.full_page_topic_edges_list_from_server[e]);Pe(this)}},{key:"save_to_history",value:function(){this.history.push({pathname:"/",search:"?search="+this.state.search_text_box,state:{search_text_box:this.state.search_text_box}})}}]),t}(n.Component),Ke=new L.a,Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={userName:"",password:"",serverMessage:""},Ke.set("findel-ServerMessage","",{path:"/"}),a.attampt=0,a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"LoginPage"},i.a.createElement("h1",null," Login "),i.a.createElement("text",null,this.state.serverMessage),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"text",value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"})),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"})),i.a.createElement("br",null),i.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05ea\u05d7\u05d1\u05e8"))}},{key:"handleUserNameChange",value:function(e){this.setState({userName:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:this.state.userName,password:this.state.password},e.next=3,k.a.post("/api/auth",a).then(function(e){t=e.data,Ke.set("findel-auth-token",t.token,{path:"/"}),n.history.goBack()}).catch(function(e){void 0==e.response?n.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):(n.attampt++,n.setState({serverMessage:e.response.data+" \u05e0\u05e1\u05d9\u05d5\u05df \u05de\u05e1\u05e4\u05e8: "+n.attampt}))});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Ye=function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"checkForms",value:function(){}},{key:"checkUserName",value:function(e,t){var a=t.state.successClass,n="";return e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.userNameBlured=!0),t.userNameBlured?t.setState({userName:e,userNameClass:a,userNameError:n}):t.setState({userName:e}),""==n}},{key:"checkFirstName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var i=0;i<e.length;i++){if(e.charAt(i)>="0"&&e.charAt(i)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.firstNameBlured=!0),t.firstNameBlured?t.setState({firstName:e,firstNameClass:a,firstNameError:n}):t.setState({firstName:e}),""==n}},{key:"checkLastName",value:function(e,t){var a=t.state.successClass,n="";e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9 \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea \u05e9\u05ea\u05d9 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4");for(var i=0;i<e.length;i++){if(e.charAt(i)>="0"&&e.charAt(i)<="9"){a=t.state.errorClass,n="\u05dc\u05d0 \u05d9\u05db\u05d5\u05dc\u05d5\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05e1\u05e4\u05e8\u05d5\u05ea \u05d1\u05e9\u05dd";break}e.length<2&&(a=t.state.errorClass,n="\u05e9\u05dd \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 2 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea")}return""==n&&(t.lastNameBlured=!0),t.lastNameBlured?t.setState({lastName:e,lastNameClass:a,lastNameError:n}):t.setState({lastName:e}),""==n}},{key:"checkEmail",value:function(e,t){var a=t.state.successClass,n="";if(""==e)a="form-control",n="";else if(e.length<5)a=t.state.errorClass,n="\u05d0\u05d9\u05de\u05d9\u05d9\u05dc \u05d7\u05d9\u05d9\u05d1 \u05dc\u05d4\u05d9\u05d5\u05ea 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea \u05d5\u05de\u05e2\u05dc\u05d4";else{for(var i=!1,r=0,s=0;s<e.length;s++)if(0==s){if(!(e.charAt(s)>"A"&&e.charAt(s)<"z"||e.charAt(s)>"0"&&e.charAt(s)<"9")){a=t.state.errorClass,n="\u05d0\u05d5\u05ea \u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05d0\u05d5\u05ea \u05d0\u05d5 \u05de\u05e1\u05e4\u05e8";break}}else{if("@"==e.charAt(s)){if(e.length-s<3){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}if(0!=i){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}i=!0}if("."==e.charAt(s)&&i){if("@"==e.charAt(s-1)||"."==e.charAt(s-1)||s==e.length-1){a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4";break}r++}}(0==i||r>2||0==r)&&(a=t.state.errorClass,n="\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4")}return""==n&&(t.emailBlured=!0),t.emailBlured?t.setState({email:e,emailClass:a,emailError:n}):t.setState({email:e}),""==n}},{key:"checkPassword",value:function(e,t){var a=t.state.successClass,n="";return e.length<=5&&(a=t.state.errorClass,n="\u05e1\u05d9\u05e1\u05de\u05d0 \u05d7\u05d9\u05d9\u05d1\u05ea \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 5 \u05d0\u05d5\u05ea\u05d9\u05d5\u05ea"),""==n&&(t.passwordBlured=!0),t.passwordBlured?t.setState({password:e,passwordClass:a,passwordError:n}):t.setState({password:e}),""==n}}]),e}(),ze=(a(179),a(412),new L.a),We=new Ye,Je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"==e.key&&a.handleSubmit()},a.history=e.history,a.state={email:"",emailClass:"form-control",password:"",passwordError:"",passwordClass:"form-control",serverMessage:"",errorClass:"form-control is-invalid",successClass:"form-control is-valid",userNameClass:"form-control",userNameError:"",userName:"",firstNameClass:"form-control",firstNameError:"",firstName:"",lastNameClass:"form-control",lastNameError:"",lastName:"",emailError:""},a.passwordBlured=!1,a.userNameBlured=!1,a.firstNameBlured=!1,a.emailBlured=!1,a.lastNameBlured=!1,ze.set("findel-ServerMessage","",{path:"/"}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t={color:"red"};return i.a.createElement("div",{className:"RegisterPage"},i.a.createElement("h1",null," \u05d4\u05e8\u05e9\u05de\u05d4 "),i.a.createElement("text",null,this.state.serverMessage),i.a.createElement("br",null),i.a.createElement("fieldset",{id:"group1"},i.a.createElement("input",{type:"radio",name:"group1",onClick:function(){return e.position_to_register("student")},value:"\u05ea\u05dc\u05de\u05d9\u05d3",defaultChecked:"true"})," \u05ea\u05dc\u05de\u05d9\u05d3 \xa0\xa0",i.a.createElement("input",{type:"radio",name:"group1",onClick:function(){return e.position_to_register("teacher")},value:"\u05de\u05d5\u05e8\u05d4"})," \u05de\u05d5\u05e8\u05d4 \xa0\xa0",i.a.createElement("input",{type:"radio",name:"group1",onClick:function(){return e.position_to_register("admin")},value:"\u05de\u05e0\u05d4\u05dc"})," \u05de\u05e0\u05d4\u05dc"),i.a.createElement("label",null,i.a.createElement("input",{type:"text",className:this.state.userNameClass,value:this.state.userName,onChange:function(t){return e.handleUserNameChange(t)},onBlur:function(t){return e.handleUserNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05db\u05d9\u05e0\u05d5\u05d9 \u05d1\u05d0\u05ea\u05e8"}),i.a.createElement("text",{style:t},this.state.userNameError)),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"password",className:this.state.passwordClass,value:this.state.password,onChange:function(t){return e.handlePasswordChange(t)},onBlur:function(t){return e.handlePasswordBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0"}),i.a.createElement("text",{style:t},this.state.passwordError)),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"text",className:this.state.emailClass,value:this.state.email,onChange:function(t){return e.handleEmailChange(t)},onBlur:function(t){return e.handleEmailBlur(t)},onKeyPress:this.handleKeyPress,placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc (\u05d0\u05d5\u05e4\u05e6\u05d9\u05d5\u05e0\u05d0\u05dc\u05d9)"}),i.a.createElement("text",{style:t},this.state.emailError)),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"text",className:this.state.firstNameClass,value:this.state.firstName,onChange:function(t){return e.handleFirstNameChange(t)},onBlur:function(t){return e.handleFirstNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05e4\u05e8\u05d8\u05d9"}),i.a.createElement("text",{style:t},this.state.firstNameError)),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("input",{type:"text",className:this.state.lastNameClass,value:this.state.lastName,onChange:function(t){return e.handleLastNameChange(t)},onBlur:function(t){return e.handleLastNameBlur(t)},onKeyPress:this.handleKeyPress,placeholder:" \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4"}),i.a.createElement("text",{style:t},this.state.lastNameError)),i.a.createElement("br",null),i.a.createElement("button",{name:"submitBTN",onClick:function(){return e.handleSubmit()}},"\u05d4\u05e8\u05e9\u05dd"))}},{key:"position_to_register",value:function(e){this.setState({position_to_register_val:e})}},{key:"handleUserNameBlur",value:function(e){this.userNameBlured=!0,this.handleUserNameChange(e)}},{key:"handleUserNameChange",value:function(e){We.checkUserName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleFirstNameChange",value:function(e){We.checkFirstName(e.target.value,this)}},{key:"handleFirstNameBlur",value:function(e){this.firstNameBlured=!0,this.handleFirstNameChange(e)}},{key:"handleLastNameBlur",value:function(e){this.lastNameBlured=!0,this.handleLastNameChange(e)}},{key:"handleLastNameChange",value:function(e){We.checkLastName(e.target.value,this)}},{key:"handleEmailChange",value:function(e){We.checkEmail(e.target.value,this)}},{key:"handleEmailBlur",value:function(e){this.emailBlured=!0,this.handleEmailChange(e)}},{key:"handlePasswordBlur",value:function(e){this.passwordBlured=!0,this.handlePasswordChange(e)}},{key:"handlePasswordChange",value:function(e){We.checkPassword(e.target.value,this)}},{key:"handleSubmit",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t,a,n,i,r,s,o,c,l,_=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.passwordBlured=!0,this.userNameBlured=!0,this.firstNameBlured=!0,this.emailBlured=!0,this.lastNameBlured=!0,t=We.checkEmail(this.state.email,this),a=We.checkFirstName(this.state.firstName,this),n=We.checkLastName(this.state.lastName,this),i=We.checkPassword(this.state.password,this),r=We.checkUserName(this.state.userName,this),!(t&&a&&n&&i&&r)){e.next=17;break}return o={email:this.state.email,password:this.state.password,userName:this.state.userName,lastName:this.state.lastName,firstName:this.state.firstName},""==this.state.email&&(o.email=void 0),c="admin"==this.state.position_to_register_val?"/api/users/createAdminAccount":"teacher"==this.state.position_to_register_val?"/api/users/createTeacherAccount":"/api/users/createStudentAccount",l=ze.get("findel-auth-token")||"",e.next=17,k.a.post(c,o,{headers:{"findel-auth-token":l}}).then(function(e){s=e.data,""!=(ze.get("findel-auth-token")||"")?_.setState({serverMessage:s.userName+" \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e0\u05e8\u05e9\u05dd \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}):(ze.set("findel-auth-token",s.token,{path:"/"}),_.history.goBack())}).catch(function(e){void 0==e.response?_.setState({serverMessage:"\u05d0\u05d9\u05df \u05d7\u05d9\u05d1\u05d5\u05e8 \u05dc\u05e9\u05e8\u05ea"}):_.setState({serverMessage:e.response.data})});case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),Xe=(a(413),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"search"},i.a.createElement("text",null," \u05e0\u05d5\u05e9\u05d0: ",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.search.topic.topicName},this.props.search.topic.topicName)),i.a.createElement("br",null),i.a.createElement("text",null,"\u05ea\u05d0\u05e8\u05d9\u05da:",i.a.createElement(M.a,{format:"DD/MM/YYYY HH:mm"},this.props.search.searchDate)),i.a.createElement("br",null),i.a.createElement("br",null))}}]),t}(n.Component));Xe.PropsTypes={search:w.a.object.isRequired};var Ge=Xe,Ve=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.searches.map(function(e){return i.a.createElement(Ge,{key:e.id,search:e})})}}]),t}(n.Component);Ve.PropsTypes={searches:w.a.array.isRequired};var Ze=Ve,$e=new L.a,et=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).state={searchHistory:[]};var n=$e.get("findel-auth-token")||"";return k.a.get("/api/user_data/search_history",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){e.reverse(),a.setHistory(e)}).catch(function(e){console.log(e);a.setHistory([])}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setHistory",value:function(e){this.setState({searchHistory:e})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{style:{backgroundColor:"#0587c3"}},i.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9")),i.a.createElement("div",null,i.a.createElement(Ze,{searches:this.state.searchHistory})))}}]),t}(n.Component),tt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"fav_page"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page.pageURL},this.props.page.pageURL))}}]),t}(n.Component);tt.PropsTypes={page:w.a.object.isRequired};var at=tt,nt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.pages.map(function(e){return i.a.createElement(at,{key:e._id,page:e})})}}]),t}(n.Component);nt.PropsTypes={pages:w.a.array.isRequired};var it=nt,rt=(a(414),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.favorites.map(function(e){return i.a.createElement("div",{className:"favorites_div"},i.a.createElement("text",null,e.topic.topicName,": ",i.a.createElement("br",null)),i.a.createElement(it,{key:e.topic._id,pages:e.pages}))})}}]),t}(n.Component));rt.PropsTypes={favorites:w.a.array.isRequired};var st=rt,ot=new L.a,ct=function(e){function t(e){var a;Object(o.a)(this,t);(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).state={favorites:[]};var n=ot.get("findel-auth-token")||"";return k.a.get("/api/user_data/favorites",{headers:{"findel-auth-token":n}}).then(function(e){return e.data}).then(function(e){a.setFavorites(e)}).catch(function(e){console.log(e);a.setFavorites([])}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setFavorites",value:function(e){this.setState({favorites:e})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"App",style:{backgroundColor:"#0587c3"}},i.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05e4\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd")),i.a.createElement("div",null,i.a.createElement(st,{favorites:this.state.favorites})))}}]),t}(n.Component),lt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.props.page.pageURL},this.props.page.pageURL),i.a.createElement("br",null))}}]),t}(n.Component);lt.PropsTypes={page:w.a.object.isRequired};var _t=lt,pt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domain.pages.map(function(e){return i.a.createElement(_t,{key:e.id,page:e})})}}]),t}(n.Component);pt.PropsTypes={domain:w.a.array.isRequired};var dt=pt,ut=(a(415),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains.map(function(e){return i.a.createElement("div",{className:"domains_div"},i.a.createElement("text",null,e.domainURL,": ",i.a.createElement("br",null)),"\u05d0\u05d4\u05d1\u05d5: (",e.liked_positive_points,") \xa0\xa0 \u05dc\u05d0 \u05d0\u05d4\u05d1\u05d5: (",e.liked_negative_points,")",i.a.createElement("br",null),"\u05d0\u05de\u05d9\u05df: (",e.credibility_positive_points,") \xa0\xa0 \u05dc\u05d0 \u05d0\u05de\u05d9\u05df: (",e.credibility_negative_points,") ",i.a.createElement("br",null),"\u05d7\u05d9\u05e0\u05d5\u05db\u05d9(",e.educational_positive_points,")\xa0\xa0 \u05dc\u05d0 \u05d7\u05d9\u05e0\u05d5\u05db\u05d9(",e.educational_negative_points,")",i.a.createElement("br",null),i.a.createElement(dt,{key:e.id,domain:e}),i.a.createElement("button",{onClick:e.request_pages_of_domain_function,hidden:e.is_more_pages_button_hidden},"\u05d0\u05ea\u05e8\u05d9\u05dd..."))})}}]),t}(n.Component));ut.PropsTypes={domains:w.a.array.isRequired};var mt=ut,ht=(a(416),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.domains_list.map(function(e){return i.a.createElement("div",{className:"list_div"},i.a.createElement("text",null,e.domainURL,i.a.createElement("br",null)))})}}]),t}(n.Component));ht.PropsTypes={domains_list:w.a.array.isRequired};var gt=ht,ft=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).request_pages_of_domain=function(e){k.a.get("/api/domains/domain_pages/?id="+e).then(function(e){return e.data}).then(function(e){e.pages.forEach(function(e){e.id=a.id,a.id++});for(var t=a.state.domains,n=0;n<t.length;n++)if(t[n]._id==e._id){t[n].pages=e.pages,t[n].is_more_pages_button_hidden=!0;break}a.setState({domains:t})}).catch(function(e){console.log(e)})};return a.state={domains:[],not_educational_or_credibal_domains:[],all_positive_domains:[]},a.id=1,k.a.get("/api/domains/request_domains").then(function(e){return e.data}).then(function(e){e.sort(function(e,t){return t.educational_positive_points-e.educational_positive_points}),e.sort(function(e,t){return t.credibility_positive_points-e.credibility_positive_points}),e.sort(function(e,t){return t.liked_positive_points-e.liked_positive_points});var t=[],n=[];e.forEach(function(e){e.id=a.id,e.pages=[],e.request_pages_of_domain_function=function(){return a.request_pages_of_domain(e._id)},e.is_more_pages_button_hidden=!1,a.id++,e.educational_positive_points-e.educational_negative_points>=1&&e.credibility_positive_points-e.credibility_negative_points>=1&&e.liked_positive_points-e.liked_negative_points>=1&&n.push(e),(e.credibility_positive_points-e.credibility_negative_points<0||e.educational_positive_points-e.educational_negative_points<0)&&t.push(e)}),a.setState({domains:e,not_educational_or_credibal_domains:t,all_positive_domains:n})}).catch(function(e){console.log(e),a.setState({domains:[],not_educational_or_credibal_domains:[],all_positive_domains:[]})}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"Domains",style:{backgroundColor:"#0587c3"}},i.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white"}},"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd")),i.a.createElement("div",null,i.a.createElement(mt,{domains:this.state.domains})),i.a.createElement("div",{style:{"text-align":"right"}},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("text",null,"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd:"),i.a.createElement(gt,{domains_list:this.state.all_positive_domains}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("text",null,"\u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd \u05dc\u05d0 \u05d7\u05d9\u05e0\u05d5\u05db\u05d9\u05d9\u05dd \u05d0\u05d5 \u05dc\u05d0 \u05d0\u05de\u05d9\u05e0\u05d9\u05dd:"),i.a.createElement(gt,{domains_list:this.state.not_educational_or_credibal_domains})))}}]),t}(n.Component);a(417),a(418);function kt(e,t,a){var n=t+"_upArrowColor",i=t+"_downArrowColor",r=e.state[n],s=e.state[i],o=0;"up"==a?"green"!=r&&(o=1):"red"!=s&&(o=2);var c={edgeID:e.props.topic_topic_edge._id,rank_type:t,rank_code:o};k.a.post("/api/topic_topic_edges/rank_topic_topic_edge",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var r=a.data,s=new Date(r.ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==r.ranking_id&&0!=r.rank_code)return;if(s-e.last_ranking_timeStamp<0)return}e.last_ranking_id=r.ranking_id,e.last_ranking_timeStamp=s;var o="edge_"+t+"_negative_points",c={};c["edge_"+t+"_positive_points"]=r.positive_points,c[o]=r.negative_points,0==r.rank_code?(c[n]="black",c[i]="black"):1==r.rank_code?(c[n]="green",c[i]="black"):(c[n]="black",c[i]="red"),c.rank_code=r.rank_code,e.setState(c)}).catch(function(t){e.setState({rank_error:t.response.data})})}var bt=new L.a,vt=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(_.a)(t).call(this,e));var n="black",i="black",r=a.props.topic_topic_edge.rankings;return r||(r=[]),r.forEach(function(e){"liked"==e.rank_type&&(1==e.rank_code?n="green":i="red")}),a.state={liked_upArrowColor:n,liked_downArrowColor:i,rank_error:"",edge_liked_positive_points:a.props.topic_topic_edge.liked_positive_points,edge_liked_negative_points:a.props.topic_topic_edge.liked_negative_points},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=bt.get("findel-auth-token")||"",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"topic"},i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.topic_topic_edge.topic.topicName},i.a.createElement("text",{style:{marginRight:"10px"}},this.props.topic_topic_edge.topic.topicName,i.a.createElement("br",null))),i.a.createElement("text",{style:{marginRight:"10px"}},"\u05d3\u05d9\u05e8\u05d5\u05d2 \u05de\u05e9\u05ea\u05de\u05e9\u05d9\u05dd: (",this.state.edge_liked_negative_points,")",i.a.createElement(T.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}}),i.a.createElement(T.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.edge_liked_positive_points,")",i.a.createElement("br",null)),i.a.createElement("text",{style:{marginRight:"10px"}},"\u05e6\u05d9\u05d5\u05df \u05de\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05d0\u05ea\u05e8\u05d9\u05dd: ",this.props.topic_topic_edge.web_scrape_score,i.a.createElement("br",null)),i.a.createElement("text",{style:{marginRight:"10px"}},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d0\u05d7\u05e8\u05d5\u05df: ",this.props.topic_topic_edge.last_web_scrape,i.a.createElement("br",null)),i.a.createElement("text",{style:{color:"red"}},this.state.rank_error))}},{key:"rank_click_up",value:function(e){kt(this,e,"up")}},{key:"rank_click_down",value:function(e){kt(this,e,"down")}}]),t}(n.Component);vt.PropsTypes={topic:w.a.object.isRequired};var yt=vt,Et=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.topic_topic_edges.map(function(e){return i.a.createElement(yt,{key:e.id,topic_topic_edge:e})})}}]),t}(n.Component);Et.PropsTypes={topic_topic_edges:w.a.array.isRequired};var jt=Et,wt=new L.a,Ct=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).props.match.params.topic;return a.state={topic:{topic_topic_edges:[],data_for_comments:{object_id:"",object_collection_name:"",number_of_comments:0}}},a.id=1,a.token=wt.get("findel-auth-token")||"",k.a.get("/api/topic_topic_edges/retrieve_topic_and_connected_topics/?topicName="+n,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){var t=e.topic_topic_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.liked_positive_points-e.liked_positive_points}),t.forEach(function(e){e.id=a.id,a.id++}),e.data_for_comments={object_id:e._id,object_collection_name:"topics",number_of_comments:e.number_of_comments},a.setState({topic:e})}).catch(function(e){console.log(e)}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Topics"},i.a.createElement("div",{style:{backgroundColor:"#0587c3"}},i.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05ea\u05db\u05e0\u05d9\u05dd \u05e7\u05e9\u05d5\u05e8\u05d9\u05dd")),i.a.createElement("div",null,i.a.createElement("h3",{id:"topic_headLine"},this.state.topic.topicName),i.a.createElement(ee,{data_for_comments:this.state.topic.data_for_comments}),i.a.createElement(jt,{topic_topic_edges:this.state.topic.topic_topic_edges})))}}]),t}(n.Component);a(419),a(420);function xt(e,t,a){var n=t+"_upArrowColor",i=t+"_downArrowColor",r=e.state[n],s=e.state[i],o=0;"up"==a?"green"!=r&&(o=1):"red"!=s&&(o=2);var c={edgeID:e.state.edgeID,rank_type:t,rank_code:o};k.a.post("/api/page_topic_edges/rank_page_topic_edge",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var r=a.data,s=new Date(r.ranking_date);if(null!=e.last_ranking_timeStamp){if(e.last_ranking_id==r.ranking_id&&0!=r.rank_code)return;if(s-e.last_ranking_timeStamp<0)return}e.last_ranking_id=r.ranking_id,e.last_ranking_timeStamp=s;var o=t+"_negative_points",c={};c[t+"_positive_points"]=r.positive_points,c[o]=r.negative_points,0==r.rank_code?(c[n]="black",c[i]="black"):1==r.rank_code?(c[n]="green",c[i]="black"):(c[n]="black",c[i]="red"),c.rank_code=r.rank_code;var l=U(r.positive_points,r.negative_points);c[t+"_bar_style"]=l,e.setState(c)}).catch(function(t){e.setState({rank_error:t.response.data})})}var Ot=new L.a,Nt=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(_.a)(t).call(this,e));var n="black",i="black",r=a.props.connected_topic_edge.rankings;r&&r.forEach(function(e){"liked"==e.rank_type&&(1==e.rank_code?n="green":i="red")});var s=null,c=!0;null!=a.props.connected_topic_edge.jaccard_similarity&&(s=a.props.connected_topic_edge.jaccard_similarity,c=!1);var p=null,d=!0;null!=a.props.connected_topic_edge.num_of_links_in_page&&(p=a.props.connected_topic_edge.num_of_links_in_page,d=!1);var u=U(a.props.connected_topic_edge.liked_positive_points,a.props.connected_topic_edge.liked_negative_points);return a.state={edgeID:a.props.connected_topic_edge._id,liked_upArrowColor:n,liked_downArrowColor:i,rank_error:"",liked_positive_points:a.props.connected_topic_edge.liked_positive_points,liked_negative_points:a.props.connected_topic_edge.liked_negative_points,rank_code:a.props.connected_topic_edge.userrank_code,jaccard_similarity:s,is_jaccard_hidden:c,num_of_links_in_page:p,is_num_of_links_in_page_hidden:d,liked_bar_style:u},a.last_ranking_timeStamp=null,a.last_ranking_id=null,a.token=Ot.get("findel-auth-token")||"",a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"connected_topic"},i.a.createElement("a",{className:"topic_link",target:"_blank",rel:"noopener noreferrer",href:"/?search="+this.props.connected_topic_edge.topic.topicName},this.props.connected_topic_edge.topic.topicName),i.a.createElement("br",null),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",this.state.liked_negative_points,")",i.a.createElement(T.a,{icon:g.a,color:this.state.liked_downArrowColor,onClick:function(){return e.rank_click_down("liked")}})),i.a.createElement("td",{className:"progress_bar_td"},i.a.createElement(q.a,{variant:this.state.liked_bar_style[1],now:this.state.liked_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.liked_upArrowColor,onClick:function(){return e.rank_click_up("liked")}}),"(",this.state.liked_positive_points,")",i.a.createElement(T.a,{icon:B.a})))),i.a.createElement("text",{style:{color:"red"}},this.state.rank_error),i.a.createElement("div",{hidden:this.state.is_jaccard_hidden},i.a.createElement("text",null,"\u05d3\u05de\u05d9\u05d5\u05df \u05d1\u05d9\u05df \u05e2\u05de\u05d5\u05d3 \u05d5\u05d9\u05e7\u05d9\u05e4\u05d3\u05d9\u05d4 \u05dc\u05d3\u05e3: ",this.state.jaccard_similarity)),i.a.createElement("div",{hidden:this.state.is_num_of_links_in_page_hidden},i.a.createElement("text",null,"\u05de\u05e1\u05e4\u05e8 \u05dc\u05d9\u05e0\u05e7\u05d9\u05dd \u05d1\u05d5\u05d9\u05e7\u05d9\u05e4\u05d3\u05d9\u05d4 \u05d4\u05de\u05d5\u05e4\u05d9\u05e2\u05d9\u05dd \u05d1\u05d0\u05ea\u05e8: ",this.state.num_of_links_in_page)))}},{key:"rank_click_up",value:function(e){xt(this,e,"up")}},{key:"rank_click_down",value:function(e){xt(this,e,"down")}}]),t}(n.Component);Nt.PropsTypes={topic:w.a.object.isRequired};var St=Nt,At=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.connected_topics_edges.map(function(e){return i.a.createElement(St,{key:e.id,connected_topic_edge:e})})}}]),t}(n.Component);At.PropsTypes={topics:w.a.array.isRequired};var Pt=At;function Rt(e,t,a){var n=t+"_upArrowColor",i=t+"_downArrowColor",r=e.state[n],s=e.state[i],o=0;"up"==a?"green"!=r&&(o=1):"red"!=s&&(o=2);var c={pageID:e.state._id,rank_type:t,rank_code:o};k.a.post("/api/pages/rank_page",c,{headers:{"findel-auth-token":e.token}}).then(function(a){var r=a.data,s=new Date(r.ranking_date);if(null!=e.last_ranking_timeStamp){if(e["last_ranking_id_"+t]==r.ranking_id&&0!=r.rank_code)return;if(s-e["last_ranking_timeStamp_"+t]<0)return}e["last_ranking_id_"+t]=r.ranking_id,e["last_ranking_timeStamp_"+t]=s;var o="domain_"+t+"_positive_points",c=t+"_negative_points",l="domain_"+t+"_negative_points",_={};_[t+"_positive_points"]=r.positive_points,_[o]=r.domain_positive_points,_[c]=r.negative_points,_[l]=r.domain_negative_points,0==r.rank_code?(_[n]="black",_[i]="black"):1==r.rank_code?(_[n]="green",_[i]="black"):(_[n]="black",_[i]="red"),_.rank_code=r.rank_code;var p=U(r.positive_points,r.negative_points),d=U(r.domain_positive_points,r.domain_negative_points);_[t+"_bar_style"]=p,_["domain_"+t+"_bar_style"]=d,e.setState(_)}).catch(function(t){null!=t.response?e.setState({rank_error:t.response.data}):e.setState({rank_error:t.message})})}var Tt=new L.a,Bt=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(_.a)(t).call(this,e))).props.match.params.encoded_pageURL;try{var i=decodeURI(n)}catch(r){console.log("failed to decode url")}return a.state={page_loading:!0,liked_bar_style:[0,"info"],credibility_bar_style:[0,"info"],educational_bar_style:[0,"info"],domain_liked_bar_style:[0,"info"],domain_credibility_bar_style:[0,"info"],domain_educational_bar_style:[0,"info"],pageID:"",topics:[],pageURL:i,domain:{domainURL:""},page_topic_edges:[],data_for_comments:{object_id:"",object_collection_name:"",number_of_comments:0}},a.id=1,a.token=Tt.get("findel-auth-token")||"",i&&k.a.get("/api/pages/page_data/?encoded_pageURL="+n,{headers:{"findel-auth-token":a.token}}).then(function(e){return e.data}).then(function(e){var t=e.page_topic_edges;t.sort(function(e,t){return t.web_scrape_score-e.web_scrape_score}),t.sort(function(e,t){return t.liked_positive_points-e.liked_positive_points}),t.forEach(function(t){t.id=a.id,t.page={pageURL:e.pageURL},a.id++});var n="black",i="black",r="black",s="black";e.rankings&&e.rankings.forEach(function(e){"credibility"==e.rank_type&&(1==e.rank_code?n="green":i="red"),"educational"==e.rank_type&&(1==e.rank_code?r="green":s="red")});var o=U(e.liked_positive_points,e.liked_negative_points),c=U(e.credibility_positive_points,e.credibility_negative_points),l=U(e.educational_positive_points,e.educational_negative_points),_=U(e.domain.liked_positive_points,e.domain.liked_negative_points),p=U(e.domain.credibility_positive_points,e.domain.credibility_negative_points),d=U(e.domain.educational_positive_points,e.domain.educational_negative_points);e.credibility_upArrowColor=n,e.credibility_downArrowColor=i,e.educational_upArrowColor=r,e.educational_downArrowColor=s,e.rank_error="",e.domain_liked_positive_points=e.domain.liked_positive_points,e.domain_credibility_positive_points=e.domain.credibility_positive_points,e.domain_educational_positive_points=e.domain.educational_positive_points,e.domain_liked_negative_points=e.domain.liked_negative_points,e.domain_credibility_negative_points=e.domain.credibility_negative_points,e.domain_educational_negative_points=e.domain.educational_negative_points,e.liked_bar_style=o,e.credibility_bar_style=c,e.educational_bar_style=l,e.domain_liked_bar_style=_,e.domain_credibility_bar_style=p,e.domain_educational_bar_style=d,a.last_ranking_timeStamp_credibility=null,a.last_ranking_id_credibility=null,a.last_ranking_timeStamp_educational=null,a.last_ranking_id_educational=null,e.data_for_comments={object_id:e._id,object_collection_name:"pages",number_of_comments:e.number_of_comments},e.page_loading=!1,a.setState(e)}).catch(function(e){console.log(e)}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"page_page"},i.a.createElement("div",{className:"Page",style:{backgroundColor:"#0587c3"}},i.a.createElement("h1",{style:{fontSize:"10",textAlign:"center",color:"white",padding:"10px"}},"\u05e4\u05e8\u05d8\u05d9\u05dd \u05e2\u05dc \u05d4\u05d3\u05e3")),i.a.createElement("div",null,i.a.createElement("h3",{id:"page_headLine"},this.state.pageURL),i.a.createElement("div",{hidden:this.state.page_loading},i.a.createElement("text",null,this.state.pageSnap),i.a.createElement("br",null),i.a.createElement("text",null,"\u05e0\u05d9\u05e7\u05d5\u05d3 \u05d4\u05d3\u05e3:"),i.a.createElement("br",null),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.liked_negative_points),")",i.a.createElement(T.a,{icon:g.e,color:"black"})),i.a.createElement("td",{className:"progress_bar_td"},i.a.createElement(q.a,{variant:this.state.liked_bar_style[1],now:this.state.liked_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.e,color:"black"}),"(",te(this.state.liked_positive_points),")",i.a.createElement(T.a,{icon:B.a}))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.credibility_negative_points),")",i.a.createElement(T.a,{icon:g.a,color:this.state.credibility_downArrowColor,onClick:function(){return e.rank_click_down("credibility")}})),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.credibility_bar_style[1],now:this.state.credibility_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.credibility_upArrowColor,onClick:function(){return e.rank_click_up("credibility")}}),"(",te(this.state.credibility_positive_points),")",i.a.createElement(T.a,{icon:g.h}))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.educational_negative_points),")",i.a.createElement(T.a,{icon:g.a,color:this.state.educational_downArrowColor,onClick:function(){return e.rank_click_down("educational")}})),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.educational_bar_style[1],now:this.state.educational_bar_style[0]})),i.a.createElement("td",{align:"right"},i.a.createElement(T.a,{icon:g.b,color:this.state.educational_upArrowColor,onClick:function(){return e.rank_click_up("educational")}}),"(",te(this.state.educational_positive_points),")",i.a.createElement(T.a,{icon:g.c})))),i.a.createElement("table",null,i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_liked_negative_points),")"),i.a.createElement("td",{className:"progress_bar_domain_td"},i.a.createElement(q.a,{variant:this.state.domain_liked_bar_style[1],now:this.state.domain_liked_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_liked_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:B.a})))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_credibility_negative_points),")"),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.domain_credibility_bar_style[1],now:this.state.domain_credibility_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_credibility_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:g.h})))),i.a.createElement("tr",null,i.a.createElement("td",{align:"left"},"(",te(this.state.domain_educational_negative_points),")"),i.a.createElement("td",null,i.a.createElement(q.a,{variant:this.state.domain_educational_bar_style[1],now:this.state.domain_educational_bar_style[0]})),i.a.createElement("td",{align:"right"},"(",te(this.state.domain_educational_positive_points),")",i.a.createElement(T.a,{icon:g.g}),i.a.createElement("small",null,i.a.createElement(T.a,{icon:g.c}))))),i.a.createElement("br",null),i.a.createElement(ee,{data_for_comments:this.state.data_for_comments}),i.a.createElement(Pt,{connected_topics_edges:this.state.page_topic_edges}))))}},{key:"rank_click_up",value:function(e){Rt(this,e,"up")}},{key:"rank_click_down",value:function(e){Rt(this,e,"down")}}]),t}(n.Component),Lt=a(74),Ut=Object(Lt.a)();Ut.listen(function(e,t){console.log("The current URL is ".concat(e.pathname).concat(e.search).concat(e.hash)),console.log("The last navigation action was ".concat(t)),window.location=e.pathname+e.search});var Dt=new L.a;m.b.add(h.a,g.d,g.f);var qt=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(l.a)(this,Object(_.a)(t).call(this,e));var n=Dt.get("findelUserName")||"",i=Dt.get("findelUserPosition")||"",r=!1,s={display:"none"},c={display:"inline"};if(""==n&&(r=!0,s={display:"inline"},c={display:"none"}),a.state={userName:n,hideLogoutBTN:r,displayLoggingComponents:s,displayUserDataComponents:c},""==n){var p=Dt.get("findel-auth-token")||"";if(""!=p){var d={headers:{"findel-auth-token":p}};k.a.get("/api/users/me",d).then(function(e){n=e.data.userName,i=e.data.position;var t={display:"none"};c={display:"inline"},"student"!=i&&(t={display:"inline"}),a.setState({userName:n,hideLogoutBTN:!1,displayLoggingComponents:{display:"none"},displayRegisterComponents:t,displayUserDataComponents:c}),Dt.set("findelUserName",n,{path:"/"}),Dt.set("findelUserPosition",i,{path:"/"})}).catch(function(e){alert(e.data)})}}return a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement(d.a,null,i.a.createElement("div",null,i.a.createElement("text",null,"\u05e9\u05dc\u05d5\u05dd ",this.state.userName),i.a.createElement("div",{className:"leftDiv"},i.a.createElement("button",{className:"emptyBTN",name:"logoutBTN",onClick:function(){return e.logout()},hidden:this.state.hideLogoutBTN},"\u05d4\u05ea\u05e0\u05ea\u05e7")),i.a.createElement("br",null),i.a.createElement("text",{className:"link_text",onClick:function(){return e.push_to_history_and_go("/")}},"\u05d7\u05e4\u05e9"),i.a.createElement("text",{className:"link_text",style:this.state.displayLoggingComponents,onClick:function(){return e.push_to_history_and_go("/Login_page")}}," - \u05d4\u05ea\u05d7\u05d1\u05e8"),i.a.createElement("text",{className:"link_text",style:this.state.displayRegisterComponents,onClick:function(){return e.push_to_history_and_go("/Register_page")}}," -  \u05e8\u05d9\u05e9\u05d5\u05dd "),i.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserSearchHistory_page")}}," - \u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05ea \u05d7\u05d9\u05e4\u05d5\u05e9"),i.a.createElement("text",{className:"link_text",style:this.state.displayUserDataComponents,onClick:function(){return e.push_to_history_and_go("/UserFavorites_page")}}," - \u05d3\u05e4\u05d9\u05dd \u05e9\u05d3\u05d9\u05e8\u05d2\u05ea\u05d9 \u05db\u05d8\u05d5\u05d1\u05d9\u05dd"),i.a.createElement("text",{className:"link_text",onClick:function(){return e.push_to_history_and_go("/Domains_page")}}," - \u05d3\u05d5\u05de\u05d9\u05d9\u05e0\u05d9\u05dd"),i.a.createElement("hr",null),i.a.createElement(u.a,{exact:!0,path:"/",component:He}),i.a.createElement(u.a,{path:"/Login_page",component:Qe}),i.a.createElement(u.a,{path:"/Register_page",component:Je}),i.a.createElement(u.a,{path:"/UserSearchHistory_page",component:et}),i.a.createElement(u.a,{path:"/UserFavorites_page",component:ct}),i.a.createElement(u.a,{path:"/Domains_page",component:ft}),i.a.createElement(u.a,{path:"/Topic_page/:topic",component:Ct}),i.a.createElement(u.a,{path:"/Page_page/:encoded_pageURL",component:Bt}))))}},{key:"push_to_history_and_go",value:function(e){Ut.push(e),window.location=e}},{key:"logout",value:function(){Dt.set("findel-auth-token","",{path:"/"}),Dt.set("findelUserName","",{path:"/"}),window.location="/"}}]),t}(n.Component);s.a.render(i.a.createElement(qt,null),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.410c8a32.chunk.js.map